/*! For license information please see index.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("G2Plot"),require("G6"),require("GISDK"),require("Graphin"),require("React"),require("ReactDOM"),require("antd")):"function"==typeof define&&define.amd?define(["G2Plot","G6","GISDK","Graphin","React","ReactDOM","antd"],t):"object"==typeof exports?exports.GI_ASSETS_BASIC=t(require("G2Plot"),require("G6"),require("GISDK"),require("Graphin"),require("React"),require("ReactDOM"),require("antd")):e.GI_ASSETS_BASIC=t(e.G2Plot,e.G6,e.GISDK,e.Graphin,e.React,e.ReactDOM,e.antd)}(self,((e,t,n,i,o,r,a)=>(()=>{var c={258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i,o=n(24),r=n.n(o);e=n.hmd(e),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&i(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a={left:{left:"100%",top:"30%",height:"80px",width:"38px",borderColor:"transparent transparent transparent var(--border-color)"},right:{right:"100%",top:"30%",height:"80px",width:"38px",borderColor:"transparent var(--border-color) transparent transparent"},bottom:{left:"10%",bottom:"calc(100% + 1px)",height:"38px",width:"80px",borderColor:"transparent transparent var(--border-color) transparent"}},c={left:{left:"calc(100% - 1px)",top:"30%",height:"80px",width:"38px",borderColor:"transparent transparent transparent var(--background-color)"},right:{right:"calc(100% - 1px)",top:"30%",height:"80px",width:"38px",borderColor:"transparent var(--background-color) transparent transparent "},bottom:{left:"10%",bottom:"100%",height:"38px",width:"80px",borderColor:"transparent transparent var(--background-color)  transparent"}},l={left:{left:"-15px",top:"8px"},right:{left:"5px",top:"8px"},bottom:{left:"15px",top:"0"}},s=function(e){var t=e.handleClick,n=e.type,i=Object.assign({position:"absolute",borderStyle:"solid",borderWidth:"20px"},a[n]),o=Object.assign({position:"absolute",cursor:"pointer",borderStyle:"solid",borderWidth:"20px"},c[n]),s=Object.assign({position:"absolute"},l[n]);return r().createElement(r().Fragment,null,r().createElement("div",{style:i}),r().createElement("div",{onClick:t,style:o},r().createElement("span",{style:s},"bottom"===n?"=":"||")))},d=s;const u=d;var f,p;(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(a,"backStyleMap","/Users/pomelo/Desktop/github/GraphInsight/packages/gi-common-components/es/Handler/index.js"),f.register(c,"handlerStyleMap","/Users/pomelo/Desktop/github/GraphInsight/packages/gi-common-components/es/Handler/index.js"),f.register(l,"textStyleMap","/Users/pomelo/Desktop/github/GraphInsight/packages/gi-common-components/es/Handler/index.js"),f.register(s,"Handler","/Users/pomelo/Desktop/github/GraphInsight/packages/gi-common-components/es/Handler/index.js"),f.register(d,"default","/Users/pomelo/Desktop/github/GraphInsight/packages/gi-common-components/es/Handler/index.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},608:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var c in n)i.call(n,c)&&n[c]&&e.push(c)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},942:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function r(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function c(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||o,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var s=Array.isArray(n);return s===Array.isArray(e)?s?l.arrayMerge(e,n,l):function(e,t,n){var o={};return n.isMergeableObject(e)&&r(e).forEach((function(t){o[t]=i(e[t],n)})),r(t).forEach((function(r){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(a(e,r)&&n.isMergeableObject(t[r])?o[r]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(r,n)(e[r],t[r],n):o[r]=i(t[r],n))})),o}(e,n,l):i(n,l)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;e.exports=l},84:function(e,t,n){!function(e){"use strict";var t;function i(){}function o(){o.init.call(this)}function r(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function a(e,t,n){if(t)e.call(n);else for(var i=e.length,o=m(e,i),r=0;r<i;++r)o[r].call(n)}function c(e,t,n,i){if(t)e.call(n,i);else for(var o=e.length,r=m(e,o),a=0;a<o;++a)r[a].call(n,i)}function l(e,t,n,i,o){if(t)e.call(n,i,o);else for(var r=e.length,a=m(e,r),c=0;c<r;++c)a[c].call(n,i,o)}function s(e,t,n,i,o,r){if(t)e.call(n,i,o,r);else for(var a=e.length,c=m(e,a),l=0;l<a;++l)c[l].call(n,i,o,r)}function d(e,t,n,i){if(t)e.apply(n,i);else for(var o=e.length,r=m(e,o),a=0;a<o;++a)r[a].apply(n,i)}function u(e,t,n,o){var a,c,l,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((c=e._events)?(c.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),c=e._events),l=c[t]):(c=e._events=new i,e._eventsCount=0),l){if("function"==typeof l?l=c[t]=o?[n,l]:[l,n]:o?l.unshift(n):l.push(n),!l.warned&&(a=r(e))&&a>0&&l.length>a){l.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=l.length,s=d,"function"==typeof console.warn?console.warn(s):console.log(s)}}else l=c[t]=n,++e._eventsCount;return e}function f(e,t,n){var i=!1;function o(){e.removeListener(t,o),i||(i=!0,n.apply(e,arguments))}return o.listener=n,o}function p(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}i.prototype=Object.create(null),o.EventEmitter=o,o.usingDomains=!1,o.prototype.domain=void 0,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.init=function(){this.domain=null,o.usingDomains&&t.active&&t.Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new i,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return r(this)},o.prototype.emit=function(e){var t,n,i,o,r,u,f,p="error"===e;if(u=this._events)p=p&&null==u.error;else if(!p)return!1;if(f=this.domain,p){if(t=arguments[1],!f){if(t instanceof Error)throw t;var m=new Error('Uncaught, unspecified "error" event. ('+t+")");throw m.context=t,m}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=f,t.domainThrown=!1,f.emit("error",t),!1}if(!(n=u[e]))return!1;var h="function"==typeof n;switch(i=arguments.length){case 1:a(n,h,this);break;case 2:c(n,h,this,arguments[1]);break;case 3:l(n,h,this,arguments[1],arguments[2]);break;case 4:s(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),r=1;r<i;r++)o[r-1]=arguments[r];d(n,h,this,o)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,o,r,a,c;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(n=o[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new i:(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){c=n[a].listener,r=a;break}if(r<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new i,this;delete o[e]}else!function(e,t){for(var n=t,i=n+1,o=e.length;i<o;n+=1,i+=1)e[n]=e[i];e.pop()}(n,r);o.removeListener&&this.emit("removeListener",e,c||t)}return this},o.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new i,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new i:delete n[e]),this;if(0===arguments.length){for(var o,r=Object.keys(n),a=0;a<r.length;++a)"removeListener"!==(o=r[a])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new i,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},o.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var h=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},g=[],_=[],y="undefined"!=typeof Uint8Array?Uint8Array:Array,b=!1;function v(){b=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)g[t]=e[t],_[e.charCodeAt(t)]=t;_["-".charCodeAt(0)]=62,_["_".charCodeAt(0)]=63}function x(e,t,n){for(var i,o=[],r=t;r<n;r+=3)i=(e[r]<<16)+(e[r+1]<<8)+e[r+2],o.push(g[(a=i)>>18&63]+g[a>>12&63]+g[a>>6&63]+g[63&a]);var a;return o.join("")}function w(e){var t;b||v();for(var n=e.length,i=n%3,o="",r=[],a=16383,c=0,l=n-i;c<l;c+=a)r.push(x(e,c,c+a>l?l:c+a));return 1===i?(t=e[n-1],o+=g[t>>2],o+=g[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=g[t>>10],o+=g[t>>4&63],o+=g[t<<2&63],o+="="),r.push(o),r.join("")}function E(e,t,n,i,o){var r,a,c=8*o-i-1,l=(1<<c)-1,s=l>>1,d=-7,u=n?o-1:0,f=n?-1:1,p=e[t+u];for(u+=f,r=p&(1<<-d)-1,p>>=-d,d+=c;d>0;r=256*r+e[t+u],u+=f,d-=8);for(a=r&(1<<-d)-1,r>>=-d,d+=i;d>0;a=256*a+e[t+u],u+=f,d-=8);if(0===r)r=1-s;else{if(r===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),r-=s}return(p?-1:1)*a*Math.pow(2,r-i)}function I(e,t,n,i,o,r){var a,c,l,s=8*r-o-1,d=(1<<s)-1,u=d>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,m=i?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+u>=1?f/l:f*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=d?(c=0,a=d):a+u>=1?(c=(t*l-1)*Math.pow(2,o),a+=u):(c=t*Math.pow(2,u-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&c,p+=m,c/=256,o-=8);for(a=a<<o|c,s+=o;s>0;e[n+p]=255&a,p+=m,a/=256,s-=8);e[n+p-m]|=128*h}var C={}.toString,S=Array.isArray||function(e){return"[object Array]"==C.call(e)};function O(){return k.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function A(e,t){if(O()<t)throw new RangeError("Invalid typed array length");return k.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=k.prototype:(null===e&&(e=new k(t)),e.length=t),e}function k(e,t,n){if(!(k.TYPED_ARRAY_SUPPORT||this instanceof k))return new k(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return F(this,e)}return T(this,e,t,n)}function T(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),k.TYPED_ARRAY_SUPPORT?(e=t).__proto__=k.prototype:e=j(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!k.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|M(t,n),o=(e=A(e,i)).write(t,n);return o!==i&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(R(t)){var n=0|P(t.length);return 0===(e=A(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?A(e,0):j(e,t);if("Buffer"===t.type&&S(t.data))return j(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function N(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function F(e,t){if(N(t),e=A(e,t<0?0:0|P(t)),!k.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function j(e,t){var n=t.length<0?0:0|P(t.length);e=A(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function P(e){if(e>=O())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O().toString(16)+" bytes");return 0|e}function R(e){return!(null==e||!e._isBuffer)}function M(e,t){if(R(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return le(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return se(e).length;default:if(i)return le(e).length;t=(""+t).toLowerCase(),i=!0}}function G(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return J(this,t,n);case"utf8":case"utf-8":return Y(this,t,n);case"ascii":return Q(this,t,n);case"latin1":case"binary":return Z(this,t,n);case"base64":return W(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function L(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function D(e,t,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=k.from(t,i)),R(t))return 0===t.length?-1:B(e,t,n,i,o);if("number"==typeof t)return t&=255,k.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):B(e,[t],n,i,o);throw new TypeError("val must be string, number or Buffer")}function B(e,t,n,i,o){var r,a=1,c=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,c/=2,l/=2,n/=2}function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var d=-1;for(r=n;r<c;r++)if(s(e,r)===s(t,-1===d?0:r-d)){if(-1===d&&(d=r),r-d+1===l)return d*a}else-1!==d&&(r-=r-d),d=-1}else for(n+l>c&&(n=c-l),r=n;r>=0;r--){for(var u=!0,f=0;f<l;f++)if(s(e,r+f)!==s(t,f)){u=!1;break}if(u)return r}return-1}function z(e,t,n,i){n=Number(n)||0;var o=e.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var c=parseInt(t.substr(2*a,2),16);if(isNaN(c))return a;e[n+a]=c}return a}function q(e,t,n,i){return de(le(t,e.length-n),e,n,i)}function U(e,t,n,i){return de(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function $(e,t,n,i){return U(e,t,n,i)}function V(e,t,n,i){return de(se(t),e,n,i)}function H(e,t,n,i){return de(function(e,t){for(var n,i,o,r=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,o=n%256,r.push(o),r.push(i);return r}(t,e.length-n),e,n,i)}function W(e,t,n){return 0===t&&n===e.length?w(e):w(e.slice(t,n))}function Y(e,t,n){n=Math.min(e.length,n);for(var i=[],o=t;o<n;){var r,a,c,l,s=e[o],d=null,u=s>239?4:s>223?3:s>191?2:1;if(o+u<=n)switch(u){case 1:s<128&&(d=s);break;case 2:128==(192&(r=e[o+1]))&&(l=(31&s)<<6|63&r)>127&&(d=l);break;case 3:r=e[o+1],a=e[o+2],128==(192&r)&&128==(192&a)&&(l=(15&s)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:r=e[o+1],a=e[o+2],c=e[o+3],128==(192&r)&&128==(192&a)&&128==(192&c)&&(l=(15&s)<<18|(63&r)<<12|(63&a)<<6|63&c)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),o+=u}return function(e){var t=e.length;if(t<=K)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=K));return n}(i)}k.TYPED_ARRAY_SUPPORT=void 0===h.TYPED_ARRAY_SUPPORT||h.TYPED_ARRAY_SUPPORT,k.poolSize=8192,k._augment=function(e){return e.__proto__=k.prototype,e},k.from=function(e,t,n){return T(null,e,t,n)},k.TYPED_ARRAY_SUPPORT&&(k.prototype.__proto__=Uint8Array.prototype,k.__proto__=Uint8Array),k.alloc=function(e,t,n){return function(e,t,n,i){return N(t),t<=0?A(e,t):void 0!==n?"string"==typeof i?A(e,t).fill(n,i):A(e,t).fill(n):A(e,t)}(null,e,t,n)},k.allocUnsafe=function(e){return F(null,e)},k.allocUnsafeSlow=function(e){return F(null,e)},k.isBuffer=ue,k.compare=function(e,t){if(!R(e)||!R(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,r=Math.min(n,i);o<r;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0},k.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(e,t){if(!S(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return k.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=k.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var r=e[n];if(!R(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(i,o),o+=r.length}return i},k.byteLength=M,k.prototype._isBuffer=!0,k.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)L(this,t,t+1);return this},k.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)L(this,t,t+3),L(this,t+1,t+2);return this},k.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)L(this,t,t+7),L(this,t+1,t+6),L(this,t+2,t+5),L(this,t+3,t+4);return this},k.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Y(this,0,e):G.apply(this,arguments)},k.prototype.equals=function(e){if(!R(e))throw new TypeError("Argument must be a Buffer");return this===e||0===k.compare(this,e)},k.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},k.prototype.compare=function(e,t,n,i,o){if(!R(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),c=Math.min(r,a),l=this.slice(i,o),s=e.slice(t,n),d=0;d<c;++d)if(l[d]!==s[d]){r=l[d],a=s[d];break}return r<a?-1:a<r?1:0},k.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},k.prototype.indexOf=function(e,t,n){return D(this,e,t,n,!0)},k.prototype.lastIndexOf=function(e,t,n){return D(this,e,t,n,!1)},k.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return z(this,e,t,n);case"utf8":case"utf-8":return q(this,e,t,n);case"ascii":return U(this,e,t,n);case"latin1":case"binary":return $(this,e,t,n);case"base64":return V(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;function Q(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(127&e[o]);return i}function Z(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(e[o]);return i}function J(e,t,n){var i,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var r="",a=t;a<n;++a)r+=(i=e[a])<16?"0"+i.toString(16):i.toString(16);return r}function X(e,t,n){for(var i=e.slice(t,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function ee(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function te(e,t,n,i,o,r){if(!R(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function ne(e,t,n,i){t<0&&(t=65535+t+1);for(var o=0,r=Math.min(e.length-n,2);o<r;++o)e[n+o]=(t&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function ie(e,t,n,i){t<0&&(t=4294967295+t+1);for(var o=0,r=Math.min(e.length-n,4);o<r;++o)e[n+o]=t>>>8*(i?o:3-o)&255}function oe(e,t,n,i,o,r){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function re(e,t,n,i,o){return o||oe(e,0,n,4),I(e,t,n,i,23,4),n+4}function ae(e,t,n,i,o){return o||oe(e,0,n,8),I(e,t,n,i,52,8),n+8}k.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),k.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=k.prototype;else{var o=t-e;n=new k(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+e]}return n},k.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||ee(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return i},k.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||ee(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i},k.prototype.readUInt8=function(e,t){return t||ee(e,1,this.length),this[e]},k.prototype.readUInt16LE=function(e,t){return t||ee(e,2,this.length),this[e]|this[e+1]<<8},k.prototype.readUInt16BE=function(e,t){return t||ee(e,2,this.length),this[e]<<8|this[e+1]},k.prototype.readUInt32LE=function(e,t){return t||ee(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},k.prototype.readUInt32BE=function(e,t){return t||ee(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},k.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||ee(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},k.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||ee(e,t,this.length);for(var i=t,o=1,r=this[e+--i];i>0&&(o*=256);)r+=this[e+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},k.prototype.readInt8=function(e,t){return t||ee(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},k.prototype.readInt16LE=function(e,t){t||ee(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},k.prototype.readInt16BE=function(e,t){t||ee(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},k.prototype.readInt32LE=function(e,t){return t||ee(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},k.prototype.readInt32BE=function(e,t){return t||ee(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},k.prototype.readFloatLE=function(e,t){return t||ee(e,4,this.length),E(this,e,!0,23,4)},k.prototype.readFloatBE=function(e,t){return t||ee(e,4,this.length),E(this,e,!1,23,4)},k.prototype.readDoubleLE=function(e,t){return t||ee(e,8,this.length),E(this,e,!0,52,8)},k.prototype.readDoubleBE=function(e,t){return t||ee(e,8,this.length),E(this,e,!1,52,8)},k.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||te(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},k.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||te(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},k.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,1,255,0),k.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},k.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,2,65535,0),k.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ne(this,e,t,!0),t+2},k.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,2,65535,0),k.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ne(this,e,t,!1),t+2},k.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,4,4294967295,0),k.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):ie(this,e,t,!0),t+4},k.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,4,4294967295,0),k.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):ie(this,e,t,!1),t+4},k.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);te(this,e,t,n,o-1,-o)}var r=0,a=1,c=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===c&&0!==this[t+r-1]&&(c=1),this[t+r]=(e/a>>0)-c&255;return t+n},k.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);te(this,e,t,n,o-1,-o)}var r=n-1,a=1,c=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===c&&0!==this[t+r+1]&&(c=1),this[t+r]=(e/a>>0)-c&255;return t+n},k.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,1,127,-128),k.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},k.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,2,32767,-32768),k.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ne(this,e,t,!0),t+2},k.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,2,32767,-32768),k.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ne(this,e,t,!1),t+2},k.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,4,2147483647,-2147483648),k.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):ie(this,e,t,!0),t+4},k.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||te(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),k.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):ie(this,e,t,!1),t+4},k.prototype.writeFloatLE=function(e,t,n){return re(this,e,t,!0,n)},k.prototype.writeFloatBE=function(e,t,n){return re(this,e,t,!1,n)},k.prototype.writeDoubleLE=function(e,t,n){return ae(this,e,t,!0,n)},k.prototype.writeDoubleBE=function(e,t,n){return ae(this,e,t,!1,n)},k.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o,r=i-n;if(this===e&&n<t&&t<i)for(o=r-1;o>=0;--o)e[o+t]=this[o+n];else if(r<1e3||!k.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},k.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!k.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var a=R(e)?e:le(new k(e,i).toString()),c=a.length;for(r=0;r<n-t;++r)this[r+t]=a[r%c]}return this};var ce=/[^+\/0-9A-Za-z-_]/g;function le(e,t){var n;t=t||1/0;for(var i=e.length,o=null,r=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function se(e){return function(e){var t,n,i,o,r,a;b||v();var c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");r="="===e[c-2]?2:"="===e[c-1]?1:0,a=new y(3*c/4-r),i=r>0?c-4:c;var l=0;for(t=0,n=0;t<i;t+=4,n+=3)o=_[e.charCodeAt(t)]<<18|_[e.charCodeAt(t+1)]<<12|_[e.charCodeAt(t+2)]<<6|_[e.charCodeAt(t+3)],a[l++]=o>>16&255,a[l++]=o>>8&255,a[l++]=255&o;return 2===r?(o=_[e.charCodeAt(t)]<<2|_[e.charCodeAt(t+1)]>>4,a[l++]=255&o):1===r&&(o=_[e.charCodeAt(t)]<<10|_[e.charCodeAt(t+1)]<<4|_[e.charCodeAt(t+2)]>>2,a[l++]=o>>8&255,a[l++]=255&o),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(ce,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function de(e,t,n,i){for(var o=0;o<i&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function ue(e){return null!=e&&(!!e._isBuffer||fe(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&fe(e.slice(0,0))}(e))}function fe(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function pe(){throw new Error("setTimeout has not been defined")}function me(){throw new Error("clearTimeout has not been defined")}var he=pe,ge=me;function _e(e){if(he===setTimeout)return setTimeout(e,0);if((he===pe||!he)&&setTimeout)return he=setTimeout,setTimeout(e,0);try{return he(e,0)}catch(t){try{return he.call(null,e,0)}catch(t){return he.call(this,e,0)}}}"function"==typeof h.setTimeout&&(he=setTimeout),"function"==typeof h.clearTimeout&&(ge=clearTimeout);var ye,be=[],ve=!1,xe=-1;function we(){ve&&ye&&(ve=!1,ye.length?be=ye.concat(be):xe=-1,be.length&&Ee())}function Ee(){if(!ve){var e=_e(we);ve=!0;for(var t=be.length;t;){for(ye=be,be=[];++xe<t;)ye&&ye[xe].run();xe=-1,t=be.length}ye=null,ve=!1,function(e){if(ge===clearTimeout)return clearTimeout(e);if((ge===me||!ge)&&clearTimeout)return ge=clearTimeout,clearTimeout(e);try{ge(e)}catch(t){try{return ge.call(null,e)}catch(t){return ge.call(this,e)}}}(e)}}function Ie(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];be.push(new Ce(e,t)),1!==be.length||ve||_e(Ee)}function Ce(e,t){this.fun=e,this.array=t}Ce.prototype.run=function(){this.fun.apply(null,this.array)};var Se=h.performance||{};Se.now||Se.mozNow||Se.msNow||Se.oNow||Se.webkitNow;var Oe="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Ae=/%[sdj%]/g;function ke(e){if(!ze(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(je(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,r=String(e).replace(Ae,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),a=i[n];n<o;a=i[++n])Be(a)||!$e(a)?r+=" "+a:r+=" "+je(a);return r}function Te(e,t){if(qe(h.process))return function(){return Te(e,t).apply(this,arguments)};var n=!1;return function(){return n||(console.error(t),n=!0),e.apply(this,arguments)}}var Ne,Fe={};function je(e,t){var n={seen:[],stylize:Re};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),De(t)?n.showHidden=t:t&&Ke(n,t),qe(n.showHidden)&&(n.showHidden=!1),qe(n.depth)&&(n.depth=2),qe(n.colors)&&(n.colors=!1),qe(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Pe),Me(n,e,n.depth)}function Pe(e,t){var n=je.styles[t];return n?"["+je.colors[n][0]+"m"+e+"["+je.colors[n][1]+"m":e}function Re(e,t){return e}function Me(e,t,n){if(e.customInspect&&t&&We(t.inspect)&&t.inspect!==je&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return ze(i)||(i=Me(e,i,n)),i}var o=function(e,t){if(qe(t))return e.stylize("undefined","undefined");if(ze(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return i=t,"number"==typeof i?e.stylize(""+t,"number"):De(t)?e.stylize(""+t,"boolean"):Be(t)?e.stylize("null","null"):void 0;var i}(e,t);if(o)return o;var r=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(t)),He(t)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return Ge(t);if(0===r.length){if(We(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(Ue(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Ve(t))return e.stylize(Date.prototype.toString.call(t),"date");if(He(t))return Ge(t)}var l,s,d="",u=!1,f=["{","}"];return s=t,Array.isArray(s)&&(u=!0,f=["[","]"]),We(t)&&(d=" [Function"+(t.name?": "+t.name:"")+"]"),Ue(t)&&(d=" "+RegExp.prototype.toString.call(t)),Ve(t)&&(d=" "+Date.prototype.toUTCString.call(t)),He(t)&&(d=" "+Ge(t)),0!==r.length||u&&0!=t.length?n<0?Ue(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=u?function(e,t,n,i,o){for(var r=[],a=0,c=t.length;a<c;++a)Qe(t,String(a))?r.push(Le(e,t,n,i,String(a),!0)):r.push("");return o.forEach((function(o){o.match(/^\d+$/)||r.push(Le(e,t,n,i,o,!0))})),r}(e,t,n,a,r):r.map((function(i){return Le(e,t,n,a,i,u)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(l,d,f)):f[0]+d+f[1]}function Ge(e){return"["+Error.prototype.toString.call(e)+"]"}function Le(e,t,n,i,o,r){var a,c,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(c=e.stylize("[Setter]","special")),Qe(i,o)||(a="["+o+"]"),c||(e.seen.indexOf(l.value)<0?(c=Be(n)?Me(e,l.value,null):Me(e,l.value,n-1)).indexOf("\n")>-1&&(c=r?c.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n")):c=e.stylize("[Circular]","special")),qe(a)){if(r&&o.match(/^\d+$/))return c;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+c}function De(e){return"boolean"==typeof e}function Be(e){return null===e}function ze(e){return"string"==typeof e}function qe(e){return void 0===e}function Ue(e){return $e(e)&&"[object RegExp]"===Ye(e)}function $e(e){return"object"==typeof e&&null!==e}function Ve(e){return $e(e)&&"[object Date]"===Ye(e)}function He(e){return $e(e)&&("[object Error]"===Ye(e)||e instanceof Error)}function We(e){return"function"==typeof e}function Ye(e){return Object.prototype.toString.call(e)}function Ke(e,t){if(!t||!$e(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ze(){this.head=null,this.tail=null,this.length=0}je.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},je.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Ze.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},Ze.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},Ze.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},Ze.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ze.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},Ze.prototype.concat=function(e){if(0===this.length)return k.alloc(0);if(1===this.length)return this.head.data;for(var t=k.allocUnsafe(e>>>0),n=this.head,i=0;n;)n.data.copy(t,i),i+=n.data.length,n=n.next;return t};var Je=k.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Xe(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!Je(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=tt;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=nt;break;default:return void(this.write=et)}this.charBuffer=new k(6),this.charReceived=0,this.charLength=0}function et(e){return e.toString(this.encoding)}function tt(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function nt(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}Xe.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i,o=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,o),o-=this.charReceived),o=(t+=e.toString(this.encoding,0,o)).length-1,(i=t.charCodeAt(o))>=55296&&i<=56319){var r=this.surrogateSize;return this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),e.copy(this.charBuffer,0,0,r),t.substring(0,o)}return t},Xe.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},Xe.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,i=this.charBuffer,o=this.encoding;t+=i.slice(0,n).toString(o)}return t},rt.ReadableState=ot;var it=function(e){if(qe(Ne)&&(Ne=""),e=e.toUpperCase(),!Fe[e])if(new RegExp("\\b"+e+"\\b","i").test(Ne)){Fe[e]=function(){var t=ke.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else Fe[e]=function(){};return Fe[e]}("stream");function ot(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Pt&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ze,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Xe(e.encoding),this.encoding=e.encoding)}function rt(e){if(!(this instanceof rt))return new rt(e);this._readableState=new ot(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),o.call(this)}function at(e,t,n,i,o){var r=function(e,t){var n=null;return ue(t)||"string"==typeof t||null==t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(t,n);if(r)e.emit("error",r);else if(null===n)t.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,st(e)}}(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!o){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&o){var c=new Error("stream.unshift() after end event");e.emit("error",c)}else{var l;!t.decoder||o||i||(n=t.decoder.write(n),l=!t.objectMode&&0===n.length),o||(t.reading=!1),l||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,o?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&st(e))),function(e,t){t.readingMore||(t.readingMore=!0,Ie(ut,e,t))}(e,t)}else o||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}Oe(rt,o),rt.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=k.from(e,t),t=""),at(this,n,e,t,!1)},rt.prototype.unshift=function(e){return at(this,this._readableState,e,"",!0)},rt.prototype.isPaused=function(){return!1===this._readableState.flowing},rt.prototype.setEncoding=function(e){return this._readableState.decoder=new Xe(e),this._readableState.encoding=e,this};var ct=8388608;function lt(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=ct?e=ct:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function st(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(it("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Ie(dt,e):dt(e))}function dt(e){it("emit readable"),e.emit("readable"),mt(e)}function ut(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(it("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function ft(e){it("readable nexttick read 0"),e.read(0)}function pt(e,t){t.reading||(it("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),mt(e),t.flowing&&!t.reading&&e.read(0)}function mt(e){var t=e._readableState;for(it("flow",t.flowing);t.flowing&&null!==e.read(););}function ht(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,o=n.data;for(e-=o.length;n=n.next;){var r=n.data,a=e>r.length?r.length:e;if(a===r.length?o+=r:o+=r.slice(0,e),0==(e-=a)){a===r.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=r.slice(a));break}++i}return t.length-=i,o}(e,t):function(e,t){var n=k.allocUnsafe(e),i=t.head,o=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var r=i.data,a=e>r.length?r.length:e;if(r.copy(n,n.length-e,0,a),0==(e-=a)){a===r.length?(++o,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=r.slice(a));break}++o}return t.length-=o,n}(e,t),i}(e,t.buffer,t.decoder),n);var n}function gt(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Ie(_t,t,e))}function _t(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function yt(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function bt(){}function vt(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function xt(e,t){Object.defineProperty(this,"buffer",{get:Te((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Pt&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?Ie(o,i):o(i),e._writableState.errorEmitted=!0,e.emit("error",i)}(e,n,i,t,o);else{var r=Ot(n);r||n.corked||n.bufferProcessing||!n.bufferedRequest||St(e,n),i?Ie(Ct,e,n,r,o):Ct(e,n,r,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Tt(this)}function wt(e){if(!(this instanceof wt||this instanceof Pt))return new wt(e);this._writableState=new xt(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),o.call(this)}function Et(e,t,n,i,o){n=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=k.from(t,n)),t}(t,n,i),k.isBuffer(n)&&(i="buffer");var r=t.objectMode?1:n.length;t.length+=r;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest=new vt(n,i,o),c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else It(e,t,!1,r,n,i,o);return a}function It(e,t,n,i,o,r,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,r,t.onwrite),t.sync=!1}function Ct(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),kt(e,t)}function St(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),r=t.corkedRequestsFree;r.entry=n;for(var a=0;n;)o[a]=n,n=n.next,a+=1;It(e,t,!0,t.length,o,"",r.finish),t.pendingcb++,t.lastBufferedRequest=null,r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new Tt(t)}else{for(;n;){var c=n.chunk,l=n.encoding,s=n.callback;if(It(e,t,!1,t.objectMode?1:c.length,c,l,s),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function Ot(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function At(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function kt(e,t){var n=Ot(t);return n&&(0===t.pendingcb?(At(e,t),t.finished=!0,e.emit("finish")):At(e,t)),n}function Tt(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var i=t.entry;for(t.entry=null;i;){var o=i.callback;e.pendingcb--,o(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}rt.prototype.read=function(e){it("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return it("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?gt(this):st(this),null;if(0===(e=lt(e,t))&&t.ended)return 0===t.length&&gt(this),null;var i,o=t.needReadable;return it("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&it("length less than watermark",o=!0),t.ended||t.reading?it("reading or ended",o=!1):o&&(it("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=lt(n,t))),null===(i=e>0?ht(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&gt(this)),null!==i&&this.emit("data",i),i},rt.prototype._read=function(e){this.emit("error",new Error("not implemented"))},rt.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,it("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end?s:a;function r(e){it("onunpipe"),e===n&&s()}function a(){it("onend"),e.end()}i.endEmitted?Ie(o):n.once("end",o),e.on("unpipe",r);var c=function(e){return function(){var t=e._readableState;it("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,mt(e))}}(n);e.on("drain",c);var l=!1;function s(){it("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",r),n.removeListener("end",a),n.removeListener("end",s),n.removeListener("data",u),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}var d=!1;function u(t){it("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==yt(i.pipes,e))&&!l&&(it("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function f(t){it("onerror",t),h(),e.removeListener("error",f),0===function(e,t){return e.listeners(t).length}(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",m),h()}function m(){it("onfinish"),e.removeListener("close",p),h()}function h(){it("unpipe"),n.unpipe(e)}return n.on("data",u),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",p),e.once("finish",m),e.emit("pipe",n),i.flowing||(it("pipe resume"),n.resume()),e},rt.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this);return this}var r=yt(t.pipes,e);return-1===r||(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},rt.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&st(this):Ie(ft,this))}return n},rt.prototype.addListener=rt.prototype.on,rt.prototype.resume=function(){var e=this._readableState;return e.flowing||(it("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ie(pt,e,t))}(this,e)),this},rt.prototype.pause=function(){return it("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(it("pause"),this._readableState.flowing=!1,this.emit("pause")),this},rt.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this;for(var o in e.on("end",(function(){if(it("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&i.push(e)}i.push(null)})),e.on("data",(function(o){it("wrapped data"),t.decoder&&(o=t.decoder.write(o)),t.objectMode&&null==o||(t.objectMode||o&&o.length)&&(i.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));return function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,i.emit.bind(i,t))})),i._read=function(t){it("wrapped _read",t),n&&(n=!1,e.resume())},i},rt._fromList=ht,wt.WritableState=xt,Oe(wt,o),xt.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},wt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},wt.prototype.write=function(e,t,n){var i=this._writableState,o=!1;return"function"==typeof t&&(n=t,t=null),k.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=bt),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),Ie(t,n)}(this,n):function(e,t,n,i){var o=!0,r=!1;return null===n?r=new TypeError("May not write null values to stream"):k.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r&&(e.emit("error",r),Ie(i,r),o=!1),o}(this,i,e,n)&&(i.pendingcb++,o=Et(this,i,e,t,n)),o},wt.prototype.cork=function(){this._writableState.corked++},wt.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||St(this,e))},wt.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},wt.prototype._write=function(e,t,n){n(new Error("not implemented"))},wt.prototype._writev=null,wt.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,kt(e,t),n&&(t.finished?Ie(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n)},Oe(Pt,rt);for(var Nt=Object.keys(wt.prototype),Ft=0;Ft<Nt.length;Ft++){var jt=Nt[Ft];Pt.prototype[jt]||(Pt.prototype[jt]=wt.prototype[jt])}function Pt(e){if(!(this instanceof Pt))return new Pt(e);rt.call(this,e),wt.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Rt)}function Rt(){this.allowHalfOpen||this._writableState.ended||Ie(Mt,this)}function Mt(e){e.end()}function Gt(e){this.afterTransform=function(t,n){return function(e,t,n){var i=e._transformState;i.transforming=!1;var o=i.writecb;if(!o)return e.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!=n&&e.push(n),o(t);var r=e._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&e._read(r.highWaterMark)}(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Lt(e){if(!(this instanceof Lt))return new Lt(e);Pt.call(this,e),this._transformState=new Gt(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){Dt(t,e)})):Dt(t)}))}function Dt(e,t){if(t)return e.emit("error",t);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function Bt(e){if(!(this instanceof Bt))return new Bt(e);Lt.call(this,e)}function zt(){o.call(this)}function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Vt(e,t,n){return t&&$t(e.prototype,t),n&&$t(e,n),e}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Ht(e,t,n[t])}))}return e}function Yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}function Qt(e,t){return Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qt(e,t)}function Zt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return function(e){if(Array.isArray(e))return e}(e)||en(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||en(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function en(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}Oe(Lt,Pt),Lt.prototype.push=function(e,t){return this._transformState.needTransform=!1,Pt.prototype.push.call(this,e,t)},Lt.prototype._transform=function(e,t,n){throw new Error("Not implemented")},Lt.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var o=this._readableState;(i.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},Lt.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Oe(Bt,Lt),Bt.prototype._transform=function(e,t,n){n(null,e)},Oe(zt,o),zt.Readable=rt,zt.Writable=wt,zt.Duplex=Pt,zt.Transform=Lt,zt.PassThrough=Bt,zt.Stream=zt,zt.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",r),e._isStdio||t&&!1===t.end||(n.on("end",c),n.on("close",l));var a=!1;function c(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(d(),0===o.listenerCount(this,"error"))throw e}function d(){n.removeListener("data",i),e.removeListener("drain",r),n.removeListener("end",c),n.removeListener("close",l),n.removeListener("error",s),e.removeListener("error",s),n.removeListener("end",d),n.removeListener("close",d),e.removeListener("close",d)}return n.on("error",s),e.on("error",s),n.on("end",d),n.on("close",d),e.on("close",d),e.emit("pipe",n),e};var tn="\n",nn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},on="__lodash_hash_undefined__",rn="[object Function]",an="[object GeneratorFunction]",cn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ln=/^\w*$/,sn=/^\./,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,un=/\\(\\)?/g,fn=/^\[object .+?Constructor\]$/,pn="object"==typeof nn&&nn&&nn.Object===Object&&nn,mn="object"==typeof self&&self&&self.Object===Object&&self,hn=pn||mn||Function("return this")();var gn,_n=Array.prototype,yn=Function.prototype,bn=Object.prototype,vn=hn["__core-js_shared__"],xn=(gn=/[^.]+$/.exec(vn&&vn.keys&&vn.keys.IE_PROTO||""))?"Symbol(src)_1."+gn:"",wn=yn.toString,En=bn.hasOwnProperty,In=bn.toString,Cn=RegExp("^"+wn.call(En).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sn=hn.Symbol,On=_n.splice,An=Dn(hn,"Map"),kn=Dn(Object,"create"),Tn=Sn?Sn.prototype:void 0,Nn=Tn?Tn.toString:void 0;function Fn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function jn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Pn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Rn(e,t){for(var n=e.length;n--;)if((i=e[n][0])===(o=t)||i!=i&&o!=o)return n;var i,o;return-1}function Mn(e,t){for(var n=0,i=(t=function(e,t){if(Un(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Vn(e))||ln.test(e)||!cn.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:(o=t,Un(o)?o:Bn(o))).length;null!=e&&n<i;)e=e[zn(t[n++])];var o;return n&&n==i?e:void 0}function Gn(e){return!(!$n(e)||(t=e,xn&&xn in t))&&(function(e){var t=$n(e)?In.call(e):"";return t==rn||t==an}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Cn:fn).test(function(e){if(null!=e){try{return wn.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function Ln(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Dn(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Gn(n)?n:void 0}Fn.prototype.clear=function(){this.__data__=kn?kn(null):{}},Fn.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Fn.prototype.get=function(e){var t=this.__data__;if(kn){var n=t[e];return n===on?void 0:n}return En.call(t,e)?t[e]:void 0},Fn.prototype.has=function(e){var t=this.__data__;return kn?void 0!==t[e]:En.call(t,e)},Fn.prototype.set=function(e,t){return this.__data__[e]=kn&&void 0===t?on:t,this},jn.prototype.clear=function(){this.__data__=[]},jn.prototype.delete=function(e){var t=this.__data__,n=Rn(t,e);return!(n<0||(n==t.length-1?t.pop():On.call(t,n,1),0))},jn.prototype.get=function(e){var t=this.__data__,n=Rn(t,e);return n<0?void 0:t[n][1]},jn.prototype.has=function(e){return Rn(this.__data__,e)>-1},jn.prototype.set=function(e,t){var n=this.__data__,i=Rn(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},Pn.prototype.clear=function(){this.__data__={hash:new Fn,map:new(An||jn),string:new Fn}},Pn.prototype.delete=function(e){return Ln(this,e).delete(e)},Pn.prototype.get=function(e){return Ln(this,e).get(e)},Pn.prototype.has=function(e){return Ln(this,e).has(e)},Pn.prototype.set=function(e,t){return Ln(this,e).set(e,t),this};var Bn=qn((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Vn(e))return Nn?Nn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return sn.test(e)&&n.push(""),e.replace(dn,(function(e,t,i,o){n.push(i?o.replace(un,"$1"):t||e)})),n}));function zn(e){if("string"==typeof e||Vn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function qn(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a),a};return n.cache=new(qn.Cache||Pn),n}qn.Cache=Pn;var Un=Array.isArray;function $n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Vn(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==In.call(e)}var Hn=function(e,t,n){var i=null==e?void 0:Mn(e,t);return void 0===i?n:i};var Wn=function e(t,n,i){var o=Array.isArray(n)?n:n.split("."),r=Jt(o),a=r[0],c=r.slice(1);return Wt({},t,Ht({},a,o.length>1?e(t[a]||{},c,i):i))},Yn=function e(t,n){var i=Array.isArray(n)?n:n.split("."),o=Jt(i),r=o[0],a=o.slice(1);return"object"!==qt(t[r])?t:1===i.length?Object.keys(t).filter((function(e){return e!==r})).reduce((function(e,n){return Object.assign(e,Ht({},n,t[n]))}),{}):Object.keys(t).reduce((function(n,i){return Wt({},n,Ht({},i,i!==r?t[i]:e(t[r],a)))}),{})},Kn=function(e,t){var n=!0;return e.reduce((function(e,i){return null==i&&(i=""),n?(n=!1,"".concat(i)):"".concat(e).concat(t).concat(i)}),"")},Qn=function(e,t){try{return e.push.apply(e,Xt(t)),e}catch(n){return e.concat(t)}},Zn=function(e,t,n){return void 0===e[t]?n:e[t]},Jn=Kn,Xn=Qn,ei=function(){function e(t){Ut(this,e),this.opts=this.preprocessOpts(t)}return Vt(e,[{key:"preprocessOpts",value:function(e){var t=Object.assign({},e);return t.transforms=Array.isArray(t.transforms)?t.transforms:t.transforms?[t.transforms]:[],t.delimiter=t.delimiter||",",t.eol=t.eol||tn,t.quote="string"==typeof t.quote?t.quote:'"',t.escapedQuote="string"==typeof t.escapedQuote?t.escapedQuote:"".concat(t.quote).concat(t.quote),t.header=!1!==t.header,t.includeEmptyRows=t.includeEmptyRows||!1,t.withBOM=t.withBOM||!1,t}},{key:"preprocessFieldsInfo",value:function(e){var t=this;return e.map((function(e){if("string"==typeof e)return{label:e,value:e.includes(".")||e.includes("[")?function(n){return Hn(n,e,t.opts.defaultValue)}:function(n){return Zn(n,e,t.opts.defaultValue)}};if("object"===qt(e)){var n="default"in e?e.default:t.opts.defaultValue;if("string"==typeof e.value)return{label:e.label||e.value,value:e.value.includes(".")||e.value.includes("[")?function(t){return Hn(t,e.value,n)}:function(t){return Zn(t,e.value,n)}};if("function"==typeof e.value){var i=e.label||e.value.name||"",o={label:i,default:n};return{label:i,value:function(t){var i=e.value(t,o);return null==i?n:i}}}}throw new Error("Invalid field info option. "+JSON.stringify(e))}))}},{key:"getHeader",value:function(){var e=this;return Jn(this.opts.fields.map((function(t){return e.processValue(t.label)})),this.opts.delimiter)}},{key:"preprocessRow",value:function(e){return this.opts.transforms.reduce((function(e,t){return e.map((function(e){return t(e)})).reduce(Xn,[])}),[e])}},{key:"processRow",value:function(e){var t=this;if(e){var n=this.opts.fields.map((function(n){return t.processCell(e,n)}));if(this.opts.includeEmptyRows||!n.every((function(e){return void 0===e})))return Jn(n,this.opts.delimiter)}}},{key:"processCell",value:function(e,t){return this.processValue(t.value(e))}},{key:"processValue",value:function(e){if(null!=e){var t=qt(e);if("boolean"!==t&&"number"!==t&&"string"!==t){if(void 0===(e=JSON.stringify(e)))return;'"'===e[0]&&(e=e.replace(/^"(.+)"$/,"$1"))}return"string"==typeof e&&(this.opts.excelStrings?(e.includes(this.opts.quote)&&(e=e.replace(new RegExp(this.opts.quote,"g"),"".concat(this.opts.escapedQuote).concat(this.opts.escapedQuote))),e='"=""'.concat(e,'"""')):(e.includes(this.opts.quote)&&(e=e.replace(new RegExp(this.opts.quote,"g"),this.opts.escapedQuote)),e="".concat(this.opts.quote).concat(e).concat(this.opts.quote))),e}}}]),e}(),ti=Kn,ni=Qn,ii=function(e){function t(e){var n;return Ut(this,t),(n=Zt(this,Kt(t).call(this,e))).opts.fields&&(n.opts.fields=n.preprocessFieldsInfo(n.opts.fields)),n}return Yt(t,e),Vt(t,[{key:"parse",value:function(e){var t=this.preprocessData(e);this.opts.fields||(this.opts.fields=t.reduce((function(e,t){return Object.keys(t).forEach((function(t){e.includes(t)||e.push(t)})),e}),[]),this.opts.fields=this.preprocessFieldsInfo(this.opts.fields));var n=this.opts.header?this.getHeader():"",i=this.processData(t);return(this.opts.withBOM?"\ufeff":"")+n+(n&&i?this.opts.eol:"")+i}},{key:"preprocessData",value:function(e){var t=this,n=Array.isArray(e)?e:[e];if(!this.opts.fields&&(0===n.length||"object"!==qt(n[0])))throw new Error('Data should not be empty or the "fields" option should be included');return 0===this.opts.transforms.length?n:n.map((function(e){return t.preprocessRow(e)})).reduce(ni,[])}},{key:"processData",value:function(e){var t=this;return ti(e.map((function(e){return t.processRow(e)})).filter((function(e){return e})),this.opts.eol)}}]),t}(ei),oi={},ri=oi.LEFT_BRACE=1,ai=oi.RIGHT_BRACE=2,ci=oi.LEFT_BRACKET=3,li=oi.RIGHT_BRACKET=4,si=oi.COLON=5,di=oi.COMMA=6,ui=oi.TRUE=7,fi=oi.FALSE=8,pi=oi.NULL=9,mi=oi.STRING=10,hi=oi.NUMBER=11,gi=oi.START=17,_i=oi.STOP=18,yi=oi.TRUE1=33,bi=oi.TRUE2=34,vi=oi.TRUE3=35,xi=oi.FALSE1=49,wi=oi.FALSE2=50,Ei=oi.FALSE3=51,Ii=oi.FALSE4=52,Ci=oi.NULL1=65,Si=oi.NULL2=66,Oi=oi.NULL3=67,Ai=oi.NUMBER1=81,ki=oi.NUMBER3=83,Ti=oi.STRING1=97,Ni=oi.STRING2=98,Fi=oi.STRING3=99,ji=oi.STRING4=100,Pi=oi.STRING5=101,Ri=oi.STRING6=102,Mi=oi.VALUE=113,Gi=oi.KEY=114,Li=oi.OBJECT=129,Di=oi.ARRAY=130,Bi="\\".charCodeAt(0),zi="/".charCodeAt(0),qi="\b".charCodeAt(0),Ui="\f".charCodeAt(0),$i="\n".charCodeAt(0),Vi="\r".charCodeAt(0),Hi="\t".charCodeAt(0),Wi=65536;function Yi(){this.tState=gi,this.value=void 0,this.string=void 0,this.stringBuffer=k.alloc?k.alloc(Wi):new k(Wi),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=Mi,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new k(2),3:new k(3),4:new k(4)},this.offset=-1}Yi.toknam=function(e){for(var t=Object.keys(oi),n=0,i=t.length;n<i;n++){var o=t[n];if(oi[o]===e)return o}return e&&"0x"+e.toString(16)};var Ki=Yi.prototype;Ki.onError=function(e){throw e},Ki.charError=function(e,t){this.tState=_i,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+Yi.toknam(this.tState)))},Ki.appendStringChar=function(e){this.stringBufferOffset>=Wi&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},Ki.appendStringBuf=function(e,t,n){var i=e.length;"number"==typeof t&&(i="number"==typeof n?n<0?e.length-t+n:n-t:e.length-t),i<0&&(i=0),this.stringBufferOffset+i>Wi&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,n),this.stringBufferOffset+=i},Ki.write=function(e){var t;"string"==typeof e&&(e=new k(e));for(var n=0,i=e.length;n<i;n++)if(this.tState===gi){if(t=e[n],this.offset++,123===t)this.onToken(ri,"{");else if(125===t)this.onToken(ai,"}");else if(91===t)this.onToken(ci,"[");else if(93===t)this.onToken(li,"]");else if(58===t)this.onToken(si,":");else if(44===t)this.onToken(di,",");else if(116===t)this.tState=yi;else if(102===t)this.tState=xi;else if(110===t)this.tState=Ci;else if(34===t)this.string="",this.stringBufferOffset=0,this.tState=Ti;else if(45===t)this.string="-",this.tState=Ai;else if(t>=48&&t<64)this.string=String.fromCharCode(t),this.tState=ki;else if(32!==t&&9!==t&&10!==t&&13!==t)return this.charError(e,n)}else if(this.tState===Ti)if(t=e[n],this.bytes_remaining>0){for(var o=0;o<this.bytes_remaining;o++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+o]=e[o];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,n=n+o-1}else if(0===this.bytes_remaining&&t>=128){if(t<=193||t>244)return this.onError(new Error("Invalid UTF-8 character at position "+n+" in state "+Yi.toknam(this.tState)));if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+n>e.length){for(var r=0;r<=e.length-1-n;r++)this.temp_buffs[this.bytes_in_sequence][r]=e[n+r];this.bytes_remaining=n+this.bytes_in_sequence-e.length,n=e.length-1}else this.appendStringBuf(e,n,n+this.bytes_in_sequence),n=n+this.bytes_in_sequence-1}else if(34===t)this.tState=gi,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(mi,this.string),this.offset+=k.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===t)this.tState=Ni;else{if(!(t>=32))return this.charError(e,n);this.appendStringChar(t)}else if(this.tState===Ni)if(34===(t=e[n]))this.appendStringChar(t),this.tState=Ti;else if(92===t)this.appendStringChar(Bi),this.tState=Ti;else if(47===t)this.appendStringChar(zi),this.tState=Ti;else if(98===t)this.appendStringChar(qi),this.tState=Ti;else if(102===t)this.appendStringChar(Ui),this.tState=Ti;else if(110===t)this.appendStringChar($i),this.tState=Ti;else if(114===t)this.appendStringChar(Vi),this.tState=Ti;else if(116===t)this.appendStringChar(Hi),this.tState=Ti;else{if(117!==t)return this.charError(e,n);this.unicode="",this.tState=Fi}else if(this.tState===Fi||this.tState===ji||this.tState===Pi||this.tState===Ri){if(!((t=e[n])>=48&&t<64||t>64&&t<=70||t>96&&t<=102))return this.charError(e,n);if(this.unicode+=String.fromCharCode(t),this.tState++===Ri){var a=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&a>=56320&&a<57344?(this.appendStringBuf(new k(String.fromCharCode(this.highSurrogate,a))),this.highSurrogate=void 0):void 0===this.highSurrogate&&a>=55296&&a<56320?this.highSurrogate=a:(void 0!==this.highSurrogate&&(this.appendStringBuf(new k(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new k(String.fromCharCode(a)))),this.tState=Ti}}else if(this.tState===Ai||this.tState===ki)switch(t=e[n]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(t),this.tState=ki;break;default:this.tState=gi;var c=Number(this.string);if(isNaN(c))return this.charError(e,n);this.string.match(/[0-9]+/)==this.string&&c.toString()!=this.string?this.onToken(mi,this.string):this.onToken(hi,c),this.offset+=this.string.length-1,this.string=void 0,n--}else if(this.tState===yi){if(114!==e[n])return this.charError(e,n);this.tState=bi}else if(this.tState===bi){if(117!==e[n])return this.charError(e,n);this.tState=vi}else if(this.tState===vi){if(101!==e[n])return this.charError(e,n);this.tState=gi,this.onToken(ui,!0),this.offset+=3}else if(this.tState===xi){if(97!==e[n])return this.charError(e,n);this.tState=wi}else if(this.tState===wi){if(108!==e[n])return this.charError(e,n);this.tState=Ei}else if(this.tState===Ei){if(115!==e[n])return this.charError(e,n);this.tState=Ii}else if(this.tState===Ii){if(101!==e[n])return this.charError(e,n);this.tState=gi,this.onToken(fi,!1),this.offset+=4}else if(this.tState===Ci){if(117!==e[n])return this.charError(e,n);this.tState=Si}else if(this.tState===Si){if(108!==e[n])return this.charError(e,n);this.tState=Oi}else if(this.tState===Oi){if(108!==e[n])return this.charError(e,n);this.tState=gi,this.onToken(pi,null),this.offset+=3}},Ki.onToken=function(e,t){},Ki.parseError=function(e,t){this.tState=_i,this.onError(new Error("Unexpected "+Yi.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+Yi.toknam(this.state)))},Ki.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},Ki.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=Mi)},Ki.emit=function(e){this.mode&&(this.state=di),this.onValue(e)},Ki.onValue=function(e){},Ki.onToken=function(e,t){if(this.state===Mi)if(e===mi||e===hi||e===ui||e===fi||e===pi)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===ri)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=Gi,this.mode=Li;else if(e===ci)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=Di,this.state=Mi;else if(e===ai){if(this.mode!==Li)return this.parseError(e,t);this.pop()}else{if(e!==li)return this.parseError(e,t);if(this.mode!==Di)return this.parseError(e,t);this.pop()}else if(this.state===Gi)if(e===mi)this.key=t,this.state=si;else{if(e!==ai)return this.parseError(e,t);this.pop()}else if(this.state===si){if(e!==si)return this.parseError(e,t);this.state=Mi}else{if(this.state!==di)return this.parseError(e,t);if(e===di)this.mode===Di?(this.key++,this.state=Mi):this.mode===Li&&(this.state=Gi);else{if(!(e===li&&this.mode===Di||e===ai&&this.mode===Li))return this.parseError(e,t);this.pop()}}},Yi.C=oi;var Qi=Yi,Zi=function(e){function t(e,n){var i;return Ut(this,t),i=Zt(this,Kt(t).call(this,n)),Object.getOwnPropertyNames(ei.prototype).forEach((function(e){return i[e]=ei.prototype[e]})),i.opts=i.preprocessOpts(e),i._data="",i._hasWritten=!1,i._readableState.objectMode?i.initObjectModeParse():i.opts.ndjson?i.initNDJSONParse():i.initJSONParser(),i.opts.withBOM&&i.push("\ufeff"),i.opts.fields&&(i.opts.fields=i.preprocessFieldsInfo(i.opts.fields),i.pushHeader()),i}return Yt(t,e),Vt(t,[{key:"initObjectModeParse",value:function(){var e=this;this.parser={write:function(t){e.pushLine(t)},getPendingData:function(){}}}},{key:"initNDJSONParse",value:function(){var e=this;this.parser={_data:"",write:function(t){this._data+=t.toString();var n=this._data.split("\n").map((function(e){return e.trim()})).filter((function(e){return""!==e})),i=!1;n.forEach((function(t,o){try{e.pushLine(JSON.parse(t))}catch(r){o===n.length-1?i=!0:(r.message="Invalid JSON (".concat(t,")"),e.emit("error",r))}})),this._data=i?this._data.slice(this._data.lastIndexOf("\n")):""},getPendingData:function(){return this._data}}}},{key:"initJSONParser",value:function(){var e=this;this.parser=new Qi,this.parser.onValue=function(t){this.stack.length===this.depthToEmit&&e.pushLine(t)},this.parser._onToken=this.parser.onToken,this.parser.onToken=function(t,n){e.parser._onToken(t,n),0!==this.stack.length||e.opts.fields||this.mode===Qi.C.ARRAY||this.mode===Qi.C.OBJECT||this.onError(new Error('Data should not be empty or the "fields" option should be included')),1===this.stack.length&&(void 0===this.depthToEmit&&(this.depthToEmit=this.mode===Qi.C.ARRAY?1:0),0!==this.depthToEmit&&1===this.stack.length&&(this.value=void 0))},this.parser.getPendingData=function(){return this.value},this.parser.onError=function(t){t.message.includes("Unexpected")&&(t.message="Invalid JSON (".concat(t.message,")")),e.emit("error",t)}}},{key:"_transform",value:function(e,t,n){this.parser.write(e),n()}},{key:"_flush",value:function(e){this.parser.getPendingData()&&e(new Error("Invalid data received from stdin",this.parser.getPendingData())),e()}},{key:"pushHeader",value:function(){if(this.opts.header){var e=this.getHeader();this.emit("header",e),this.push(e),this._hasWritten=!0}}},{key:"pushLine",value:function(e){var t=this,n=this.preprocessRow(e);this._hasWritten||(this.opts.fields=this.opts.fields||this.preprocessFieldsInfo(Object.keys(n[0])),this.pushHeader()),n.forEach((function(e){var n=t.processRow(e,t.opts);void 0!==n&&(t.emit("line",n),t.push(t._hasWritten?t.opts.eol+n:n),t._hasWritten=!0)}))}}]),t}(zt.Transform),Ji=Zi,Xi=zt.Transform,eo=Kn,to=function(){function e(t,n){Ut(this,e),this.input=new Xi(n),this.input._read=function(){},this.transform=new Ji(t,n),this.processor=this.input.pipe(this.transform)}return Vt(e,[{key:"fromInput",value:function(e){if(this._input)throw new Error("Async parser already has an input.");return this._input=e,this.input=this._input.pipe(this.processor),this}},{key:"throughTransform",value:function(e){if(this._output)throw new Error("Can't add transforms once an output has been added.");return this.processor=this.processor.pipe(e),this}},{key:"toOutput",value:function(e){if(this._output)throw new Error("Async parser already has an output.");return this._output=e,this.processor=this.processor.pipe(e),this}},{key:"promise",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((function(n,i){if(t){var o=[];e.processor.on("data",(function(e){return o.push(e.toString())})).on("finish",(function(){return n(eo(o,""))})).on("error",(function(e){return i(e)}))}else e.processor.on("finish",(function(){return n()})).on("error",(function(e){return i(e)}))}))}}]),e}(),no=to;var io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.objects,n=void 0===t||t,i=e.arrays,o=void 0!==i&&i,r=e.separator,a=void 0===r?".":r;function c(e,t,i){return Object.keys(e).forEach((function(r){var l=i?"".concat(i).concat(a).concat(r):r,s=e[r];n&&"object"===qt(s)&&null!==s&&!Array.isArray(s)&&"[object Function]"!==Object.prototype.toString.call(s.toJSON)&&Object.keys(s).length||o&&Array.isArray(s)?c(s,t,l):t[l]=s})),t}return function(e){return c(e,{})}},oo=Wn,ro=Yn,ao=Qn;function co(e,t){return Object.keys(e).reduce((function(n,i){var o=t?"".concat(t,".").concat(i):i,r=e[i];return"object"===qt(r)&&null!==r&&!Array.isArray(r)&&"[object Function]"!==Object.prototype.toString.call(r.toJSON)&&Object.keys(r).length?n=n.concat(co(r,o)):Array.isArray(r)&&(n.push(o),n=n.concat(r.map((function(e){return co(e,o)})).reduce(ao,[]).filter((function(e,t,n){return n.indexOf(e)!==t})))),n}),[])}var lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.paths,n=void 0===t?void 0:t,i=e.blankOut,o=void 0!==i&&i;function r(e,t){return e.map((function(e){var n=Hn(e,t);return Array.isArray(n)?n.length?n.map((function(n,i){return oo(o&&i>0?{}:e,t,n)})):ro(e,t):e})).reduce(ao,[])}return n=Array.isArray(n)?n:n?[n]:void 0,function(e){return(n||co(e)).reduce(r,[e])}},so=zt.Readable,uo=ii,fo=no,po=Ji,mo=function(e,t){return new ii(t).parse(e)},ho=function(e,t,n){try{e instanceof so||(n=Object.assign({},n,{objectMode:!0}));var i=new no(t,n),o=i.promise();return Array.isArray(e)?(e.forEach((function(e){return i.input.push(e)})),i.input.push(null)):e instanceof so?i.fromInput(e):(i.input.push(e),i.input.push(null)),o}catch(e){return Promise.reject(e)}},go={flatten:io,unwind:lo},_o={Parser:uo,AsyncParser:fo,Transform:po,parse:mo,parseAsync:ho,transforms:go};e.AsyncParser=fo,e.Parser=uo,e.Transform=po,e.default=_o,e.parse=mo,e.parseAsync=ho,e.transforms=go,Object.defineProperty(e,"__esModule",{value:!0})}(t)},770:t=>{"use strict";t.exports=e},835:e=>{"use strict";e.exports=t},618:e=>{"use strict";e.exports=n},725:e=>{"use strict";e.exports=i},24:e=>{"use strict";e.exports=o},314:e=>{"use strict";e.exports=r},721:e=>{"use strict";e.exports=a}},l={};function s(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={id:e,loaded:!1,exports:{}};return c[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};return(()=>{"use strict";s.r(d),s.d(d,{components:()=>e,elements:()=>r,extra:()=>Kc,layouts:()=>a,services:()=>Ja});var e={};s.r(e),s.d(e,{ActivateRelations:()=>_,CanvasSetting:()=>C,ChartAnalysis:()=>Nr,ClearCanvas:()=>N,ContextMenu:()=>G,Copyright:()=>z,DownLoad:()=>W,Export:()=>X,FilterPanel:()=>tn,FitCenter:()=>ln,FitView:()=>mn,ForceSimulation:()=>qr,GrailLayout:()=>wi,Initializer:()=>Hr,LassoSelect:()=>Ti,LayoutSwitch:()=>Mi,Loading:()=>Gi,MiniMap:()=>Di,NeighborsQuery:()=>Ui,NodeLegend:()=>Hi,OperatorBar:()=>ro,Overview:()=>ra,PathAnalysis:()=>So,PinNodeWithMenu:()=>aa,Placeholder:()=>Oo,PropertiesPanel:()=>qo,SankeyAnalysis:()=>ua,Save:()=>Wo,SideSelectTabs:()=>Na,SideTabs:()=>lr,ToggleClusterWithMenu:()=>fr,Toolbar:()=>gr,Tooltip:()=>yr,ZoomIn:()=>Ga,ZoomOut:()=>Ua,ZoomStatus:()=>$a});var t={};s.r(t),s.d(t,{GI_SERVICE_INTIAL_GRAPH:()=>Wa,GI_SERVICE_SCHEMA:()=>Ya});var n={};s.r(n),s.d(n,{NeighborsQuery:()=>Ka});var i={};s.r(i),s.d(i,{PropertiesPanel:()=>Qa});var o={};s.r(o),s.d(o,{Save:()=>Za});var r={};s.r(r),s.d(r,{DonutNode:()=>ec,SimpleEdge:()=>hc,SimpleNode:()=>Tc});var a={};s.r(a),s.d(a,{Circular:()=>Nc,ClusteringDagre:()=>Gc,Concentric:()=>Fc,Dagre:()=>Lc,Force2:()=>Dc,FundForce:()=>Bc,GraphinForce:()=>zc,Grid:()=>qc,Radial:()=>Uc});var c=s(618),l=s(725),u=s.n(l),f=s(24),p=s.n(f);const m=e=>{const{graph:t}=(0,c.useContext)();return f.useEffect((()=>{const e=e=>{const{item:n}=e;t.getNodes().forEach((e=>{t.clearItemStates(e)})),t.getEdges().forEach((e=>{t.clearItemStates(e);const i=e.get("sourceNode"),o=e.get("targetNode");e.getID()===n.getID()&&(t.setItemState(e,"selected",!0),t.setItemState(i,"active",!0),t.setItemState(o,"active",!0))}))};return t.on("edge:click",e),()=>{t.off("edge:click",e)}}),[t]),null},{ActivateRelations:h,Hoverable:g}=l.Behaviors,_={info:{id:"ActivateRelations",name:"元素高亮",desc:"通过交互，激活相关联的节点与边",icon:"icon-canvas-setting",cover:"http://xxxx.jpg",category:"elements-interaction",type:"AUTO"},component:e=>{const{enable:t,trigger:n,upstreamDegree:i,downstreamDegree:o,enableEdgeHover:r,enableNodeHover:a}=e,{persistentHighlight:l}=(0,c.useContext)();return p().createElement(p().Fragment,null,t&&!l&&p().createElement(h,{trigger:n}),a&&p().createElement(g,{bindType:"node"}),r&&p().createElement(g,{bindType:"edge"}),t&&!l&&p().createElement(m,null))},registerMeta:e=>({enableNodeHover:{title:"节点悬停","x-component":"Switch","x-decorator":"FormItem",type:"boolean",default:!0},enableEdgeHover:{title:"边悬停","x-component":"Switch","x-decorator":"FormItem",type:"boolean",default:!0},enable:{title:"启用关联","x-component":"Switch","x-decorator":"FormItem",type:"boolean",default:!0},trigger:{title:"触发方式",type:"string","x-component":"Select","x-decorator":"FormItem","x-component-props":{options:[{label:"鼠标点击",value:"click"},{label:"鼠标移入",value:"mouseenter"}]},default:"click"},upstreamDegree:{title:"上游度数",type:"number","x-component":"NumberPicker","x-decorator":"FormItem",default:1,"x-component-props":{disable:!0}},downstreamDegree:{title:"下游度数",type:"number","x-component":"NumberPicker","x-decorator":"FormItem",default:1,"x-component-props":{disable:!0}}})},y=()=>{const{graph:e}=(0,c.useContext)();return p().useEffect((()=>{const t=()=>{(e=>{e.setAutoPaint(!1),e.getNodes().forEach((function(t){e.clearItemStates(t)})),e.getEdges().forEach((function(t){e.clearItemStates(t)})),e.paint(),e.setAutoPaint(!0)})(e)};return e.on("canvas:click",t),()=>{e.off("canvas:click",t)}}),[e]),null},b=()=>{const{graph:e}=(0,c.useContext)();return p().useEffect((()=>{const t=()=>{e.fitCenter()};return e.on("canvas:dblclick",t),()=>{e.off("canvas:dblclick",t)}}),[e]),null},{DragCanvas:v,ZoomCanvas:x,BrushSelect:w,Hoverable:E,ActivateRelations:I}=l.Behaviors,C={info:{id:"CanvasSetting",name:"画布设置",desc:"设置画布的背景，缩放，移动等交互",icon:"icon-canvas-setting",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"AUTO"},component:e=>{const{styleCanvas:t,dragCanvas:n,zoomCanvas:i,clearStatus:o,doubleClick:r}=e,{backgroundColor:a,backgroundImage:l}=t,{GISDK_ID:s}=(0,c.useContext)();return p().useLayoutEffect((()=>{const e=document.getElementById(`${s}-graphin-container`),t=e.firstElementChild;e&&t&&(t.style.backgroundColor=a,t.style.backgroundImage=`url(${l})`)}),[a,l]),p().createElement(p().Fragment,null,p().createElement(v,{disabled:n.disabled,direction:n.direction,enableOptimize:n.enableOptimize}),p().createElement(x,{enableOptimize:i.enableOptimize,disabled:i.disabled}),p().createElement(w,null),!1!==o&&p().createElement(y,null),!1!==r&&p().createElement(b,null))},registerMeta:e=>{const{services:t}=e;return{styleCanvas:{title:"画布样式",type:"object",properties:{backgroundColor:{title:"背景颜色","x-component":"ColorInput","x-decorator":"FormItem",type:"string",default:"#fff"},backgroundImage:{title:"背景图片",type:"string","x-component":"Input","x-decorator":"FormItem",default:"https://gw.alipayobjects.com/mdn/rms_0d75e8/afts/img/A*k9t4QamMuQ4AAAAAAAAAAAAAARQnAQ"}}},dragCanvas:{title:"拖拽画布",type:"object",properties:{disabled:{title:"拖拽禁用","x-component":"Switch","x-decorator":"FormItem",type:"boolean",default:!1},direction:{title:"拖拽方向",type:"select","x-component":"Select","x-decorator":"FormItem","x-component-props":{options:[{label:"自由",value:"both"},{label:"X方向",value:"x"},{label:"Y方向",value:"y"}]},default:"both"},enableOptimize:{title:"拖拽优化","x-component":"Switch","x-decorator":"FormItem",type:"boolean",default:!1}}},zoomCanvas:{title:"缩放画布",type:"object",properties:{disabled:{title:"缩放禁用","x-component":"Switch","x-decorator":"FormItem",type:"boolean",default:!1},enableOptimize:{title:"缩放优化",type:"boolean","x-component":"Switch","x-decorator":"FormItem",default:!0}}},clearStatus:{title:"点击画布,清空状态","x-component":"Switch","x-decorator":"FormItem",type:"boolean",default:!0},doubleClick:{title:"双击画布,自适应","x-component":"Switch","x-decorator":"FormItem",type:"boolean",default:!0}}}},{GIAComponent:S}=c.extra,O={id:"ClearCanvas",name:"清空画布",desc:"清空画布上的所有内容",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"GIAC",icon:"icon-clear"},{deepClone:A,GIAC_METAS:k}=c.extra,T=A(k);T.GIAC.properties.GIAC.properties.title.default=O.name,T.GIAC.properties.GIAC.properties.icon.default=O.icon,T.GIAC.properties.GIAC.properties.tooltip.default=O.desc,T.GIAC.properties.GIAC.properties.isShowTitle.default=!1;const N={info:O,component:e=>{const{GIAC:t}=e,{graph:n,updateContext:i}=(0,c.useContext)(),o=f.useCallback((()=>{n.clear(),n.fitCenter(),i((e=>{e.source={nodes:[],edges:[]},e.data={nodes:[],edges:[]}}))}),[n,i]);return f.createElement(S,{GIAC:t,onClick:o})},registerMeta:()=>T};var F=s(721);const j={width:"120px",boxShadow:"0 4px 12px rgb(0 0 0 / 15%)"},P=p().createRef(),R=e=>{const{bindTypes:t,children:n,style:i,setItem:o}=e,r=(e=>{const{bindTypes:t=["node"],container:n}=e,{graph:i}=(0,c.useContext)(),[o,r]=p().useState({visible:!1,x:0,y:0,item:null,selectedItems:[]}),a=e=>{var t,o;e.preventDefault(),e.stopPropagation();const a=i.get("width"),c=i.get("height");if(!n.current)return;const l=n.current.getBoundingClientRect(),s=i.get("offsetX")||0,d=i.get("offsetY")||0,u=i.getContainer().offsetTop,f=i.getContainer().offsetLeft;let p=e.canvasX+f+s,m=e.canvasY+u+d;if(p+l.width>a&&(p=e.canvasX-l.width-s+f),m+l.height>c&&(m=e.canvasY-l.height-d+u),"node"===(null===(o=null===(t=e.item)||void 0===t?void 0:t.getType)||void 0===o?void 0:o.call(t))){const{x:t,y:n}=e.item&&e.item.getModel(),o=i.getCanvasByPoint(t,n),r=e.canvasX-o.x,a=e.canvasY-o.y;p-=r,m-=a}r((t=>Object.assign(Object.assign({},t),{visible:!0,x:p,y:m,item:e.item})))},l=()=>{r((e=>e.visible?Object.assign(Object.assign({},e),{visible:!1,x:0,y:0}):e))};(0,f.useEffect)((()=>{const e=e=>{r((t=>Object.assign(Object.assign({},t),{selectedItems:e.selectedItems})))};return t.forEach((e=>{i.on(`${e}:contextmenu`,a)})),i.on("canvas:click",l),i.on("canvas:drag",l),i.on("wheelzoom",l),t.includes("canvas")&&i.on("nodeselectchange",e),()=>{t.forEach((e=>{i.off(`${e}:contextmenu`,a)})),i.off("canvas:click",l),i.off("canvas:drag",l),i.off("wheelzoom",l),i.off("nodeselectchange",e)}}),[i,t]);const{x:s,y:d,visible:u,item:m,selectedItems:h}=o;return{oneShow:a,onClose:l,item:m,selectedItems:h,visible:u,x:s,y:d}})({bindTypes:t,container:P}),{visible:a,x:l,y:s,item:d}=r;(0,f.useEffect)((()=>o(d)),[d]);const u={position:"absolute",left:l,top:s};if("function"!=typeof n)return console.error("<ContextMenu /> children should be a function"),null;const m=d&&!d.destroyed&&d.getModel&&d.getModel().id||"";return p().createElement("div",{ref:P,className:"graphin-components-contextmenu",style:Object.assign(Object.assign(Object.assign(Object.assign({},j),i),u),{display:a?"block":"none"}),key:m},n(Object.assign(Object.assign({},r),{id:m})))},M={boxShadow:"0 4px 12px rgb(0 0 0 / 15%)"},G={info:{id:"ContextMenu",name:"右键菜单",desc:"鼠标右键即可出现菜单容器",cover:"http://xxxx.jpg",category:"container-components",type:"GICC_MENU",icon:"icon-mouse"},component:e=>{const{components:t,assets:n,bindTypes:i,nodeMenuComponents:o=[],edgeMenuComponents:r=[],canvasMenuComponents:a=[],comboMenuComponents:c=[]}=e,[l,s]=p().useState({item:void 0}),d=(0,f.useMemo)((()=>{var e,n;let i=[];switch((null===(n=null===(e=l.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e))||"canvas"){case"edge":i=r;break;case"canvas":i=a;break;case"combo":i=c;break;default:i=o}return i.map((e=>t.find((t=>t.id===e)))).filter((e=>!!e)).sort(((e,t)=>{var n,i;return(null===(n=e.props)||void 0===n?void 0:n.GI_CONTAINER_INDEX)-(null===(i=t.props)||void 0===i?void 0:i.GI_CONTAINER_INDEX)}))}),[t,o,r,a,c,l.item]);return p().createElement(R,{bindTypes:i,style:M,setItem:e=>s({item:e})},(e=>p().createElement(F.Menu,{mode:"vertical"},d.map((t=>{if(!t)return null;const{props:i,id:o}=t,r=n[o];if(!r)return console.warn(`asset: ${o} not found`),null;const{component:a}=r;return p().createElement(a,Object.assign({},i,{contextmenu:e,key:o}))})))))},registerMeta:e=>{const{GIAC_MENU_ITEMS:t=[]}=e;return t.map((e=>e.value)),{GI_CONTAINER:{title:"可集成组件",type:"string",enum:t,"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},default:t.map((e=>e.value))},bindTypes:{title:"元素类型",type:"string",enum:[{label:"节点",value:"node"},{label:"边",value:"edge"},{label:"画布",value:"canvas"},{label:"节点分组",value:"combo"}],"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},"x-reactions":[{target:"nodeMenuComponents",fulfill:{state:{visible:'{{$self.value.includes("node") || $self.value.length === 0}}'}}},{target:"edgeMenuComponents",fulfill:{state:{visible:'{{$self.value.includes("edge")}}'}}},{target:"canvasMenuComponents",fulfill:{state:{visible:'{{$self.value.includes("canvas")}}'}}},{target:"comboMenuComponents",fulfill:{state:{visible:'{{$self.value.includes("combo")}}'}}}],default:["node"]},nodeMenuComponents:{title:"(节点)集成组件",type:"string",enum:t,"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},default:["NeighborsQuery","ToggleClusterWithMenu","PinNodeWithMenu"]},edgeMenuComponents:{title:"(边)集成组件",type:"string",enum:t,"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},default:[]},canvasMenuComponents:{title:"(画布)集成组件",type:"string",enum:t,"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},default:[]},comboMenuComponents:{title:"(分组)集成组件",type:"string",enum:t,"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},default:[]}}}},{getPositionStyles:L}=c.utils,D=[{value:"LT",label:"左上"},{value:"RT",label:"右上"},{value:"LB",label:"左下"},{value:"RB",label:"右下"}],B=[{label:"水平展示",value:"horizontal"},{label:"纵向展示",value:"vertical"}],z={info:{id:"Copyright",name:"版权",desc:"在画布上显示应用版权信息",cover:"http://xxx.jpg",category:"system-interaction",icon:"icon-copyright",type:"AUTO"},component:e=>{const{imageUrl:t,width:n,height:i,placement:o,offset:r}=e,a=L(o,r);return p().createElement("div",{className:"gi-copyright",style:a},p().createElement("img",{src:`${t}`,alt:"版权图片",style:{width:`${n}px`,height:`${i}px`}}))},registerMeta:()=>({imageUrl:{title:"版权图片",type:"string","x-component":"Input","x-decorator":"FormItem",default:""},width:{title:"宽度",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:100},height:{title:"高度",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:100},placement:{title:"组件位置",type:"string","x-decorator":"FormItem","x-component":"Select",enum:D,default:"RB"},offset:{title:"偏移量",type:"string","x-decorator":"FormItem","x-component":"Offset","x-component-props":{min:0,max:400},default:[100,20]}})},{GIAComponent:q}=c.extra,U={id:"DownLoad",name:"下载",desc:"点击下载画布图片",icon:"icon-download",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"GIAC"},{deepClone:$,GIAC_METAS:V}=c.extra,H=$(V);H.GIAC.properties.GIAC.properties.title.default=U.name,H.GIAC.properties.GIAC.properties.icon.default=U.icon,H.GIAC.properties.GIAC.properties.tooltip.default=U.desc,H.GIAC.properties.GIAC.properties.isShowTitle.default=!1;const W={info:U,component:e=>{const{GIAC:t}=e,{graph:n}=f.useContext(l.GraphinContext);return f.createElement(q,{GIAC:t,onClick:()=>n.downloadImage()})},registerMeta:()=>H},{GIAComponent:Y}=c.extra,K={id:"Export",name:"导出",desc:"导出CSV,PNG,JSON数据",icon:"icon-export",cover:"http://xxxx.jpg",category:"workbook",type:"GIAC"},{deepClone:Q,GIAC_METAS:Z}=c.extra,J=Q(Z);J.GIAC.properties.GIAC.properties.title.default=K.name,J.GIAC.properties.GIAC.properties.icon.default=K.icon,J.GIAC.properties.GIAC.properties.tooltip.default=K.desc;const X={info:K,component:e=>{const{GIAC:t}=e,{graph:n}=f.useContext(l.GraphinContext);return f.createElement(Y,{GIAC:t,onClick:()=>{const{nodes:e,edges:t}=n.save(),i={nodes:e.map((e=>e.data)),edges:t.map((e=>e.data))},o=document.createElement("a"),r=new Blob([JSON.stringify(i)],{type:"text/json"});o.href=URL.createObjectURL(r),o.download="data.json",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(o.href)}})},registerMeta:()=>J};function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ce=s(608),le=s.n(ce);const se=(0,f.createContext)({});function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ue(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function fe(e){return e<=1?"".concat(100*Number(e),"%"):e}function pe(e){return 1===e.length?"0"+e:String(e)}function me(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function he(e){return ge(e)/255}function ge(e){return parseInt(e,16)}var _e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ye(e){var t={r:0,g:0,b:0},n=1,i=null,o=null,r=null,a=!1,c=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(_e[e])e=_e[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=we.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=we.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=we.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=we.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=we.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=we.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=we.hex8.exec(e))?{r:ge(n[1]),g:ge(n[2]),b:ge(n[3]),a:he(n[4]),format:t?"name":"hex8"}:(n=we.hex6.exec(e))?{r:ge(n[1]),g:ge(n[2]),b:ge(n[3]),format:t?"name":"hex"}:(n=we.hex4.exec(e))?{r:ge(n[1]+n[1]),g:ge(n[2]+n[2]),b:ge(n[3]+n[3]),a:he(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=we.hex3.exec(e))&&{r:ge(n[1]+n[1]),g:ge(n[2]+n[2]),b:ge(n[3]+n[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(Ee(e.r)&&Ee(e.g)&&Ee(e.b)?(t=function(e,t,n){return{r:255*ue(e,255),g:255*ue(t,255),b:255*ue(n,255)}}(e.r,e.g,e.b),a=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):Ee(e.h)&&Ee(e.s)&&Ee(e.v)?(i=fe(e.s),o=fe(e.v),t=function(e,t,n){e=6*ue(e,360),t=ue(t,100),n=ue(n,100);var i=Math.floor(e),o=e-i,r=n*(1-t),a=n*(1-o*t),c=n*(1-(1-o)*t),l=i%6;return{r:255*[n,a,r,r,c,n][l],g:255*[c,n,n,a,r,r][l],b:255*[r,r,c,n,n,a][l]}}(e.h,i,o),a=!0,c="hsv"):Ee(e.h)&&Ee(e.s)&&Ee(e.l)&&(i=fe(e.s),r=fe(e.l),t=function(e,t,n){var i,o,r;if(e=ue(e,360),t=ue(t,100),n=ue(n,100),0===t)o=n,r=n,i=n;else{var a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=me(c,a,e+1/3),o=me(c,a,e),r=me(c,a,e-1/3)}return{r:255*i,g:255*o,b:255*r}}(e.h,i,r),a=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(n),{ok:a,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var be="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),ve="[\\s|\\(]+(".concat(be,")[,|\\s]+(").concat(be,")[,|\\s]+(").concat(be,")\\s*\\)?"),xe="[\\s|\\(]+(".concat(be,")[,|\\s]+(").concat(be,")[,|\\s]+(").concat(be,")[,|\\s]+(").concat(be,")\\s*\\)?"),we={CSS_UNIT:new RegExp(be),rgb:new RegExp("rgb"+ve),rgba:new RegExp("rgba"+xe),hsl:new RegExp("hsl"+ve),hsla:new RegExp("hsla"+xe),hsv:new RegExp("hsv"+ve),hsva:new RegExp("hsva"+xe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ee(e){return Boolean(we.CSS_UNIT.exec(String(e)))}var Ie=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ce(e){var t=function(e,t,n){e=ue(e,255),t=ue(t,255),n=ue(n,255);var i=Math.max(e,t,n),o=Math.min(e,t,n),r=0,a=i,c=i-o,l=0===i?0:c/i;if(i===o)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:l,v:a}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Se(e){var t=e.r,n=e.g,i=e.b;return"#".concat(function(e,t,n,i){var o=[pe(Math.round(e).toString(16)),pe(Math.round(t).toString(16)),pe(Math.round(n).toString(16))];return o.join("")}(t,n,i))}function Oe(e,t,n){var i=n/100;return{r:(t.r-e.r)*i+e.r,g:(t.g-e.g)*i+e.g,b:(t.b-e.b)*i+e.b}}function Ae(e,t,n){var i;return(i=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?i+=360:i>=360&&(i-=360),i}function ke(e,t,n){return 0===e.h&&0===e.s?e.s:((i=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(i=1),n&&5===t&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function Te(e,t,n){var i;return(i=n?e.v+.05*t:e.v-.15*t)>1&&(i=1),Number(i.toFixed(2))}function Ne(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=ye(e),o=5;o>0;o-=1){var r=Ce(i),a=Se(ye({h:Ae(r,o,!0),s:ke(r,o,!0),v:Te(r,o,!0)}));n.push(a)}n.push(Se(i));for(var c=1;c<=4;c+=1){var l=Ce(i),s=Se(ye({h:Ae(l,c),s:ke(l,c),v:Te(l,c)}));n.push(s)}return"dark"===t.theme?Ie.map((function(e){var i=e.index,o=e.opacity;return Se(Oe(ye(t.backgroundColor||"#141414"),ye(n[i]),100*o))})):n}var Fe={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},je={},Pe={};Object.keys(Fe).forEach((function(e){je[e]=Ne(Fe[e]),je[e].primary=je[e][5],Pe[e]=Ne(Fe[e],{theme:"dark",backgroundColor:"#141414"}),Pe[e].primary=Pe[e][5]})),je.red,je.volcano,je.gold,je.orange,je.yellow,je.lime,je.green,je.cyan,je.blue,je.geekblue,je.purple,je.magenta,je.grey,je.grey;var Re={};function Me(e,t){}const Ge=function(e,t){!function(e,t,n){t||Re[n]||(e(!1,n),Re[n]=!0)}(Me,e,t)};function Le(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var De="data-rc-order",Be="rc-util-key",ze=new Map;function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Be}function Ue(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function $e(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function Ve(e){return Array.from((ze.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Le())return null;var n=t.csp,i=t.prepend,o=document.createElement("style");o.setAttribute(De,$e(i)),(null==n?void 0:n.nonce)&&(o.nonce=null==n?void 0:n.nonce),o.innerHTML=e;var r=Ue(t),a=r.firstChild;if(i){if("queue"===i){var c=Ve(r).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(De))}));if(c.length)return r.insertBefore(o,c[c.length-1].nextSibling),o}r.insertBefore(o,a)}else r.appendChild(o);return o}function We(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ue(t);return Ve(n).find((function(n){return n.getAttribute(qe(t))===e}))}function Ye(e,t){var n=ze.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var i=He("",t),o=i.parentNode;ze.set(e,o),o.removeChild(i)}}function Ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ue(n);Ye(i,n);var o,r,a,c=We(t,n);if(c)return(null===(o=n.csp)||void 0===o?void 0:o.nonce)&&c.nonce!==(null===(r=n.csp)||void 0===r?void 0:r.nonce)&&(c.nonce=null===(a=n.csp)||void 0===a?void 0:a.nonce),c.innerHTML!==e&&(c.innerHTML=e),c;var l=He(e,n);return l.setAttribute(qe(n),t),l}function Qe(e){return"object"===de(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===de(e.icon)||"function"==typeof e.icon)}function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var i=e[n];return"class"===n?(t.className=i,delete t.class):t[n]=i,t}),{})}function Je(e,t,n){return n?p().createElement(e.tag,ne(ne({key:t},Ze(e.attrs)),n),(e.children||[]).map((function(n,i){return Je(n,"".concat(t,"-").concat(e.tag,"-").concat(i))}))):p().createElement(e.tag,ne({key:t},Ze(e.attrs)),(e.children||[]).map((function(n,i){return Je(n,"".concat(t,"-").concat(e.tag,"-").concat(i))})))}function Xe(e){return Ne(e)[0]}function et(e){return e?Array.isArray(e)?e:[e]:[]}var tt="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",nt=["icon","className","onClick","style","primaryColor","secondaryColor"],it={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},ot=function(e){var t,n,i=e.icon,o=e.className,r=e.onClick,a=e.style,c=e.primaryColor,l=e.secondaryColor,s=ae(e,nt),d=it;if(c&&(d={primaryColor:c,secondaryColor:l||Xe(c)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=(0,f.useContext)(se),n=t.csp,i=t.prefixCls,o=e;i&&(o=o.replace(/anticon/g,i)),(0,f.useEffect)((function(){Ke(o,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),t=Qe(i),n="icon should be icon definiton, but got ".concat(i),Ge(t,"[@ant-design/icons] ".concat(n)),!Qe(i))return null;var u=i;return u&&"function"==typeof u.icon&&(u=ne(ne({},u),{},{icon:u.icon(d.primaryColor,d.secondaryColor)})),Je(u.icon,"svg-".concat(u.name),ne({className:o,onClick:r,style:a,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};ot.displayName="IconReact",ot.getTwoToneColors=function(){return ne({},it)},ot.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;it.primaryColor=t,it.secondaryColor=n||Xe(t),it.calculated=!!n};const rt=ot;function at(e){var t=re(et(e),2),n=t[0],i=t[1];return rt.setTwoToneColors({primaryColor:n,secondaryColor:i})}var ct=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];at("#1890ff");var lt=f.forwardRef((function(e,t){var n,i=e.className,o=e.icon,r=e.spin,a=e.rotate,c=e.tabIndex,l=e.onClick,s=e.twoToneColor,d=ae(e,ct),u=f.useContext(se),p=u.prefixCls,m=void 0===p?"anticon":p,h=u.rootClassName,g=le()(h,m,(ee(n={},"".concat(m,"-").concat(o.name),!!o.name),ee(n,"".concat(m,"-spin"),!!r||"loading"===o.name),n),i),_=c;void 0===_&&l&&(_=-1);var y=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,b=re(et(s),2),v=b[0],x=b[1];return f.createElement("span",ne(ne({role:"img","aria-label":o.name},d),{},{ref:t,tabIndex:_,onClick:l,className:g}),f.createElement(rt,{icon:o,primaryColor:v,secondaryColor:x,style:y}))}));lt.displayName="AntdIcon",lt.getTwoToneColor=function(){var e=rt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},lt.setTwoToneColor=at;const st=lt;var dt=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:ie}))};dt.displayName="PlusOutlined";const ut=f.forwardRef(dt);let ft=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");const pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M875.6 515.9c2.1.8 4.4-.3 5.2-2.4.2-.4.2-.9.2-1.4v-58.3c0-1.8-1.1-3.3-2.8-3.8-6-1.8-17.2-3-27.2-3-32.9 0-61.7 16.7-73.5 41.2v-28.6c0-4.4-3.6-8-8-8H717c-4.4 0-8 3.6-8 8V729c0 4.4 3.6 8 8 8h54.8c4.4 0 8-3.6 8-8V572.7c0-36.2 26.1-60.2 65.1-60.2 10.4.1 26.6 1.8 30.7 3.4zm-537-40.5l-54.7-12.6c-61.2-14.2-87.7-34.8-87.7-70.7 0-44.6 39.1-73.5 96.9-73.5 52.8 0 91.4 26.5 99.9 68.9h70C455.9 311.6 387.6 259 293.4 259c-103.3 0-171 55.5-171 139 0 68.6 38.6 109.5 122.2 128.5l61.6 14.3c63.6 14.9 91.6 37.1 91.6 75.1 0 44.1-43.5 75.2-102.5 75.2-60.6 0-104.5-27.2-112.8-70.5H111c7.2 79.9 75.6 130.4 179.1 130.4C402.3 751 471 695.2 471 605.3c0-70.2-38.6-108.5-132.4-129.9zM841 729a36 36 0 1072 0 36 36 0 10-72 0zM653 457.8h-51.4V396c0-4.4-3.6-8-8-8h-54.7c-4.4 0-8 3.6-8 8v61.8H495c-4.4 0-8 3.6-8 8v42.3c0 4.4 3.6 8 8 8h35.9v147.5c0 56.2 27.4 79.4 93.1 79.4 11.7 0 23.6-1.2 33.8-3.1 1.9-.3 3.2-2 3.2-3.9v-49.3c0-2.2-1.8-4-4-4h-.4c-4.9.5-6.2.6-8.3.8-4.1.3-7.8.5-12.6.5-24.1 0-34.1-10.3-34.1-35.6V516.1H653c4.4 0 8-3.6 8-8v-42.3c0-4.4-3.6-8-8-8z"}}]},name:"field-string",theme:"outlined"};var mt=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:pt}))};mt.displayName="FieldStringOutlined";const ht=f.forwardRef(mt),gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 394c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H400V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v236H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h228v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h164c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V394h164zM628 630H400V394h228v236z"}}]},name:"number",theme:"outlined"};var _t=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:gt}))};_t.displayName="NumberOutlined";const yt=f.forwardRef(_t),bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"};var vt=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:bt}))};vt.displayName="FieldTimeOutlined";const xt=f.forwardRef(vt),wt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};var Et=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:wt}))};Et.displayName="BarChartOutlined";const It=f.forwardRef(Et),Ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"};var St=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:Ct}))};St.displayName="PieChartOutlined";const Ot=f.forwardRef(St),At={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h360c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H184V184h656v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM653.3 599.4l52.2-52.2a8.01 8.01 0 00-4.7-13.6l-179.4-21c-5.1-.6-9.5 3.7-8.9 8.9l21 179.4c.8 6.6 8.9 9.4 13.6 4.7l52.4-52.4 256.2 256.2c3.1 3.1 8.2 3.1 11.3 0l42.4-42.4c3.1-3.1 3.1-8.2 0-11.3L653.3 599.4z"}}]},name:"select",theme:"outlined"};var kt=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:At}))};kt.displayName="SelectOutlined";const Tt=f.forwardRef(kt),Nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var Ft=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:Nt}))};Ft.displayName="DeleteOutlined";const jt=f.forwardRef(Ft);var Pt=s(770);const Rt=e=>{const{filterCriteria:t,updateFilterCriteria:n}=e,{chartData:i=new Map}=t;return(0,f.useEffect)((()=>{const e=[...i.values()].reduce(((e,t)=>e+t),0),o=[...i.entries()].map((e=>{const[t,n]=e;return{x:t,value:n}})),r=new Pt.Pie(`${t.id}-chart-container`,{height:200,data:o,angleField:"value",colorField:"x",radius:.9,label:{type:"inner",offset:"-30%",content:({value:t})=>`${(t/e*100).toFixed(0)}%`,style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-selected"},{type:"element-active"}]});return r.render(),r.on("element:click",(({view:e})=>{const i=t.id,o=e.geometries[0].elements.filter((e=>-1!==e.states.indexOf("selected"))).map((e=>e.data.x)),r=0!==o.length;n(i,Object.assign(Object.assign({},t),{isFilterReady:r,selectValue:o}))})),r.setState("selected",(e=>!!t.selectValue&&-1!==t.selectValue.indexOf(e.x))),()=>{r.destroy()}}),[i]),p().createElement("div",{id:`${t.id}-chart-container`})},Mt=e=>{const{filterCriteria:t,updateFilterCriteria:n}=e,{chartData:i=new Map}=t;return(0,f.useEffect)((()=>{const e=[...i.entries()].map((e=>{const[t,n]=e;return{x:t,value:n,category:""}})),o=new Pt.WordCloud(`${t.id}-chart-container`,{data:e,height:200,wordField:"x",weightField:"value",color:"#122c6a",wordStyle:{fontFamily:"Verdana",fontSize:[10,16]},interactions:[{type:"element-active"},{type:"element-selected"}],state:{active:{style:{lineWidth:3}}}});return o.on("element:click",(({view:e})=>{const i=e.geometries[0].elements.filter((e=>-1!==e.states.indexOf("selected"))).map((e=>e.data.datum.x)),o=0!==i.length;n(t.id,Object.assign(Object.assign({},t),{isFilterReady:o,selectValue:i}))})),o.render(),()=>{o.destroy()}}),[i]),p().createElement("div",{id:`${t.id}-chart-container`})},Gt=e=>{const{filterCriteria:t,updateFilterCriteria:n}=e,{chartData:i=new Map}=t;return(0,f.useEffect)((()=>{Pt.G2.registerInteraction("element-highlight",{start:[{trigger:"element:click",action:"element-highlight:toggle"}]})}),[]),(0,f.useEffect)((()=>{const e=[...i.entries()].map((e=>{const[t,n]=e;return{x:t,y:n}})),o=new Pt.Column(`${t.id}-chart-container`,{data:e,xField:"x",yField:"y",height:200,color:"rgba(111, 147, 222, 1)",tooltip:{},interactions:[{type:"element-highlight"}],state:{active:{style:{fill:"rgba(56, 83, 215, 1)",lineWidth:0}}}});return o.on("element:click",(({view:e})=>{const i=t.id,o=e.geometries[0].elements.filter((e=>-1!==e.states.indexOf("active"))).map((e=>e.data.x)),r=0!==o.length;n(i,Object.assign(Object.assign({},t),{isFilterReady:r,selectValue:o}))})),o.render(),o.setState("active",(e=>!(!t.isFilterReady||!t.selectValue)&&t.selectValue.includes(e.x))),o.setState("inactive",(e=>!(!t.isFilterReady||!t.selectValue||t.selectValue.includes(e.x)))),()=>{o.destroy()}}),[i]),p().createElement("div",{id:`${t.id}-chart-container`})},Lt=e=>{const{filterCriteria:t,updateFilterCriteria:n}=e,{histogramData:i=[{}],histogramOptions:o}=t,{min:r,max:a,binWidth:c,isCustom:l}=o||{};return(0,f.useEffect)((()=>{Pt.G2.registerInteraction("element-highlight",{start:[{trigger:"element:click",action:"element-highlight:toggle"}]})}),[]),(0,f.useEffect)((()=>{const e=l?{binWidth:c,meta:{range:{min:r,max:a,nice:!0},count:{nice:!0}}}:{meta:{range:{nice:!0},count:{nice:!0}}},o=new Pt.Histogram(`${t.id}-chart-container`,Object.assign({data:i,height:200,binField:"value",color:"rgba(111, 147, 222, 1)",tooltip:{},interactions:[{type:"element-highlight"}],state:{active:{style:{fill:"rgba(56, 83, 215, 1)",lineWidth:0}}}},e));return o.on("element:click",(({view:e})=>{const i=e.geometries[0].elements.filter((e=>-1!==e.states.indexOf("active"))).map((e=>e.data.range)),o=0!==i.length;n(t.id,Object.assign(Object.assign({},t),{isFilterReady:o,range:i}))})),o.render(),o.setState("active",(e=>{if(!t.range||!t.isFilterReady)return!1;for(let n of t.range){const t=n[0],i=n[1];if(e.range[0]===t&&e.range[1]===i)return!0}return!1})),o.setState("inactive",(e=>{if(!t.range||!t.isFilterReady)return!1;for(let n of t.range){const t=n[0],i=n[1];if(e.range[0]===t&&e.range[1]===i)return!1}return!0})),()=>{o.destroy()}}),[i,r,a,c,l]),p().createElement("div",{id:`${t.id}-chart-container`})},Dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M320 224h-66v-56c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v56h-66c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8h66v56c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8v-56h66c4.4 0 8-3.6 8-8V232c0-4.4-3.6-8-8-8zm-60 508h-80V292h80v440zm644-436h-66v-96c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v96h-66c-4.4 0-8 3.6-8 8v416c0 4.4 3.6 8 8 8h66v96c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8v-96h66c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8zm-60 364h-80V364h80v296zM612 404h-66V232c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v172h-66c-4.4 0-8 3.6-8 8v200c0 4.4 3.6 8 8 8h66v172c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8V620h66c4.4 0 8-3.6 8-8V412c0-4.4-3.6-8-8-8zm-60 145a3 3 0 01-3 3h-74a3 3 0 01-3-3v-74a3 3 0 013-3h74a3 3 0 013 3v74z"}}]},name:"sliders",theme:"outlined"};var Bt=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:Dt}))};Bt.displayName="SlidersOutlined";const zt=f.forwardRef(Bt),qt=e=>{const{filterCriteria:t,updateFilterCriteria:n,onClose:i}=e,{binWidth:o,min:r,max:a}=t.histogramOptions||{};return f.createElement(F.Form,{name:"basic",labelCol:{span:10},wrapperCol:{span:14},initialValues:{binWidth:o,min:r,max:a},onFinish:e=>{n(t.id,Object.assign(Object.assign({},t),{histogramOptions:{isCustom:!0,binWidth:e.binWidth,min:e.min,max:e.max}})),i&&i()},autoComplete:"off",style:{width:"250px"}},f.createElement(F.Form.Item,{label:"范围最小值",name:"min"},f.createElement(F.InputNumber,{style:{width:"120px"}})),f.createElement(F.Form.Item,{label:"范围最大值",name:"max"},f.createElement(F.InputNumber,{style:{width:"120px"}})),f.createElement(F.Form.Item,{label:"分箱值",name:"binWidth"},f.createElement(F.InputNumber,{style:{width:"120px"}})),f.createElement(F.Form.Item,{wrapperCol:{span:24}},f.createElement(F.Button,{type:"primary",htmlType:"submit",style:{width:"100%"}},"保存分箱配置")))},Ut=e=>{const{filterCriteria:t,updateFilterCriteria:n}=e,[i,o]=f.useState(!1);return"HISTOGRAM"===t.analyzerType?f.createElement(F.Popover,{open:i,onOpenChange:e=>{o(e)},placement:"topLeft",title:"设置分箱规则",content:f.createElement(qt,Object.assign({},e,{onClose:()=>{o(!1)}})),trigger:"click"},f.createElement(F.Button,{type:"text",style:{padding:"4px"}},f.createElement(zt,null))):null},$t=e=>{const t=f.useRef(null),{source:n,filterCriteria:i,elementProps:o}=e,[r,a]=f.useState({yField:""}),{elementType:c}=i,{yField:l}=r;return f.useEffect((()=>{const e=n[`${c}s`].map((e=>e.data)).sort(((e,t)=>e[i.prop]<t[i.prop]?-1:1)),o=new Pt.Column(t.current,{data:e,padding:"auto",xField:i.prop,yField:l,slider:{}});return o.render(),()=>{o.destroy()}}),[l]),f.createElement("div",null,f.createElement(F.Select,{style:{width:"80%"},onChange:e=>{a((t=>Object.assign(Object.assign({},t),{yField:e})))},className:"gi-filter-panel-prop-select",placeholder:`选择${c}属性`},Object.entries(o).map((e=>{const[t,n]=e,i=Wt[n];return f.createElement(F.Select.Option,{value:t},i,t)}))),f.createElement("div",{ref:t}))},Vt=(e,t,n)=>{const{analyzerType:i,isFilterReady:o,elementType:r,prop:a,selectValue:c,range:l}=t;if(!o||"NONE"===i)return e;const s={nodes:[],edges:[]};if("node"===r){const t=new Set;s.nodes=e.nodes.filter((e=>{if("SELECT"===i||"PIE"===i||"WORDCLOUD"===i||"COLUMN"===i)return!(!e.data||null==e.data[a]||-1===(null==c?void 0:c.indexOf(e.data[a])))||(t.add(e.id),!1);if("HISTOGRAM"===i){for(let t of l){const n=t[0],i=t[1];if(e.data&&e.data[a]&&n<=e.data[a]&&e.data[a]<=i)return!0}return t.add(e.id),!1}})),s.edges=e.edges.filter((e=>!t.has(e.source)&&!t.has(e.target)))}else if("edge"===r){const t=new Set;s.edges=e.edges.filter((e=>{if("SELECT"===i||"PIE"===i||"WORDCLOUD"===i||"COLUMN"===i)return!(!e.data||null==e.data[a]||-1===(null==c?void 0:c.indexOf(e.data[a]))||(t.add(e.source),t.add(e.target),0));if("HISTOGRAM"===i){for(let n of l){const i=n[0],o=n[1];if(e.data&&e.data[a]&&i<=e.data[a]&&e.data[a]<=o)return t.add(e.source),t.add(e.target),!0}return!1}})),s.nodes=n?e.nodes.filter((e=>t.has(e.id))):e.nodes}return s},Ht=(e,t,n)=>{const i="node"===n?e.nodes:e.edges,o=new Map;return null==i||i.forEach((e=>{e.data&&null!=e.data[t]&&o.set(e.data[t],o.has(e.data[t])?o.get(e.data[t])+1:1)})),o},Wt={boolean:p().createElement(ht,{style:{color:"rgb(39, 110, 241)",marginRight:"4px"}}),string:p().createElement(ht,{style:{color:"rgb(39, 110, 241)",marginRight:"4px"}}),number:p().createElement(yt,{style:{color:"rgb(255, 192, 67)",marginRight:"4px"}}),date:p().createElement(xt,{style:{color:"rgb(255, 192, 67)",marginRight:"4px"}})},Yt={COLUMN:p().createElement(It,null),PIE:p().createElement(Ot,null),SELECT:p().createElement(Tt,null)},Kt=e=>{const{filterCriteria:t,nodeProperties:n,edgeProperties:i,updateFilterCriteria:o,removeFilterCriteria:r,source:a}=e,[c,l]=(0,f.useState)(!1),s=e=>{const r=t.id,c=e.slice(0,4),s=e.slice(5),d="node"===c?n:i;let u;if("number"===d[s])u="HISTOGRAM",o(r,Object.assign(Object.assign({},t),{id:r,analyzerType:u,isFilterReady:!1,elementType:c,prop:s})),l(!1);else if("boolean"===d[s])u="Column",o(r,Object.assign(Object.assign({},t),{id:r,isFilterReady:!1,elementType:c,prop:s,analyzerType:u})),l(!1);else if("string"===d[s]){const e=Ht(a,s,c),n=[...e.keys()].map((e=>({value:e,label:e})));u=e.size<=5?"PIE":e.size<=10?"COLUMN":"SELECT",o(r,Object.assign(Object.assign({},t),{id:r,isFilterReady:!1,elementType:c,prop:s,analyzerType:u,selectOptions:n,chartData:e})),l(!0)}else"date"===d[s]?(u="DATE",o(r,Object.assign(Object.assign({},t),{id:r,isFilterReady:!1,elementType:c,prop:s,analyzerType:u})),l(!1)):(u="NONE",o(r,Object.assign(Object.assign({},t),{id:r,isFilterReady:!1,elementType:c,prop:s,analyzerType:u})),l(!1))},d="node"===t.elementType?n:i;(0,f.useEffect)((()=>{t.defaultKey&&s(t.defaultKey)}),[t.defaultKey]),(0,f.useEffect)((()=>{const{prop:e,elementType:n,analyzerType:i}=t;if(e&&n&&i&&-1!==["PIE","SELECT","WORDCLOUD"].indexOf(i)){const i=Ht(a,e,n);o(t.id,Object.assign(Object.assign({},t),{chartData:i}))}if(e&&n&&i&&-1!==["HISTOGRAM"].indexOf(i)){const i=((e,t,n)=>{const i=("node"===n?e.nodes:e.edges).filter((e=>e.data&&e.data[t]&&"number"==typeof e.data[t])).map((e=>({value:e.data[t]})));return i.sort(((e,t)=>e.value-t.value)),i})(a,e,n);o(t.id,Object.assign(Object.assign({},t),{histogramData:i}))}}),[a,t.prop,t.elementType,t.analyzerType]);const u=p().createElement(F.Menu,{onClick:({key:e})=>{o(t.id,Object.assign(Object.assign({},t),{analyzerType:e}))},items:[{key:"COLUMN",label:p().createElement(It,null)},{key:"PIE",label:p().createElement(Ot,null)},{key:"SELECT",label:p().createElement(Tt,null)}]});return p().createElement("div",{key:t.id,className:"gi-filter-panel-group"},p().createElement("div",{className:"gi-filter-panel-prop"},p().createElement(F.Select,{style:{width:"80%"},onChange:s,className:"gi-filter-panel-prop-select",placeholder:"选择元素属性",showSearch:!0,filterOption:(e,t)=>{var n;return null===(n=null==t?void 0:t.value)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase())},value:t.elementType&&t.prop?`${t.elementType}-${t.prop}`:void 0},p().createElement(F.Select.OptGroup,{key:"node",label:"节点"},Object.entries(n).map((e=>{const[t,n]=e,i=Wt[n];return p().createElement(F.Select.Option,{value:`node-${t}`},i,t)}))),p().createElement(F.Select.OptGroup,{key:"edge",label:"边"},Object.entries(i).map((e=>{const[t,n]=e,i=Wt[n];return p().createElement(F.Select.Option,{value:`edge-${t}`},i,t)})))),c&&p().createElement(F.Dropdown,{overlay:u},p().createElement(F.Button,{icon:Yt[t.analyzerType],type:"text"})),p().createElement(Ut,{filterCriteria:t,updateFilterCriteria:o}),p().createElement(F.Button,{onClick:()=>r(t.id),type:"text",style:{padding:"4px"}},p().createElement(jt,{className:"gi-filter-panel-delete"}))),p().createElement("div",{className:"gi-filter-panel-value",id:`${t.id}-chart-container`},"SELECT"==t.analyzerType&&p().createElement(F.Select,{style:{width:"100%"},onChange:e=>{const n=t.id,i=0!==e.length;o(n,Object.assign(Object.assign({},t),{isFilterReady:i,selectValue:e}))},mode:"tags",placeholder:"选择筛选值",options:t.selectOptions,value:t.selectValue}),"PIE"===t.analyzerType&&p().createElement(Rt,{filterCriteria:t,updateFilterCriteria:o}),"WORDCLOUD"===t.analyzerType&&p().createElement(Mt,{filterCriteria:t,updateFilterCriteria:o}),"COLUMN"===t.analyzerType&&p().createElement(Gt,{filterCriteria:t,updateFilterCriteria:o}),"HISTOGRAM"===t.analyzerType&&p().createElement(Lt,{filterCriteria:t,updateFilterCriteria:o}),"DATE"===t.analyzerType&&p().createElement($t,{filterCriteria:t,source:a,elementProps:d,width:document.getElementsByClassName("gi-filter-panel-prop")[0].clientWidth}),"NONE"===t.analyzerType&&p().createElement("span",null,"请选择合法字段")))},{isStyles:Qt}=c.utils,Zt={id:"FilterPanel",name:"筛选面板",desc:"通过属性筛选画布信息，可自定义",icon:"icon-filter",cover:"http://xxxx.jpg",category:"data-analysis",type:"GIAC_CONTENT"},{deepClone:Jt,GIAC_CONTENT_METAS:Xt}=c.extra,en=Jt(Xt);en.GIAC_CONTENT.properties.GIAC_CONTENT.properties.title.default=Zt.name,en.GIAC_CONTENT.properties.GIAC_CONTENT.properties.icon.default=Zt.icon,en.GIAC_CONTENT.properties.GIAC_CONTENT.properties.tooltip.default=Zt.desc,en.GIAC_CONTENT.properties.GIAC_CONTENT.properties.containerWidth.default="400px";const tn={info:Zt,component:e=>{const{isFilterIsolatedNodes:t,highlightMode:n,filterLogic:i,filterKeys:o,histogramOptions:r}=e,[a,l]=(0,f.useState)({}),{source:s,updateContext:d,transform:u,schemaData:m,graph:h}=(0,c.useContext)(),g=(0,f.useMemo)((()=>m.nodes.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{})),[m]),_=(0,f.useMemo)((()=>m.edges.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{})),[m]),y=(e,t)=>{l((n=>Object.assign(Object.assign({},n),{[e]:t})))},b=e=>{l((t=>{const n={};for(let i in t)i!==e&&(n[i]=t[i]);return n}))};return(0,f.useEffect)((()=>{const e=o.map((e=>({id:ft(),defaultKey:e,histogramOptions:r,isFilterReady:!1}))).reduce(((e,t)=>(e[t.id]=t,e)),{});l(e)}),[o]),(0,f.useEffect)((()=>{let e=s;if("and"===i?Object.values(a).map((n=>{e=Vt(e,n,t)})):(e={nodes:[],edges:[]},Object.values(a).map((n=>{const i=Vt(s,n,t);e.nodes=[...e.nodes,...i.nodes],e.edges=[...e.edges,...i.edges]})),e.nodes=c.utils.uniqueElementsBy(e.nodes,((e,t)=>e.id===t.id)),e.edges=c.utils.uniqueElementsBy(e.edges,((e,t)=>e.id===t.id))),n){const{isEmpty:t,isFull:n}=((e,t)=>{const n=e.save(),i=t.nodes.map((e=>e.id)),o=[];t.edges.forEach((e=>{const{aggregate:t}=e;t?t.forEach((e=>{o.push(e.id)})):o.push(e.id)}));const r=n.nodes.length,a=o.length,c=t.nodes.length,l=t.edges.length,s=0===c&&0===l,d=c===r&&l===a;return s||d?(n.nodes.forEach((function(t){e.clearItemStates(t.id)})),n.edges.forEach((function(t){e.clearItemStates(t.id)})),{isEmpty:s,isFull:d}):(n.nodes.forEach((t=>{i.includes(t.id)?(e.setItemState(t.id,"disabled",!1),e.setItemState(t.id,"selected",!0)):(e.setItemState(t.id,"selected",!1),e.setItemState(t.id,"disabled",!0))})),n.edges.forEach((t=>{const{aggregate:n,id:i}=t;let r=!1;r=n?n.map((e=>e.id)).some((e=>o.includes(e))):o.includes(i),r?(e.setItemState(t.id,"disabled",!1),e.setItemState(t.id,"selected",!0)):(e.setItemState(t.id,"selected",!1),e.setItemState(t.id,"disabled",!0))})),{isEmpty:s,isFull:d})})(h,e);d((e=>{e.persistentHighlight=!t&&!n}))}else d((t=>{Qt(s.nodes)?t.data=e:t.data=u(e),t.layoutCache=!0}))}),[a]),p().createElement("div",{className:"gi-filter-panel"},p().createElement(F.Button,{type:"primary",style:{width:"100%",borderRadius:"4px"},onClick:()=>(e=>{const t=ft(),n={id:t,defaultKey:void 0,histogramOptions:r,isFilterReady:!1};l((e=>Object.assign(Object.assign({},e),{[t]:n})))})(),icon:p().createElement(ut,null)},"增加筛选器"),p().createElement("div",{className:"gi-filter-panel-criteria-container"},Object.values(a).map((e=>p().createElement(Kt,{source:s,filterCriteria:e,nodeProperties:g,edgeProperties:_,updateFilterCriteria:y,removeFilterCriteria:b})))))},registerMeta:({schemaData:e})=>{const t=e.nodes.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{}),n=e.edges.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{}),i=Object.entries(t).map((e=>{const[t,n]=e;return{label:`node-${t}`,value:`node-${t}`}})),o=Object.entries(n).map((e=>{const[t,n]=e;return{label:`edge-${t}`,value:`edge-${t}`}}));return Object.assign({filterKeys:{title:"默认筛选字段",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},enum:[...i,...o],default:[]},isFilterIsolatedNodes:{title:"过滤孤立节点",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},highlightMode:{title:"高亮模式",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},filterLogic:{title:"筛选逻辑",type:"string","x-decorator":"FormItem","x-component":"Select",enum:[{value:"and",label:"and"},{value:"or",label:"or"}],default:"and"},histogramOptions:{type:"object","x-decorator":"FormItem","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"分箱设置"},properties:{isCustom:{title:"自定义分箱",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1,"x-reactions":[{target:"histogramOptions.min",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"histogramOptions.max",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"histogramOptions.binWidth",fulfill:{state:{visible:"{{$self.value}}"}}}]},min:{title:"区间最小值",type:"string","x-decorator":"FormItem","x-component":"NumberPicker",default:null},max:{title:"区间最大值",type:"string","x-decorator":"FormItem","x-component":"NumberPicker",default:null},binWidth:{title:"分箱值",type:"string","x-decorator":"FormItem","x-component":"NumberPicker",default:null}}}},en)}},{GIAComponent:nn}=c.extra,on={id:"FitCenter",name:"视图居中",desc:"调整画布，使其居中对齐",icon:"icon-fit-center",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"GIAC"},{deepClone:rn,GIAC_METAS:an}=c.extra,cn=rn(an);cn.GIAC.properties.GIAC.properties.title.default=on.name,cn.GIAC.properties.GIAC.properties.icon.default=on.icon,cn.GIAC.properties.GIAC.properties.isShowTitle.default=!1,cn.GIAC.properties.GIAC.properties.tooltipPlacement.default="right";const ln={info:on,component:e=>{const{GIAC:t}=e,{graph:n}=f.useContext(l.GraphinContext);return f.createElement(nn,{GIAC:t,onClick:()=>n.fitCenter()})},registerMeta:()=>cn},{GIAComponent:sn}=c.extra,dn={id:"FitView",name:"自适应",desc:"调整画布，使其自适应 1:1 展示",icon:"icon-fit-view",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"GIAC"},{deepClone:un,GIAC_METAS:fn}=c.extra,pn=un(fn);pn.GIAC.properties.GIAC.properties.title.default=dn.name,pn.GIAC.properties.GIAC.properties.icon.default=dn.icon,pn.GIAC.properties.GIAC.properties.isShowTitle.default=!1,pn.GIAC.properties.GIAC.properties.tooltipPlacement.default="right";const mn={info:dn,component:e=>{const{GIAC:t}=e,{graph:n}=f.useContext(l.GraphinContext);return f.createElement(sn,{GIAC:t,onClick:()=>n.fitView()})},registerMeta:()=>pn};var hn=s(314),gn=s.n(hn);function _n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yn(e){return!!e&&!!e[ii]}function bn(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ri}(e)||Array.isArray(e)||!!e[ni]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ni])||In(e)||Cn(e))}function vn(e,t,n){void 0===n&&(n=!1),0===xn(e)?(n?Object.keys:ai)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function xn(e){var t=e[ii];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:In(e)?2:Cn(e)?3:0}function wn(e,t){return 2===xn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function En(e,t,n){var i=xn(e);2===i?e.set(t,n):3===i?(e.delete(t),e.add(n)):e[t]=n}function In(e){return Jn&&e instanceof Map}function Cn(e){return Xn&&e instanceof Set}function Sn(e){return e.o||e.t}function On(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ci(e);delete t[ii];for(var n=ai(t),i=0;i<n.length;i++){var o=n[i],r=t[o];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[o]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function An(e,t){return void 0===t&&(t=!1),Tn(e)||yn(e)||!bn(e)||(xn(e)>1&&(e.set=e.add=e.clear=e.delete=kn),Object.freeze(e),t&&vn(e,(function(e,t){return An(t,!0)}),!0)),e}function kn(){_n(2)}function Tn(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Nn(e){var t=li[e];return t||_n(18,e),t}function Fn(){return Qn}function jn(e,t){t&&(Nn("Patches"),e.u=[],e.s=[],e.v=t)}function Pn(e){Rn(e),e.p.forEach(Gn),e.p=null}function Rn(e){e===Qn&&(Qn=e.l)}function Mn(e){return Qn={p:[],l:Qn,h:e,m:!0,_:0}}function Gn(e){var t=e[ii];0===t.i||1===t.i?t.j():t.O=!0}function Ln(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||Nn("ES5").S(t,e,i),i?(n[ii].P&&(Pn(t),_n(4)),bn(e)&&(e=Dn(t,e),t.l||zn(t,e)),t.u&&Nn("Patches").M(n[ii].t,e,t.u,t.s)):e=Dn(t,n,[]),Pn(t),t.u&&t.v(t.u,t.s),e!==ti?e:void 0}function Dn(e,t,n){if(Tn(t))return t;var i=t[ii];if(!i)return vn(t,(function(o,r){return Bn(e,i,t,o,r,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return zn(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var o=4===i.i||5===i.i?i.o=On(i.k):i.o;vn(3===i.i?new Set(o):o,(function(t,r){return Bn(e,i,o,t,r,n)})),zn(e,o,!1),n&&e.u&&Nn("Patches").R(i,n,e.u,e.s)}return i.o}function Bn(e,t,n,i,o,r){if(yn(o)){var a=Dn(e,o,r&&t&&3!==t.i&&!wn(t.D,i)?r.concat(i):void 0);if(En(n,i,a),!yn(a))return;e.m=!1}if(bn(o)&&!Tn(o)){if(!e.h.F&&e._<1)return;Dn(e,o),t&&t.A.l||zn(e,o)}}function zn(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&An(t,n)}function qn(e,t){var n=e[ii];return(n?Sn(n):e)[t]}function Un(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function $n(e){e.P||(e.P=!0,e.l&&$n(e.l))}function Vn(e){e.o||(e.o=On(e.t))}function Hn(e,t,n){var i=In(t)?Nn("MapSet").N(t,n):Cn(t)?Nn("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:Fn(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=i,r=si;n&&(o=[i],r=di);var a=Proxy.revocable(o,r),c=a.revoke,l=a.proxy;return i.k=l,i.j=c,l}(t,n):Nn("ES5").J(t,n);return(n?n.A:Fn()).p.push(i),i}function Wn(e){return yn(e)||_n(22,e),function e(t){if(!bn(t))return t;var n,i=t[ii],o=xn(t);if(i){if(!i.P&&(i.i<4||!Nn("ES5").K(i)))return i.t;i.I=!0,n=Yn(t,o),i.I=!1}else n=Yn(t,o);return vn(n,(function(t,o){i&&function(e,t){return 2===xn(e)?e.get(t):e[t]}(i.t,t)===o||En(n,t,e(o))})),3===o?new Set(n):n}(e)}function Yn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return On(e)}var Kn,Qn,Zn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Jn="undefined"!=typeof Map,Xn="undefined"!=typeof Set,ei="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ti=Zn?Symbol.for("immer-nothing"):((Kn={})["immer-nothing"]=!0,Kn),ni=Zn?Symbol.for("immer-draftable"):"__$immer_draftable",ii=Zn?Symbol.for("immer-state"):"__$immer_state",oi="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",ri=""+Object.prototype.constructor,ai="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ci=Object.getOwnPropertyDescriptors||function(e){var t={};return ai(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},li={},si={get:function(e,t){if(t===ii)return e;var n=Sn(e);if(!wn(n,t))return function(e,t,n){var i,o=Un(t,n);return o?"value"in o?o.value:null===(i=o.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!bn(i)?i:i===qn(e.t,t)?(Vn(e),e.o[t]=Hn(e.A.h,i,e)):i},has:function(e,t){return t in Sn(e)},ownKeys:function(e){return Reflect.ownKeys(Sn(e))},set:function(e,t,n){var i=Un(Sn(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var o=qn(Sn(e),t),r=null==o?void 0:o[ii];if(r&&r.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||wn(e.t,t)))return!0;Vn(e),$n(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==qn(e.t,t)||t in e.t?(e.D[t]=!1,Vn(e),$n(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Sn(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){_n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_n(12)}},di={};vn(si,(function(e,t){di[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),di.deleteProperty=function(e,t){return di.set.call(this,e,t,void 0)},di.set=function(e,t,n){return si.set.call(this,e[0],t,n,e[0])};var ui=function(){function e(e){var t=this;this.g=ei,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var r=t;return function(e){var t=this;void 0===e&&(e=o);for(var i=arguments.length,a=Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return r.produce(e,(function(e){var i;return(i=n).call.apply(i,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&_n(6),void 0!==i&&"function"!=typeof i&&_n(7),bn(e)){var c=Mn(t),l=Hn(t,e,void 0),s=!0;try{a=n(l),s=!1}finally{s?Pn(c):Rn(c)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return jn(c,i),Ln(e,c)}),(function(e){throw Pn(c),e})):(jn(c,i),Ln(a,c))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===ti&&(a=void 0),t.F&&An(a,!0),i){var d=[],u=[];Nn("Patches").M(e,a,d,u),i(d,u)}return a}_n(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var i=arguments.length,o=Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var i,o,r=t.produce(e,n,(function(e,t){i=e,o=t}));return"undefined"!=typeof Promise&&r instanceof Promise?r.then((function(e){return[e,i,o]})):[r,i,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){bn(e)||_n(8),yn(e)&&(e=Wn(e));var t=Mn(this),n=Hn(this,e,void 0);return n[ii].C=!0,Rn(t),n},t.finishDraft=function(e,t){var n=(e&&e[ii]).A;return jn(n,t),Ln(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ei&&_n(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));var o=Nn("Patches").$;return yn(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),fi=new ui,pi=fi.produce;fi.produceWithPatches.bind(fi),fi.setAutoFreeze.bind(fi),fi.setUseProxies.bind(fi),fi.applyPatches.bind(fi),fi.createDraft.bind(fi),fi.finishDraft.bind(fi);const mi=pi;function hi(e){var t=(0,f.useState)((function(){return An("function"==typeof e?e():e,!0)})),n=t[1];return[t[0],(0,f.useCallback)((function(e){n("function"==typeof e?mi(e):An(e))}),[])]}var gi=s(258);const _i=e=>{const{children:t,width:n,isDisplay:i,toggleVisible:o,visible:r}=e;return p().createElement("div",{style:{width:r?n:"0px",display:i?"flex":"none",padding:r?"10px":"0"},className:"gi-grail-layout gi-grail-layout-left"},p().createElement(gi.Z,{type:"left",handleClick:o}),t)},yi=e=>{const{children:t,height:n,isDisplay:i,left:o,right:r,visible:a,toggleVisible:c}=e;return p().createElement("div",{style:{height:a?n:"0",display:i?"flex":"none",left:o,right:r,padding:a?"10px":"0"},className:"gi-grail-layout gi-grail-layout-bottom"},p().createElement(gi.Z,{type:"bottom",handleClick:c}),t)},bi=e=>{const{children:t,width:n,isDisplay:i,toggleVisible:o,visible:r}=e;return p().createElement("div",{style:{width:r?n:"0px",display:i?"flex":"none",padding:r?"10px":"0"},className:"gi-grail-layout gi-grail-layout-right"},p().createElement(gi.Z,{type:"right",handleClick:o}),t)},vi=e=>{const{children:t,height:n,isDisplay:i,left:o,right:r,visible:a,toggleVisible:c}=e;return p().createElement("div",{style:{height:a?n:"0",display:i?"flex":"none",left:o,right:r,padding:a?"10px":"0"},className:"gi-grail-layout gi-grail-layout-top"},t)},xi=(e,t,n,i)=>p().useMemo((()=>{const o=e.map((e=>t[e])).filter((e=>e&&e.props&&e.props.GIAC_CONTENT)).sort(((e,t)=>e.props.GI_CONTAINER_INDEX-t.props.GI_CONTAINER_INDEX));if((!o||0===o.length)&&i)return p().createElement(F.Empty,{style:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"},description:"当前容器中没用原子组件，请在左侧配置面板中添加"});const r=o.map(((e,t)=>{if(!e)return console.warn(`config not found, index: ${t}`),null;const{props:i,id:o}=e,r=n[o];if(!r)return console.warn(`asset: ${o} not found`),null;const{component:a}=r,{icon:l}=e.props.GIAC_CONTENT||{};return p().createElement("div",{className:"gi-grail-layout-component-container"},p().createElement("header",null,p().createElement(c.Icon,{type:l,style:{color:"var(--primary-color)",fontSize:"20px",marginRight:"8px"}}),e.name),p().createElement("div",{className:"gi-grail-layout-component-body"},p().createElement(a,Object.assign({},i))))}));return r}),[e,t,n,i]),wi={info:{id:"GrailLayout",name:"圣杯布局",desc:"支持左、右、下三个方向资产布局",icon:"icon-layout",cover:"http://xxxx.jpg",category:"container-components",type:"GICC"},component:e=>{const{graph:t}=(0,c.useContext)(),{ComponentCfgMap:n,assets:i,GISDK_ID:o,GI_CONTAINER_LEFT:r=[],GI_CONTAINER_RIGHT:a=[],GI_CONTAINER_BOTTOM:l=[],GI_CONTAINER_TOP:s=[],leftWidth:d,rightWidth:u,bottomHeight:f,topHeight:m,leftDisplay:h,rightDisplay:g,bottomDisplay:_,topDisplay:y,leftVisible:b,rightVisible:v,bottomVisible:x,topVisible:w}=e,[E,I]=hi({leftVisible:b,rightVisible:v,bottomVisible:x,topVisible:w}),C=xi(r,n,i,E.leftVisible),S=xi(a,n,i,E.rightVisible),O=xi(l,n,i,E.bottomVisible),A=xi(s,n,i,E.topVisible),k=document.getElementById(`${o}-container`);return p().useEffect((()=>{const e=document.getElementById(`${o}-graphin-container`),n=E.leftVisible&&h?d:"0px",i=E.rightVisible&&g?u:"0px",r=E.bottomVisible&&_?f:"0px";e.style.position="absolute",e.style.left=n,e.style.right=i,e.style.width=`calc(100% - ${n} - ${i})`,e.style.height=`calc(100% - ${r})`;const a=document.getElementById(`${o}-container`),c=a.clientWidth,l=a.clientHeight;try{const e=c-(Number(n.split("px")[0])+Number(i.split("px")[0])),o=l-Number(r.split("px")[0]),a=t.get("canvas");a&&(a.changeSize(e,o),t.autoPaint(),t.fitView())}catch(e){}}),[h,E.leftVisible,d,g,E.rightVisible,u,_,E.bottomVisible,f]),p().useEffect((()=>{const e=document.getElementById(`${o}-graphin-container`);return()=>{e.style.position="relative",e.style.left="0",e.style.right="0",e.style.width="100%",e.style.height="100%";const n=e.clientWidth,i=e.clientHeight,o=t.get("canvas");o&&(o.changeSize(n,i),t.autoPaint())}}),[]),p().createElement("div",null,gn().createPortal(p().createElement(_i,{width:d,isDisplay:h,toggleVisible:()=>{I((e=>{e.leftVisible=!e.leftVisible}))},visible:E.leftVisible},C),k),gn().createPortal(p().createElement(yi,{height:f,isDisplay:_,left:E.leftVisible&&h?d:"0px",right:E.rightVisible&&g?u:"0px",toggleVisible:()=>{I((e=>{e.bottomVisible=!e.bottomVisible}))},visible:E.bottomVisible},O),k),gn().createPortal(p().createElement(bi,{width:u,isDisplay:g,visible:E.rightVisible,toggleVisible:()=>{I((e=>{e.rightVisible=!e.rightVisible}))}},S),k),gn().createPortal(p().createElement(vi,{height:m,isDisplay:y,left:E.leftVisible&&h?d:"0px",right:E.rightVisible&&g?u:"0px",toggleVisible:()=>{I((e=>{e.topVisible=!e.topVisible}))},visible:E.topVisible},A),k))},registerMeta:e=>{const{GIAC_CONTENT_ITEMS:t=[]}=e;return{GI_CONTAINER_LEFT:{title:"左侧组件",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},enum:t,default:[]},leftDisplay:{title:"显示左侧容器",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},leftVisible:{title:"默认展开左侧容器",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},leftWidth:{title:"左侧宽度",type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{},default:"400px"},GI_CONTAINER_RIGHT:{title:"右侧组件",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},enum:t,default:[]},rightDisplay:{title:"显示右侧容器",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},rightVisible:{title:"默认展开右侧容器",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},rightWidth:{title:"右侧宽度",type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{},default:"400px"},GI_CONTAINER_BOTTOM:{title:"底部组件",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},enum:t,default:[]},bottomDisplay:{title:"显示底部容器",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},bottomVisible:{title:"默认展开底部容器",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},bottomHeight:{title:"底部高度",type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{},default:"400px"},GI_CONTAINER_TOP:{title:"顶部组件",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},enum:t,default:[]},topDisplay:{title:"显示顶部容器",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!1},topVisible:{title:"默认展开顶部容器",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!1},topHeight:{title:"顶部高度",type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{},default:"200px"}}}},{GIAComponent:Ei}=c.extra,{BrushSelect:Ii,DragCanvas:Ci}=l.Behaviors,Si={id:"LassoSelect",name:"自由圈选",desc:"可通过拉索工具，自由圈选画布元素",icon:"icon-lasso",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"GIAC"},{deepClone:Oi,GIAC_METAS:Ai}=c.extra,ki=Oi(Ai);ki.GIAC.properties.GIAC.properties.title.default=Si.name,ki.GIAC.properties.GIAC.properties.icon.default=Si.icon,ki.GIAC.properties.GIAC.properties.tooltip.default="按住Shift，点击画布即可自由圈选",ki.GIAC.properties.GIAC.properties.isShowTitle.default=!1;const Ti={info:Si,component:e=>{const{GIAC:t}=e,[n,i]=p().useState(!1),[o,r]=(0,f.useState)([]),[a,s]=(0,f.useState)([]),{graph:d,GISDK_ID:u}=(0,c.useContext)(),m=(e,t)=>{r([...o,...e]),s([...a,...t]),o.forEach((e=>{d.setItemState(e,"selected",!0)})),a.forEach((e=>{d.setItemState(e,"selected",!0)}))},h=()=>{s([]),r([])},g=e=>{const{state:t,item:n,enabled:i}=e;if("selected"===t){const e=null==n?void 0:n.getType();"node"===e?r(i?[...d.findAllByState("node","selected"),n]:d.findAllByState("node","selected").filter((e=>e.getID()!==(null==n?void 0:n.getID())))):"edge"===e&&s(i?[...d.findAllByState("edge","selected"),n]:d.findAllByState("edge","selected").filter((e=>e.getID()!==(null==n?void 0:n.getID()))))}},_=e=>{const{states:t,item:n}=e;if("selected"===t){const e=null==n?void 0:n.getType();"node"===e?r(d.findAllByState("node","selected").filter((e=>e.getID()!==(null==n?void 0:n.getID())))):"edge"===e&&s(d.findAllByState("edge","selected").filter((e=>e.getID()!==(null==n?void 0:n.getID()))))}};return(0,f.useEffect)((()=>(d.on("afteritemstatechange",g),d.on("afteritemstatesclear",_),()=>{d.off("afteritemstatesclear",_),d.off("afteritemstatechange",g)})),[d]),p().createElement("div",null,p().createElement(Ei,{onClick:()=>{i(!n),document.getElementsByClassName("graphin-core")[0].style.opacity=n?1:.8},GIAC:t}),gn().createPortal(p().createElement((e=>{const{isLasso:t}=e;return t?p().createElement(p().Fragment,null,p().createElement(l.Behaviors.LassoSelect,{onSelect:m,onDeselect:h}),p().createElement(Ii,{disabled:!0}),p().createElement(Ci,null)):p().createElement(p().Fragment,null,p().createElement(l.Behaviors.LassoSelect,{disabled:!0}),p().createElement(Ii,null),p().createElement(Ci,null))}),{isLasso:n}),document.getElementById(`${u}-graphin-container`)))},registerMeta:()=>ki},{GIAComponent:Ni}=c.extra,Fi={id:"LayoutSwitch",name:"布局切换",desc:"一键切换布局",icon:"icon-layout",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"GIAC"},{deepClone:ji,GIAC_METAS:Pi}=c.extra,Ri=ji(Pi);Ri.GIAC.properties.GIAC.properties.title.default=Fi.name,Ri.GIAC.properties.GIAC.properties.icon.default=Fi.icon,Ri.GIAC.properties.GIAC.properties.isShowTooltip.default=!1,Ri.GIAC.properties.GIAC.properties.tooltip.default="一键切换画布布局",Ri.GIAC.properties.GIAC.properties.isShowTitle.default=!1;const Mi={info:Fi,component:e=>{var t;const{GIAC:n}=e,{assets:i,config:o,data:r,schemaData:a,updateContext:l}=(0,c.useContext)(),{layouts:s={}}=i,d=(0,f.useMemo)((()=>p().createElement(F.Space,{direction:"vertical"},Object.keys(s).map((e=>{const t=s[e],{registerMeta:n=(()=>({})),info:i={}}=t,o=c.utils.getKeysByData(r,"node"),{id:d,name:u,options:f={},icon:m=""}=i,h=n({data:r,keys:o,schemaData:a}),g=c.utils.getDefaultValues({type:"object",properties:h}),_={id:d,props:Object.assign(Object.assign({},f),g)};return p().createElement(F.Radio,{value:d,onClick:()=>(e=>{l((t=>{t.layout=e.props,t.config.layout=e,t.layoutCache=!1}))})(_)},p().createElement(c.Icon,{type:m}),u)})))),[s]),u=p().createElement(F.Card,{title:"布局方案",size:"small"},p().createElement(F.Radio.Group,{value:null===(t=o.layout)||void 0===t?void 0:t.id},d));return p().createElement(F.Popover,{content:u,placement:"right"},p().createElement(Ni,{GIAC:n}))},registerMeta:()=>Ri},Gi={info:{id:"Loading",name:"加载动画",desc:"异步加载数据时，可展示加载动画",icon:"icon-loading",cover:"http://xxxx.jpg",category:"system-interaction",type:"AUTO"},component:e=>{const t=(0,c.useContext)(),{isLoading:n}=t;return n?f.createElement("div",{className:"gi-loading"},f.createElement(F.Spin,null)):null},registerMeta:()=>({})},{MiniMap:Li}=l.Components,Di={info:{id:"MiniMap",name:"小地图",desc:"启用后，可在小地图上展示信息",icon:"icon-minimap",cover:"http://xxxx.jpg",category:"system-interaction",type:"AUTO"},component:Li,registerMeta:()=>({})};const{SubMenu:Bi}=F.Menu,zi="NeighborsQuery",qi={id:zi,category:"data-query",type:"GIAC_MENU",name:"邻居查询",desc:"集成在右键菜单中，可查询邻居节点",icon:"icon-kinship",cover:"http://xxxx.jpg",services:[zi]},Ui={info:qi,component:e=>{var t;const{contextmenu:n,serviceId:i,degree:o,isFocus:r}=e,a=(0,f.useRef)({expandIds:[],expandStartId:""}),{data:l,updateContext:s,transform:d,graph:u,config:m,services:h}=(0,c.useContext)(),g=c.utils.getService(h,i),{item:_}=n;if(!g||"node"!==(null===(t=_.getType)||void 0===t?void 0:t.call(_)))return null;const y=e=>function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function c(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function*(){var t;const i=u.findAllByState("node","selected"),o=new Map;i.forEach((e=>{const t=e.getModel();o.set(t.id,t)}));const{key:r}=e,f=r.replace("expand-",""),p=n.item.getModel();u.setItemState(p.id,"selected",!0),o.set(p.id,p);const m=[...o.keys()],h=[...o.values()];s((e=>{e.isLoading=!0}));const _=yield g({ids:m,nodes:h,sep:f}),y=c.utils.handleExpand(l,_),b=(null===(t=_.nodes)||void 0===t?void 0:t.map((e=>e.id)))||[],v=p.id;a.current.expandIds=b,a.current.expandStartId=v,n.onClose(),s((e=>{const t=d(y);if(e.data=t,e.source=t,e.isLoading=!1,"preset"===e.layout.type){const{props:t}=e.config.layout||{props:{type:"graphin-force"}};e.layout=t}}))}));return(0,f.useEffect)((()=>{const e=()=>{const{expandIds:e,expandStartId:t}=a.current;if(0===e.length)return;e.forEach((e=>{const t=u.findById(e);t&&!t.destroyed&&u.setItemState(e,"query_normal",!0)}));const n=u.findById(t);n&&!n.destroyed&&(u.setItemState(t,"query_start",!0),r&&u.focusItem(t))};return u.on("graphin:datachange",e),()=>{u.off("graphin:datachange",e)}}),[r]),p().createElement(Bi,{key:"expand",eventKey:"expand",title:"扩展查询"},p().createElement(F.Menu.Item,{key:"expand-1",eventKey:"expand-1",onClick:y},"一度扩展"),p().createElement(F.Menu.Item,{key:"expand-2",eventKey:"expand-2",onClick:y},"二度扩展"),p().createElement(F.Menu.Item,{key:"expand-3",eventKey:"expand-3",onClick:y},"三度扩展"))},registerMeta:e=>{const{services:t,engineId:n}=e,{options:i,defaultValue:o}=c.utils.getServiceOptionsByEngineId(t,qi.services[0],n);return{serviceId:{title:"数据服务",type:"string","x-decorator":"FormItem","x-component":"Select",default:o,"x-component-props":{options:i}},degree:{title:"查询度数",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{value:"1",label:"一度查询"},{value:"2",label:"二度查询"},{value:"3",label:"三度查询"}]},default:"1"},isFocus:{title:"是否聚焦到扩散点",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!0}}}},{getPositionStyles:$i}=c.utils,{Legend:Vi}=l.Components,Hi={info:{id:"NodeLegend",name:"节点图例",desc:"启用后可展示节点的图例信息",icon:"icon-legend",cover:"http://xxxx.jpg",category:"data-analysis",type:"AUTO"},component:e=>{const{sortKey:t,placement:n,offset:i}=e,o=$i(n,i);return p().createElement("div",null,p().createElement(Vi,{bindType:"node",sortKey:`data.${t}`,style:o},(e=>p().createElement(Vi.Node,Object.assign({},e)))))},registerMeta:e=>{var t;const{data:n,schemaData:i}=e;let o=["id"];try{o=Object.keys((null===(t=n.nodes[0])||void 0===t?void 0:t.data)||{})}catch(e){console.warn(e)}const r=o.map((e=>({value:e,label:e})));return{sortKey:{title:"映射字段",type:"string","x-decorator":"FormItem","x-component":"Select",default:"type",enum:r},textColor:{title:"字体颜色",type:"string","x-decorator":"FormItem","x-component":"ColorInput",default:"#ddd"},placement:{title:"组件位置",type:"string","x-decorator":"FormItem","x-component":"Select",enum:D,default:"LB"},offset:{title:"偏移量",type:"string","x-decorator":"FormItem","x-component":"Offset","x-component-props":{min:0,max:400},default:[100,20]}}}},Wi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};var Yi=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:Wi}))};Yi.displayName="CloseOutlined";const Ki=f.forwardRef(Yi),Qi={LT:"top",LB:"left",RT:"right",RB:"bottom"},Zi=e=>{const{containerWidth:t="600px",containerHeight:n="calc(100vh - 64px)",containerPlacement:i,children:o,visible:r,offset:a,onClose:l,title:s,animate:d}=e,u=c.utils.getPositionStyles(i,a);"RT"!==i&&"LB"!==i||(u.bottom="4px",u.top="4px",u.height="unset");const p=Qi[i],m=d?r?`${p} open`:`${p} close`:"",h=d?{}:{display:r?"block":"none"};return f.createElement("div",{style:Object.assign(Object.assign({width:t,height:n,boxShadow:"6px 0 16px -8px rgb(0 0 0 / 8%), 9px 0 28px 0 rgb(0 0 0 / 5%), 12px 0 48px 16px rgb(0 0 0 / 3%)"},u),h),className:`gi-panel-div ${m}`},f.createElement("div",{className:"header"},f.createElement("div",{className:"title"}," ",s),f.createElement("div",{className:"close"},f.createElement(F.Button,{icon:f.createElement(Ki,null),type:"text",onClick:l}))),f.createElement("div",{className:"body"},o))},Ji=new class{constructor(){this.listener={}}on(e,t){this.listener[e]||(this.listener[e]=[]),this.listener[e].push(t)}off(e,t){let n=this.listener[e];if(!n)return!1;if(t){let e;for(let i=0,o=n.length;i<o;i++)if(e=n[i],e==t||e.fn==t){n.splice(i,1);break}}else n&&(n.length=0)}once(e,t){let n=()=>{this.off(e,n),t.apply(this,arguments)};n.fn=t,this.on(e,n)}emit(e,t){const n=this.listener[e];n&&n.forEach((e=>{e(t)}))}},Xi={LT:"top",LB:"left",RT:"right",RB:"bottom"},eo=e=>{const{title:t,isShowTooltip:n,tooltip:i,tooltipPlacement:o,tooltipColor:r,children:a}=e;return n?p().createElement(F.Tooltip,{title:i||t,color:r,placement:o},a):p().createElement(p().Fragment,null,a)},to=e=>{const{containerType:t="drawer",containerWidth:n="600px",containerHeight:i="calc(100vh-64px)",containerMask:o=!1,containerMaskClosable:r=!1,containerPlacement:a,children:c,visible:l,offset:s,onClose:d,title:u,GISDK_ID:f,getContainer:m,containerAnimate:h}=e,g=Xi[a],[_,y]=s||[0,0];return"drawer"==t?p().createElement(F.Drawer,{className:"gi-operator-header-drawer",title:u,mask:o,maskClosable:r,placement:g,width:n,getContainer:m,visible:l,onClose:d,drawerStyle:{height:i},style:{height:i,top:y,[g]:_}},c):"modal"==t?p().createElement(F.Modal,{getContainer:m,className:"gi-operator-header-modal",title:u,width:n,visible:l,onCancel:d},c):p().createElement(Zi,{visible:l,onClose:d,title:u,containerHeight:i,containerWidth:n,offset:s,containerPlacement:a,animate:h},c)};const{deepClone:no,GI_CONTAINER_METAS:io}=c.extra,oo=no(io),ro={info:{id:"OperatorBar",name:"操作栏",desc:"业务操作栏，可集成众多分析组件",icon:"icon-tabs",cover:"http://xxxx.jpg",category:"container-components",type:"GICC"},component:e=>{const{assets:t,GISDK_ID:n}=e,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(e,["assets","GISDK_ID"]),o=JSON.stringify(i),r=f.useMemo((()=>{const{components:i}=e,o=((e,t,n)=>e.sort(((e,t)=>{var n,i;return(null===(n=e.props)||void 0===n?void 0:n.GI_CONTAINER_INDEX)-(null===(i=t.props)||void 0===i?void 0:i.GI_CONTAINER_INDEX)})).map((e=>{if(!e)return console.warn("component config not found"),null;const{props:i,id:o}=e;if(!t[o])return console.warn(`asset: ${o} not found`),null;const{component:r}=t[o];let a=r;return i.GIAC_CONTENT&&(a=((e,t,n)=>i=>{const{GIAC_CONTENT:o}=i,{visible:r,tooltip:a,tooltipColor:l,tooltipPlacement:s,hasDivider:d,offset:u,isShowTitle:f,title:m,isShowIcon:h,icon:g,isVertical:_,isShowTooltip:y,disabled:b,containerType:v="drawer",containerWidth:x="600px",containerHeight:w="calc(100vh-64px)",containerMask:E=!1,containerMaskClosable:I=!1,containerPlacement:C,containerAnimate:S}=o,[O,A]=p().useState(r);p().useEffect((()=>{const e=({visible:e,id:n})=>{A(n===t&&e)};return Ji.on(`${n}_GIAC_CONTENT:CLICK`,e),()=>{Ji.off(`${n}_GIAC_CONTENT:CLICK`,e)}}),[]);const k=()=>{A(!1)},T=document.getElementById(`${n}-graphin-container`);return p().createElement(p().Fragment,null,p().createElement("div",null,p().createElement(eo,{title:m,tooltip:a,tooltipColor:l,tooltipPlacement:s,isShowTooltip:y},p().createElement(F.Button,{type:"text",style:_?{height:"60px"}:{},onClick:()=>{Ji.emit(`${n}_GIAC_CONTENT:CLICK`,{visible:!O,id:t})},disabled:b},h&&p().createElement(c.Icon,{type:g}),_&&p().createElement("br",null),f&&m)),d&&p().createElement(F.Divider,{type:"vertical"})),gn().createPortal(p().createElement(to,{title:m,containerType:v,containerWidth:x,containerHeight:w,containerMask:E,containerMaskClosable:I,containerPlacement:C,visible:O,onClose:k,offset:u,GISDK_ID:n,getContainer:T,containerAnimate:S},p().createElement(e,Object.assign({},i,{visible:O,onClose:k,onOpen:()=>{A(!0)}}))),document.getElementById(`${n}-graphin-container`)))})(r,o,n)),f.createElement("div",{key:o},f.createElement(a,Object.assign({},i)))})).filter((e=>null!==e)))(i,t,n);return o}),[o]);return f.createElement("div",{className:"gi-operator-bar",style:{padding:"8px"}},f.createElement(F.Space,null,r))},registerMeta:e=>{const{GIAC_CONTENT_ITEMS:t=[],GIAC_ITEMS:n=[]}=e,i=n.map((e=>Object.assign(Object.assign({},e),{label:e.label+" (建议集成在工具栏) "})));return Object.assign({GI_CONTAINER:{title:"集成组件",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},enum:[...t,...i],default:[]}},oo)}},ao={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};var co=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:ao}))};co.displayName="FormOutlined";const lo=f.forwardRef(co),so={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};var uo=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:so}))};uo.displayName="CaretRightOutlined";const fo=f.forwardRef(uo),po={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};var mo=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:po}))};mo.displayName="FilterOutlined";const ho=f.forwardRef(mo),go=[{value:"All-Path",label:"所有路径"},{value:"Shortest-Path",label:"最短路径"},{value:"Edge-Type-Filter",label:"边类型过滤"}],_o=e=>{const{state:t,updateState:n}=e,{filterRule:i}=t,{data:o}=(0,c.useContext)(),{generatorSchemaByGraphData:r}=c.utils,a=(0,f.useMemo)((()=>r(o)),[o]),l=(0,f.useMemo)((()=>{const e=a.edges.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{});return Object.keys(e).filter((t=>"number"===e[t]))}),[a]),s=(0,f.useMemo)((()=>a.edges.map((e=>({value:e.edgeType,label:e.edgeType})))),[a]);return p().createElement("div",{className:"gi-filter-rule-container"},p().createElement(F.Form.Item,{label:"过滤规则"},p().createElement(F.Select,{value:i.type,options:go,style:{width:"100%"},onChange:e=>{n((t=>{t.filterRule.type=e}))}})),"Shortest-Path"===i.type&&p().createElement(F.Form.Item,{label:"权重属性"},p().createElement(F.Select,{value:i.weightPropertyName,allowClear:!0,onChange:e=>{n((t=>{t.filterRule.weightPropertyName=e}))}},l.map((e=>p().createElement(F.Select.Option,{value:e},e))))),"Edge-Type-Filter"===i.type&&p().createElement(F.Form.Item,{label:"边类型"},p().createElement(F.Select,{value:i.edgeType,onChange:e=>{n((t=>{t.filterRule.edgeType=e}))}},s.map((e=>p().createElement(F.Select.Option,{value:e.value},e.label))))))},yo=e=>{const{children:t,state:n,updateState:i}=e;return p().createElement(F.Popover,{trigger:"click",title:"过滤规则",placement:"right",content:p().createElement(_o,{state:n,updateState:i})},p().createElement(F.Button,{type:"primary",icon:p().createElement(ho,null)}))},bo=e=>{const{pathId:t,onSwitchChange:n,highlightPath:i}=e,o=i.has(t);return p().createElement("div",{onClick:e=>{e.stopPropagation()}},p().createElement(F.Switch,{checked:o,onChange:e=>n(t)}))},{findAllPath:vo}=c.utils,{Panel:xo}=F.Collapse;!function(){function e(e,t){function n(){this.constructor=e}o(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function n(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(bn(t)){var n=Hn(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)})))}function i(e){e.O&&_n(3,JSON.stringify(Sn(e)))}var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},r=function(){function n(e,t){return this[ii]={i:2,l:t,A:t?t.A:Fn(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(n,Map);var o=n.prototype;return Object.defineProperty(o,"size",{get:function(){return Sn(this[ii]).size}}),o.has=function(e){return Sn(this[ii]).has(e)},o.set=function(e,n){var o=this[ii];return i(o),Sn(o).has(e)&&Sn(o).get(e)===n||(t(o),$n(o),o.D.set(e,!0),o.o.set(e,n),o.D.set(e,!0)),this},o.delete=function(e){if(!this.has(e))return!1;var n=this[ii];return i(n),t(n),$n(n),n.t.has(e)?n.D.set(e,!1):n.D.delete(e),n.o.delete(e),!0},o.clear=function(){var e=this[ii];i(e),Sn(e).size&&(t(e),$n(e),e.D=new Map,vn(e.t,(function(t){e.D.set(t,!1)})),e.o.clear())},o.forEach=function(e,t){var n=this;Sn(this[ii]).forEach((function(i,o){e.call(t,n.get(o),o,n)}))},o.get=function(e){var n=this[ii];i(n);var o=Sn(n).get(e);if(n.I||!bn(o))return o;if(o!==n.t.get(e))return o;var r=Hn(n.A.h,o,n);return t(n),n.o.set(e,r),r},o.keys=function(){return Sn(this[ii]).keys()},o.values=function(){var e,t=this,n=this.keys();return(e={})[oi]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},o.entries=function(){var e,t=this,n=this.keys();return(e={})[oi]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var i=t.get(e.value);return{done:!1,value:[e.value,i]}},e},o[oi]=function(){return this.entries()},n}(),a=function(){function t(e,t){return this[ii]={i:3,l:t,A:t?t.A:Fn(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(t,Set);var o=t.prototype;return Object.defineProperty(o,"size",{get:function(){return Sn(this[ii]).size}}),o.has=function(e){var t=this[ii];return i(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},o.add=function(e){var t=this[ii];return i(t),this.has(e)||(n(t),$n(t),t.o.add(e)),this},o.delete=function(e){if(!this.has(e))return!1;var t=this[ii];return i(t),n(t),$n(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},o.clear=function(){var e=this[ii];i(e),Sn(e).size&&(n(e),$n(e),e.o.clear())},o.values=function(){var e=this[ii];return i(e),n(e),e.o.values()},o.entries=function(){var e=this[ii];return i(e),n(e),e.o.entries()},o.keys=function(){return this.values()},o[oi]=function(){return this.values()},o.forEach=function(e,t){for(var n=this.values(),i=n.next();!i.done;)e.call(t,i.value,i.value,this),i=n.next()},t}();!function(e,t){li[e]||(li[e]=t)}("MapSet",{N:function(e,t){return new r(e,t)},T:function(e,t){return new a(e,t)}})}();const wo={id:"PathAnalysis",name:"路径分析",desc:"选择起点和终点，即可分析路径",icon:"icon-path-analysis",cover:"http://xxxx.jpg",category:"data-analysis",type:"GIAC_CONTENT"},{deepClone:Eo,GIAC_CONTENT_METAS:Io}=c.extra,Co=Eo(Io);Co.GIAC_CONTENT.properties.GIAC_CONTENT.properties.title.default=wo.name,Co.GIAC_CONTENT.properties.GIAC_CONTENT.properties.icon.default=wo.icon,Co.GIAC_CONTENT.properties.GIAC_CONTENT.properties.containerWidth.default="400px";const So={info:wo,component:e=>{const{pathNodeLabel:t}=e,{data:n,graph:i,sourceDataMap:o}=(0,c.useContext)(),[r,a]=hi({allNodePath:[],allEdgePath:[],nodePath:[],edgePath:[],highlightPath:new Set,isAnalysis:!1,filterRule:{type:"All-Path"},selecting:""});let l=e=>{};const s=(0,f.useRef)({nodes:new Set,edges:new Set}),[d]=F.Form.useForm(),u=()=>{d.resetFields(),a((e=>{e.allNodePath=[],e.allEdgePath=[],e.nodePath=[],e.edgePath=[],e.highlightPath=new Set,e.isAnalysis=!1,e.filterRule={type:"All-Path"},e.selecting=""})),h()},m=e=>{a((t=>{t.highlightPath.has(e)?t.highlightPath.delete(e):t.highlightPath.add(e)}))},h=()=>{var e;[...null===(e=s.current)||void 0===e?void 0:e.nodes].forEach((e=>{i.findById(e)&&i.setItemState(e,"active",!1)})),[...s.current.edges].forEach((e=>{i.findById(e)&&(i.setItemState(e,"active",!1),i.updateItem(e,{style:{animate:{visible:!1,type:"circle-running",color:"rgba(236,65,198,1)",repeat:!0,duration:1e3}}}))}))},g=e=>{a((t=>{t.selecting=e})),i.off("node:click",l),l=t=>{a((e=>{e.selecting=""}));const{item:n}=t;n&&!n.destroyed&&d.setFieldsValue({[e]:n.getID()})},i.once("node:click",l)};return(0,f.useEffect)((()=>{for(let e=0;e<r.nodePath.length;e++){const t=r.nodePath[e],n=r.edgePath[e];r.highlightPath.has(e)||(t.forEach((e=>{var t;i.findById(e)&&i.setItemState(e,"active",!1),null===(t=s.current)||void 0===t||t.nodes.delete(e)})),n.forEach((e=>{var t;i.findById(e)&&i.setItemState(e,"active",!1),null===(t=s.current)||void 0===t||t.edges.delete(e)})))}for(let e=0;e<r.nodePath.length;e++){const t=r.nodePath[e],n=r.edgePath[e];r.highlightPath.has(e)&&(t.forEach((e=>{var t;i.findById(e)&&i.setItemState(e,"active",!0),null===(t=s.current)||void 0===t||t.nodes.add(e)})),n.forEach((e=>{var t;i.findById(e)&&(i.setItemState(e,"active",!0),i.updateItem(e,{style:{animate:{visible:!0,type:"circle-running",color:"rgba(236,65,198,1)",repeat:!0,duration:1e3}}})),null===(t=s.current)||void 0===t||t.edges.add(e)})))}}),[r.highlightPath]),(0,f.useEffect)((()=>{h(),s.current={nodes:new Set,edges:new Set};let e=[],t=[];if("Shortest-Path"===r.filterRule.type){const n={};let i=1/0;r.allEdgePath.forEach(((e,t)=>{const a=r.filterRule.weightPropertyName?((e,t,n)=>{let i=0;return e.forEach((e=>{const o=n.edges[e].data;i=i+o[t]?o[t]:0})),i})(e,r.filterRule.weightPropertyName,o):e.length;i=Math.min(i,a),n[t]=a})),e=r.allNodePath.filter(((e,t)=>n[t]===i)),t=r.allEdgePath.filter(((e,t)=>n[t]===i))}else if("Edge-Type-Filter"===r.filterRule.type&&r.filterRule.edgeType){const n=new Set;r.allEdgePath.forEach(((e,t)=>{e.every((e=>{const t=o.edges[e];return(null==t?void 0:t.edgeType)===r.filterRule.edgeType}))&&n.add(t)})),e=r.allNodePath.filter(((e,t)=>n.has(t))),t=r.allEdgePath.filter(((e,t)=>n.has(t)))}else e=r.allNodePath,t=r.allEdgePath;a((n=>{n.nodePath=e,n.edgePath=t,n.highlightPath=new Set(e.map(((e,t)=>t)))}))}),[r.allNodePath,r.allEdgePath,r.filterRule]),(0,f.useEffect)((()=>{u()}),[n]),p().createElement("div",{className:"gi-path-analysis"},p().createElement(F.Form,{form:d},p().createElement(F.Row,{justify:"space-between"},p().createElement(F.Col,{span:22},p().createElement(F.Form.Item,{label:"起始节点",name:"source",rules:[{required:!0,message:"请填写起点节点ID"}]},p().createElement(F.Select,{showSearch:!0,optionFilterProp:"children",onChange:()=>{a((e=>{e.selecting=""}))}},n.nodes.map((e=>p().createElement(F.Select.Option,{key:e.id,value:e.id},e.id)))))),p().createElement(F.Col,{span:2,style:{lineHeight:"32px",textAlign:"right"}},p().createElement(lo,{style:{cursor:"pointer",color:"source"===r.selecting?"#1890ff":"rgba(0, 0, 0, 0.65)"},onClick:()=>g("source")}))),p().createElement(F.Row,{justify:"space-between"},p().createElement(F.Col,{span:22},p().createElement(F.Form.Item,{label:"目标节点",name:"target",rules:[{required:!0,message:"请填写终点节点ID"}]},p().createElement(F.Select,{showSearch:!0,optionFilterProp:"children",onChange:()=>{a((e=>{e.selecting=""}))}},n.nodes.map((e=>p().createElement(F.Select.Option,{key:e.id,value:e.id},e.id)))))),p().createElement(F.Col,{span:2,style:{lineHeight:"32px",textAlign:"right"}},p().createElement(lo,{style:{cursor:"pointer",color:"target"===r.selecting?"#1890ff":"rgba(0, 0, 0, 0.65)"},onClick:()=>g("target")}))),p().createElement(F.Form.Item,{name:"direction",label:"是否有向"},p().createElement(F.Switch,{checkedChildren:"有向",unCheckedChildren:"无向",defaultChecked:!0})),p().createElement(F.Form.Item,null,p().createElement(F.Row,null,p().createElement(F.Col,{span:16},p().createElement(F.Button,{type:"primary",onClick:()=>{d.validateFields().then((e=>{h();const{source:t,target:i,direction:o=!0}=e,{allNodePath:r,allEdgePath:c}=vo(n,t,i,o),l=new Set(r.map(((e,t)=>t)));a((e=>{e.allNodePath=r,e.allEdgePath=c,e.nodePath=r,e.edgePath=c,e.isAnalysis=!0,e.highlightPath=l,e.filterRule={type:"All-Path"},e.selecting=""}))}))},style:{width:"100%"}},"查询路径")),p().createElement(F.Col,{offset:"2",span:6,style:{textAlign:"right"}},p().createElement(F.Space,{size:"small"},r.isAnalysis&&r.allNodePath.length>0&&p().createElement(yo,{state:r,updateState:a}),p().createElement(F.Button,{danger:!0,onClick:u,icon:p().createElement(jt,null)})))))),p().createElement("div",{className:"gi-path-analysis-path-list-container"},r.nodePath.length>0&&p().createElement(F.Collapse,{defaultActiveKey:0,ghost:!0,className:"gi-collapse-container",expandIcon:({isActive:e})=>p().createElement(fo,{rotate:e?90:0})},r.nodePath.map(((e,n)=>p().createElement(xo,{key:n,header:`路径${n+1}`,extra:p().createElement(bo,{pathId:n,highlightPath:r.highlightPath,onSwitchChange:m})},p().createElement(F.Timeline,null,e.map((e=>{const n=o.nodes[e],i=(null==n?void 0:n.data)||{};return p().createElement(F.Timeline.Item,null,i[t]||e)}))))))),r.isAnalysis&&0===r.nodePath.length&&p().createElement(F.Empty,null)))},registerMeta:({schemaData:e})=>{const t=e.nodes.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{}),n=Object.keys(t).filter((e=>"string"===t[e])).map((e=>({value:e,label:e})));return Object.assign({pathNodeLabel:{title:"标签映射",type:"string","x-decorator":"FormItem","x-component":"Select",enum:n,default:"id"}},Co)}},Oo={info:{id:"Placeholder",name:"画布占位符",desc:"画布为空时出现的图片占位符",icon:"icon-placeholder",cover:"http://xxxx.jpg",category:"system-interaction",type:"AUTO"},component:e=>{const t=(0,c.useContext)(),{width:n=200,img:i="https://gw.alipayobjects.com/zos/bmw-prod/db278704-6158-432e-99d2-cc5db457585d.svg",text:o}=e,{data:r,largeGraphData:a,largeGraphLimit:l}=t;return r&&r.nodes&&0!==r.nodes.length?null:a?f.createElement("div",{className:"gi-placeholader",style:{width:`${n}px`}},i&&f.createElement("img",{src:i,width:n}),"当前载入图的节点规模已经超出「",l,"」限制，建议您在资产中心中加载「大图概览」资产，筛选子图数据 或 调整限制规模"):f.createElement("div",{className:"gi-placeholader",style:{width:`${n}px`}},i&&f.createElement("img",{src:i,width:n}),o)},registerMeta:()=>({img:{type:"string","x-component":"Input","x-decorator":"FormItem",title:"图片地址",default:"https://gw.alipayobjects.com/zos/bmw-prod/db278704-6158-432e-99d2-cc5db457585d.svg"},text:{type:"string",title:"文本","x-component":"Input","x-decorator":"FormItem",default:"开始你的图分析应用～"},width:{type:"number",title:"宽度","x-component":"NumberPicker","x-decorator":"FormItem",default:200}})},Ao=F.Input.Search,ko=e=>{const{data:t}=e,[n,i]=hi({isSearch:!1,searchKey:""});let o=Object.keys(t).map((e=>{let n=t[e],i=!1;return"object"==typeof n&&(n=JSON.stringify(n,null,2),i=!0),"string"!=typeof n&&(n=String(n)),{key:e,value:n,isObject:i}}));return n.isSearch&&(o=o.filter((e=>{const{key:t,value:i}=e;return t.includes(n.searchKey)||i.includes(n.searchKey)}))),p().createElement(p().Fragment,null,p().createElement(Ao,{placeholder:"Search in the properties",onSearch:e=>{const t=0!==e.length;i((n=>{n.isSearch=t,n.searchKey=e}))},style:{width:"100%"}}),p().createElement("ul",null,0===o.length&&p().createElement(F.Empty,{style:{marginTop:"50px"}}),o.map((e=>{const{key:t,value:n,isObject:i}=e;return p().createElement("li",{key:t},p().createElement("div",{className:"key"},t),p().createElement("div",{className:"value"},i?p().createElement("pre",null,n):n))}))))},To={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z"}}]},name:"line-chart",theme:"outlined"};var No=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:To}))};No.displayName="LineChartOutlined";const Fo=f.forwardRef(No),jo=e=>{const{data:t,xField:n,yField:i}=e,o=p().useMemo((()=>ft()),[]);return(0,f.useEffect)((()=>{const e=new Pt.Column(`${o}-linechart-container`,{data:t,xField:n,yField:i,height:350});return e.render(),()=>{e.destroy()}}),[t,n,i]),p().createElement("div",{id:`${o}-linechart-container`})},Po=e=>{const{data:t,xField:n,yField:i}=e,o=p().useMemo((()=>ft()),[]);return(0,f.useEffect)((()=>{const e=new Pt.Line(`${o}-linechart-container`,{data:t,xField:n,yField:i,height:350});return e.render(),()=>{e.destroy()}}),[t,n,i]),p().createElement("div",{id:`${o}-linechart-container`})},Ro=[{value:"lineChart",label:p().createElement(Fo,null)},{value:"columnChart",label:p().createElement(It,null)}],Mo=e=>{const{statisticProp:t,data:n}=e,i=p().useMemo((()=>{if(!t)return[];const e=n[t][0];return"object"!=typeof e?[]:Object.keys(e)}),[t,n]),o=p().useMemo((()=>{if(!t)return[];const e=n[t][0];return"object"!=typeof e?[]:Object.keys(e)}),[t,n]),[r,a]=hi({xField:i[0],yField:o[0],chartType:"lineChart"}),c=p().createElement(p().Fragment,null,p().createElement(F.Select,{placeholder:"X轴字段",onChange:e=>{a((t=>{t.xField=e}))},style:{width:"80px"},value:r.xField},i.map((e=>p().createElement(F.Select.Option,{value:e},e)))),p().createElement(F.Select,{placeholder:"Y轴字段",onChange:e=>{a((t=>{t.yField=e}))},style:{width:"80px",marginLeft:"10px"},value:r.yField},o.map((e=>p().createElement(F.Select.Option,{value:e},e)))),p().createElement(F.Select,{value:r.chartType,style:{marginLeft:"10px"},onChange:e=>{a((t=>{t.chartType=e}))}},Ro.map((e=>p().createElement(F.Select.Option,{value:e.value},e.label)))));return p().createElement("div",null,p().createElement(F.Card,{title:t,extra:c,style:{marginBottom:"20px",boxShadow:"0 0 2px rgba(0, 0, 0, 0.1)"}},"lineChart"===r.chartType&&p().createElement(Po,{xField:r.xField,yField:r.yField,data:n[t]}),"columnChart"===r.chartType&&p().createElement(jo,{xField:r.xField,yField:r.yField,data:n[t]})))},Go=e=>{const{data:t}=e,[n,i]=hi({statisticProp:void 0}),o=(0,f.useMemo)((()=>Object.keys(t).filter((e=>t[e]instanceof Array))),[t]);return p().createElement("div",{className:"gi-statistic-panel"},o.map((e=>p().createElement(Mo,{statisticProp:e,data:t}))))},Lo=e=>{const{data:t,defaultiStatistic:n}=e,[i,o]=hi({isStatistic:n});return f.createElement("div",{className:"gi-properties-pannel"},f.createElement("header",{className:"gi-properties-pannel-header"},f.createElement("h3",null,t.id)),i.isStatistic?f.createElement(Go,{data:t}):f.createElement(ko,{data:t}))};var Do=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function c(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((i=i.apply(e,t||[])).next())}))};const Bo="PropertiesPanel",zo={id:Bo,name:"属性面板",desc:"点击节点或边，展示其详情信息",icon:"icon-reconciliation",category:"elements-interaction",cover:"http://xxxx.jpg",type:"AUTO",services:[Bo]},qo={info:zo,component:e=>{const{serviceId:t,hasService:n,placement:i,width:o,title:r,height:a,offset:l,defaultiStatistic:s}=e,{graph:d,services:u,GISDK_ID:f}=(0,c.useContext)(),m=c.utils.getService(u,t);if(!m)return null;const[h,g]=p().useState({visible:!1,detail:null,isLoading:!1}),_=()=>{g((e=>e.visible?{visible:!1,isLoading:!1,detail:null}:e))};p().useLayoutEffect((()=>{const e=e=>Do(void 0,void 0,void 0,(function*(){g((e=>Object.assign(Object.assign({},e),{visible:!0,isLoading:!0})));const t=e.item.getModel(),n=yield m(t);g((e=>Object.assign(Object.assign({},e),{detail:n,isLoading:!1})))})),t=e=>Do(void 0,void 0,void 0,(function*(){g((e=>Object.assign(Object.assign({},e),{visible:!0,isLoading:!0})));const t=e.item.getModel(),n=yield m(t);g((e=>Object.assign(Object.assign({},e),{detail:n,isLoading:!1})))}));return d.on("node:click",e),d.on("edge:click",t),d.on("canvas:click",_),()=>{d.off("node:click",e),d.off("canvas:click",_),d.off("edge:click",t)}}),[d,g,m]);const{isLoading:y,detail:b,visible:v}=h,x=!y&&b?p().createElement(Lo,{data:b,defaultiStatistic:s}):p().createElement(F.Skeleton,{active:!0});return p().createElement(Zi,{animate:!0,title:r,visible:v,containerPlacement:i,containerWidth:o,containerHeight:a,onClose:_,offset:l},x)},registerMeta:e=>{const{services:t,engineId:n}=e,{options:i,defaultValue:o}=c.utils.getServiceOptionsByEngineId(t,zo.services[0],n);return{serviceId:{title:"数据服务",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:i},default:o},defaultiStatistic:{title:"默认展示统计信息",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1},title:{title:"标题",type:"string","x-decorator":"FormItem","x-component":"Input",default:"属性面板"},placement:{title:"展示方位",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{label:"左部",value:"LB"},{label:"右部",value:"RT"},{label:"上部",value:"LT"},{label:"底部",value:"RB"}]},default:"LB"},width:{title:"宽度",type:"string","x-decorator":"FormItem","x-component":"Input",default:"500px"},height:{title:"高度",type:"string","x-decorator":"FormItem","x-component":"Input",default:"calc(100% - 80px)"},offset:{title:"偏移距离",type:"array","x-decorator":"FormItem","x-component":"Offset",default:[10,10]},animate:{title:"抽屉动画",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!1}}}},Uo={id:"Save",name:"保存分享",desc:"保存画布,并分享给其他人",icon:"icon-save",cover:"http://xxxx.jpg",category:"workbook",type:"GIAC_CONTENT",services:["Save"]},{deepClone:$o,GIAC_CONTENT_METAS:Vo}=c.extra,Ho=$o(Vo);Ho.GIAC_CONTENT.properties.GIAC_CONTENT.properties.title.default=Uo.name,Ho.GIAC_CONTENT.properties.GIAC_CONTENT.properties.icon.default=Uo.icon,Ho.GIAC_CONTENT.properties.GIAC_CONTENT.properties.tooltip.default=Uo.desc;const Wo={info:Uo,component:e=>{const{serviceId:t}=e,{graph:n,GISDK_ID:i,config:o,services:r,schemaData:a}=(0,c.useContext)(),[l]=F.Form.useForm(),s=c.utils.getService(r,t);if(!s)return null;const d=n.toDataURL("image/jpeg","#fff");return p().createElement("div",null,p().createElement(F.Form,{form:l,name:"saveStyle",layout:"vertical"},p().createElement(F.Form.Item,{name:"name",label:"名称",rules:[{required:!0,max:50}],extra:"名称由中文、英文或数字组成"},p().createElement(F.Input,{maxLength:50})),p().createElement(F.Form.Item,{name:"description",label:"描述",extra:"描述由中文、英文或数字组成",rules:[{max:160}]},p().createElement(F.Input.TextArea,{row:4,maxLength:200})),p().createElement(F.Form.Item,{name:"cover",label:"缩略图"},p().createElement("img",{src:d,alt:"",width:"100%"})),p().createElement(F.Button,{onClick:()=>{const{name:e,description:t}=l.getFieldsValue(),i=n.save();s({name:e,description:t,data:i,config:o,services:r,schemaData:a,cover:d,gmtCreate:new Date}).then((e=>{e.success&&(F.notification.success({message:"保存成功",description:"3秒后将自动跳转到分享的画布页",duration:3}),setTimeout((()=>{let t=e.data;e.shareId&&(t=window.location.origin+"/#/share/"+e.shareId),window.open(t)}),3e3))}))},type:"primary",style:{width:"100%"}},"保存分享")))},registerMeta:({services:e})=>{const t=c.utils.getServiceOptions(e,Uo.services[0]);return Object.assign({serviceId:{title:"保存服务",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:t},default:t[0].value}},Ho)}},Yo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};var Ko=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:Yo}))};Ko.displayName="MenuFoldOutlined";const Qo=f.forwardRef(Ko),Zo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};var Jo=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:Zo}))};Jo.displayName="MenuUnfoldOutlined";const Xo=f.forwardRef(Jo),er=e=>{const{placement:t,offset:n,width:i,height:o,defaultVisible:r}=e,[a,l]=f.useState({visible:"boolean"!=typeof r||r}),s=c.utils.getPositionStyles(t,n),d=Object.assign(Object.assign({},s),{height:o,width:i,padding:"8px",transition:"all 0.3s ease",overflow:"visible"}),u=a.visible?d:Object.assign(Object.assign({},d),{width:"0px",padding:"0"}),{children:p}=e;return f.createElement("div",{style:u},f.createElement(gi.Z,{type:"LB"===t||"LT"===t?"left":"right",handleClick:()=>{l((e=>({visible:!e.visible})))}}),f.createElement("div",{style:{overflowY:"auto",height:"100%"}},p))},tr=e=>{const{children:t,width:n,visible:i,GISDK_ID:o,outSideFromCanvas:r,placement:a,height:l}=e,{graph:s}=(0,c.useContext)(),d=p().useRef(null);return p().useEffect((()=>{if(!r)return;const e=document.getElementById("".concat(o,"-graphin-container"));if(e)return e.addEventListener("transitionend",t),()=>{e.removeEventListener("transitionend",t)};function t(t){["right","left","top","bottom"].includes(t.propertyName)&&s.get("canvas")&&(s.changeSize(e.offsetWidth,e.offsetHeight),s.autoPaint())}}),[r]),p().useEffect((()=>{const e=document.getElementById(`${o}-container`),t=document.getElementById(`${o}-graphin-container`),c=d.current;if(!c)return;const s=document.querySelector(".gi-side-tabs .ant-tabs-nav-list");if(e&&c&&t){const o=i?n:`${s.offsetWidth||50}px`,d=i?l:`${s.offsetHeight||350}px`;r?(e.style.position="relative",t.style.position="absolute",t.style.transition="all 0.3s ease",c.style.transition="all 0.3s ease","LB"!==a&&"RT"!==a||(t.style.top="0px",t.style.bottom="0px",t.style.width="unset",t.style.height="unset",c.style.position="absolute",c.style.top="0px",c.style.bottom="0px",c.style.width=o,"LB"===a&&(c.style.left="0px",t.style.left=o,t.style.right="0px"),"RT"===a&&(c.style.right="0px",t.style.left="0px",t.style.right=o)),"RB"!==a&&"LT"!==a||(t.style.right="0px",t.style.left="0px",t.style.width="unset",t.style.height="unset",c.style.position="absolute",c.style.left="0px",c.style.right="0px",c.style.height=d,"LT"===a&&(c.style.top="0px",t.style.top=d,t.style.bottom="0px"),"RB"===a&&(c.style.bottom="0px",t.style.top="0px",t.style.bottom=d))):(e.className="",c.className="",c.style.width="unset",c.style.height="unset",t.style.left="unset",t.style.right="unset",t.style.transition="all 0.3s ease",c.style.transition="all 0.3s ease")}}),[s,i,r,a]),p().useEffect((()=>{const e=d.current,t=document.getElementById(`${o}-graphin-container`);if(e)return()=>{e.style.width="unset",e.style.height="unset",t.style.left="unset",t.style.right="unset",t.style.top="unset",t.style.right="unset",e.style.top="unset",e.style.bottom="unset",e.style.right="unset",e.style.left="unset"}}),[a]),p().createElement("div",{className:"gi-side-tabs-container",ref:d},t)},nr=e=>{const{title:t,isShowTooltip:n,tooltip:i,tooltipPlacement:o,tooltipColor:r,children:a}=e;return n?p().createElement(F.Tooltip,{title:i||t,color:r,placement:o},a):p().createElement(p().Fragment,null,a)},ir=e=>{const{GIAC_CONTENT:t}=e,{tooltip:n,tooltipColor:i,tooltipPlacement:o,hasDivider:r,isShowTitle:a,title:l,isShowIcon:s,icon:d,isVertical:u,isShowTooltip:f,disabled:m}=t,h={fontSize:"20px",marginRight:u?"0px":"12px"};return p().createElement(p().Fragment,null,p().createElement("div",null,p().createElement(nr,{title:l,tooltip:n,tooltipColor:i,tooltipPlacement:o,isShowTooltip:f},s&&p().createElement(c.Icon,{type:d,style:h}),u&&p().createElement("br",null),a&&l),r&&p().createElement(F.Divider,{type:"vertical"})))},{TabPane:or}=F.Tabs,{deepClone:rr,GI_CONTAINER_METAS:ar}=c.extra,cr=rr(ar);cr.placement.default="LB",cr.height.default="400px",cr.width.default="400px";const lr={info:{id:"SideTabs",name:"侧边栏",desc:"画布侧边导航栏，可集成分析组件",icon:"icon-sidebar",cover:"http://xxxx.jpg",category:"container-components",type:"GICC"},component:e=>{const{components:t,assets:n,placement:i,offset:o,width:r,height:a,defaultVisible:c,outSideFromCanvas:l,GISDK_ID:s,tabPosition:d}=e,[u,p]=f.useState(!0),m=f.useMemo((()=>t.sort(((e,t)=>e.props.GI_CONTAINER_INDEX-t.props.GI_CONTAINER_INDEX)).filter((e=>e&&e.props&&e.props.GIAC_CONTENT))),[t]),h=f.useMemo((()=>m.map(((e,t)=>{if(!e)return console.warn(`config not found, index: ${t}`),null;const{props:i,id:o}=e,r=n[o];if(!r)return console.warn(`asset: ${o} not found`),null;const{component:a}=r;return f.createElement(or,{key:t,tab:f.createElement(ir,Object.assign({},i))},f.createElement(a,Object.assign({},i)))}))),[m]),g=f.createElement(F.Tooltip,{placement:"right",title:"可展开收起导航栏"},f.createElement(F.Button,{type:"text",icon:u?f.createElement(Qo,null):f.createElement(Xo,null),onClick:()=>{p((e=>!e))}})),_=f.createElement("div",{className:"gi-side-tabs"},f.createElement(F.Tabs,{tabPosition:d,tabBarExtraContent:l?g:null},h));return l?gn().createPortal(f.createElement(tr,{visible:u,width:r,height:a,defaultVisible:c,placement:i,GISDK_ID:s,outSideFromCanvas:l},_),document.getElementById(`${s}-container`)):f.createElement(er,{width:r,height:a,defaultVisible:c,placement:i,offset:o},_)},registerMeta:e=>{const{GIAC_CONTENT_ITEMS:t=[]}=e;return Object.assign({GI_CONTAINER:{title:"集成组件",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},enum:t,default:[]},outSideFromCanvas:{title:"独立DOM",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},tabPosition:{title:"导航布局",type:"string","x-decorator":"FormItem","x-component":"Select",enum:[{label:"left",value:"left"},{label:"right",value:"right"},{label:"top",value:"top"},{label:"bottom",value:"bottom"}],default:"left"}},cr)}},sr=(e,t)=>{if(e.getSource().getModel().id!==e.getTarget().getModel().id)return e.getModel().source===t.getModel().id?e.getTarget():e.getSource()},dr={},ur=new Set,fr={info:{id:"ToggleClusterWithMenu",name:"展开/收起",desc:"集成在右键菜单中，展开/收起节点",icon:"icon-toggle",cover:"http://xxx.jpg",category:"elements-interaction",type:"GIAC_MENU"},component:e=>{var t;const{contextmenu:n,isReLayout:i,degree:o}=e,{graph:r,updateContext:a,source:l,data:s}=(0,c.useContext)(),{item:d,id:u,onClose:p}=n;if(!d||d.destroyed||"node"!==(null===(t=d.getType)||void 0===t?void 0:t.call(d)))return null;const m=d.getModel();return f.createElement(F.Menu.Item,{key:"toggleClusterWithMenu",onClick:()=>{if(1===o){const e=(e=>{const t=e.getEdges(),n=new Set;return t.forEach((t=>{const i=sr(t,e);if(i){const t=(e=>{const t=e.getEdges(),n=new Set;return t.forEach((t=>{const i=sr(t,e);i&&n.add(i)})),Array.from(n)})(i);t.find((t=>t.getModel().id!==e.getModel().id))||n.add(i)}})),Array.from(n)})(d).map((e=>e.getModel().id));if(m.folded?(r.updateItem(d,{folded:!1}),e.forEach((e=>{r.showItem(e)}))):(e.forEach((e=>{r.hideItem(e)})),ur.add(u),dr[u]=e,r.updateItem(d,{folded:!0})),i){let e=[];Array.from(ur).forEach((t=>{const n=r.findById(t);if(n&&n.getModel().folded){const t=n.getModel().id;e=[...e,...dr[t]]}}));const t=((e,t)=>{const{edges:n,nodes:i}=e,o=n.filter((e=>{const{source:n,target:i}=e;return-1===t.indexOf(n)&&-1===t.indexOf(i)}));return{nodes:i.filter((e=>-1===t.indexOf(e.id))),edges:o}})(l,e);a((e=>{e.data=t}))}}p()}},m.folded?"展开节点":"收起节点")},registerMeta:()=>({isReLayout:{title:"重新布局",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!1},degree:{title:"收起节点度数",type:"number","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{min:1},default:1}})},pr={},mr=e=>{const{children:t,style:n={},direction:i="horizontal"}=e,o="horizontal"===i,r={position:"absolute"};return o?(r.right=0,r.top=0):(r.left=0,r.bottom=0),p().createElement("div",{style:Object.assign(Object.assign(Object.assign({},pr),r),n),className:"graphin-components-toolbar"},p().createElement("ul",{className:"graphin-components-toolbar-content",style:{display:o?"flex":""}},t))},{getPositionStyles:hr}=c.utils,gr={info:{id:"Toolbar",name:"工具栏",desc:"画布工具栏，可集成画布交互组件",icon:"icon-tools",cover:"http://xxxx.jpg",category:"container-components",type:"GICC"},component:e=>{const{direction:t="horizontal",components:n,assets:i,placement:o,offset:r}=e,a=hr(o,r),c=n.sort(((e,t)=>{var n,i;return(null===(n=e.props)||void 0===n?void 0:n.GI_CONTAINER_INDEX)-(null===(i=t.props)||void 0===i?void 0:i.GI_CONTAINER_INDEX)}));return f.createElement(f.Fragment,null,f.createElement(mr,{direction:t,style:a},c.map((e=>{if(!e)return null;const{props:t,id:n}=e,o=i[n];if(!o)return console.warn(`asset: ${n} not found`),null;const{component:r}=o;return f.createElement("span",{key:n},f.createElement(r,Object.assign({},t)))}))))},registerMeta:e=>{const{GIAC_ITEMS:t=[]}=e;return{GI_CONTAINER:{title:"集成组件",type:"array",enum:t,"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},default:[]},direction:{title:"展示方向",type:"string","x-decorator":"FormItem"," x-component":"Radio.Group",enum:B,default:"vertical"},placement:{title:"组件位置",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:D},default:"LT"},offset:{title:"偏移量",type:"array","x-decorator":"FormItem","x-component":"Offset","x-component-props":{min:0,max:400},default:[24,64]}}}},{Tooltip:_r}=l.Components,yr={info:{id:"Tooltip",name:"节点提示框",desc:"Hover 节点，展示其详细信息",cover:"http://xxxx.jpg",category:"elements-interaction",icon:"icon-tooltip",type:"AUTO"},component:e=>{const{placement:t="top",hasArrow:n=!0,mappingKeys:i=["id"],background:o="#fff",color:r="black",width:a}=e;let c=i;var l;return l=c,"[object Array]"!==Object.prototype.toString.call(l)&&(c=[]),f.createElement(_r,{bindType:"node",placement:t,hasArrow:n,style:{background:o,color:r,width:a}},(e=>{const{model:t}=e;return f.createElement("div",null,f.createElement("ul",{className:"tooltip-content"},c.map((e=>{const n=t.data[e];return void 0!==n?f.createElement("li",{key:e},e.toUpperCase()," : ",n):null}))))}))},registerMeta:e=>{const{schemaData:t,keys:n}=e;return{mappingKeys:{title:"文本",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple",options:n.map((e=>({label:e,value:e})))},default:n},placement:{title:"位置",type:"Select","x-component":"Select","x-decorator":"FormItem","x-component-props":{options:[{value:"left",label:"左侧"},{value:"right",label:"右侧"},{value:"top",label:"上侧"},{value:"bottom",label:"下侧"}]},default:"top"},width:{title:"宽度",type:"string","x-decorator":"FormItem","x-component":"Input",default:"200px"},hasArrow:{title:"箭头",type:"boolean",default:!0,"x-decorator":"FormItem","x-component":"Switch"}}}},{debounce:br}=c.utils,vr=e=>{const{data:t,xField:n,yField:i,highlight:o,height:r}=e,a=p().useRef(null);return t?((0,f.useEffect)((()=>{if(!a.current)return;const e=new Pt.Column(a.current,{data:t,xField:n,yField:i,height:r,brush:{enabled:!0,type:"x-rect",action:"highlight"},xAxis:{label:{autoRotate:!1}},slider:{start:0,end:1},minColumnWidth:12});return e.render(),e.on(Pt.G2.ELEMENT_RANGE_HIGHLIGHT_EVENTS.AFTER_HIGHLIGHT,br((e=>{const{highlightElements:t=[]}=e.data,n=t.map((e=>e.getData().id));o(n)}),250)),e.on(Pt.G2.ELEMENT_RANGE_HIGHLIGHT_EVENTS.AFTER_CLEAR,(()=>{})),()=>{e.destroy()}}),[t,n,i,r]),p().createElement("div",{ref:a})):null},{debounce:xr}=c.utils,wr=e=>{const{data:t,xField:n,yField:i,highlight:o}=e,r=p().useRef(null);return t?((0,f.useEffect)((()=>{if(!r.current)return;const e=new Pt.Line(r.current,{data:t,xField:n,yField:i,height:200,interactions:[{type:"brush-x"}],xAxis:{label:{autoRotate:!1}}});return e.render(),()=>{e.destroy()}}),[t,n,i]),p().createElement("div",{ref:r})):null},{highlightEdgeIds:Er}=c.utils,Ir={boolean:p().createElement(ht,{style:{color:"rgb(39, 110, 241)",marginRight:"4px"}}),string:p().createElement(ht,{style:{color:"rgb(39, 110, 241)",marginRight:"4px"}}),number:p().createElement(yt,{style:{color:"rgb(255, 192, 67)",marginRight:"4px"}})},Cr=[{value:"lineChart",title:"折线图",label:p().createElement(Fo,null)},{value:"columnChart",title:"柱状图",label:p().createElement(It,null)}],Sr=e=>{const{schemaData:t,source:n,graph:i}=(0,c.useContext)(),[o,r]=hi({dataType:e.dataType||"edges",xField:e.xField,yField:e.yField,chartType:e.chartType}),{chartType:a,dataType:l,xField:s,yField:d}=o,u=(0,f.useMemo)((()=>t[l].reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{})),[t,l]),m=(0,f.useMemo)((()=>{const e=n[l].map((e=>Object.assign(Object.assign({},e.data),{id:e.id}))).filter((e=>e[s]));try{const t=e[0][s];return isNaN(t)&&!isNaN(Date.parse(t))?e.sort(((e,t)=>new Date(e[s])-new Date(t[s]))):e}catch(t){return e}}),[n,l,s]),h=e=>{"edges"===l&&Er(i,e)},g=p().createElement(p().Fragment,null,"X轴：",p().createElement(F.Select,{placeholder:"X轴字段",onChange:e=>{r((t=>{t.xField=e}))},size:"small",style:{width:"120px",marginRight:"12px"},value:s},Object.keys(u).map((e=>p().createElement(F.Select.Option,{value:e},Ir[u[e]],e)))),"Y轴：",p().createElement(F.Select,{placeholder:"Y轴字段",onChange:e=>{r((t=>{t.yField=e}))},size:"small",style:{width:"120px"},value:d},Object.keys(u).map((e=>p().createElement(F.Select.Option,{value:e},Ir[u[e]],e)))),p().createElement(F.Select,{size:"small",value:a,style:{width:"120px",marginLeft:"10px"},onChange:e=>{r((t=>{t.chartType=e}))}},Cr.map((e=>p().createElement(F.Select.Option,{value:e.value},e.title,e.label)))));return p().createElement("div",null,p().createElement(F.Card,{title:e.title,extra:g,bodyStyle:{padding:"12px 24px 0px 24px"}},"lineChart"===a&&p().createElement(wr,{xField:s,yField:d,data:m,highlight:h,height:e.height}),"columnChart"===a&&p().createElement(vr,{xField:s,yField:d,data:m,highlight:h,height:e.height})))},Or={id:"ChartAnalysis",name:"图表分析",desc:"图中数据通过统计图表展示分析",icon:"icon-barchart",cover:"http://xxxx.jpg",category:"data-analysis",type:"GIAC_CONTENT"},{deepClone:Ar,GIAC_CONTENT_METAS:kr}=c.extra,Tr=Ar(kr);Tr.GIAC_CONTENT.properties.GIAC_CONTENT.properties.title.default=Or.name,Tr.GIAC_CONTENT.properties.GIAC_CONTENT.properties.icon.default=Or.icon,Tr.GIAC_CONTENT.properties.GIAC_CONTENT.properties.tooltip.default=Or.desc,Tr.GIAC_CONTENT.properties.GIAC_CONTENT.properties.containerWidth.default="400px";const Nr={component:e=>{const{chartType:t,height:n,dataType:i,title:o}=e;return console.log(" props",e),p().createElement("div",null,p().createElement(Sr,{title:o,height:n,xField:e[`xField_${i}`],yField:e[`yField_${i}`],chartType:t,dataType:i}))},registerMeta:({schemaData:e})=>{const t=e.nodes.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{}),n=e.edges.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{}),i=Object.entries(t).map((e=>{const[t,n]=e;return{label:t,value:t}})),o=Object.entries(n).map((e=>{const[t,n]=e;return{label:t,value:t}}));return Object.assign({title:{title:"图表标题","x-decorator":"FormItem","x-component":"Input",type:"string",default:"未命名图表"},chartType:{title:"图表类型",type:"string","x-decorator":"FormItem","x-component":"Select",enum:[{value:"columnChart",label:"柱状图"},{value:"lineChart",label:"折线图"}],default:"columnChart"},height:{title:"图表高度","x-decorator":"FormItem","x-component":"NumberPicker",type:"number",default:void 0},dataType:{title:"数据类型",type:"string","x-decorator":"FormItem","x-component":"Select",enum:[{value:"nodes",label:"节点数据"},{value:"edges",label:"边数据"}],default:"edges","x-reactions":[{target:"xField_nodes",fulfill:{state:{visible:'{{$self.value==="nodes"?true:false }}'}}},{target:"yField_nodes",fulfill:{state:{visible:'{{$self.value==="nodes"?true:false }}'}}},{target:"xField_edges",fulfill:{state:{visible:'{{$self.value==="edges"?true:false }}'}}},{target:"yField_edges",fulfill:{state:{visible:'{{$self.value==="edges"?true:false }}'}}}]},xField_nodes:{title:"X轴字段","x-decorator":"FormItem","x-component":"Select",enum:[...i]},yField_nodes:{title:"Y轴字段","x-decorator":"FormItem","x-component":"Select",enum:[...i]},xField_edges:{title:"X轴字段","x-decorator":"FormItem","x-component":"Select",enum:[...o]},yField_edges:{title:"Y轴字段","x-decorator":"FormItem","x-component":"Select",enum:[...o]}},Tr)},info:Or};var Fr={id:"1522921",name:"graphin",font_family:"graphin",css_prefix_text:"icon-",description:"",glyphs:[{icon_id:"4765721",name:"check-circle",font_class:"check-circle",unicode:"e77d",unicode_decimal:59261},{icon_id:"4765722",name:"CI",font_class:"CI",unicode:"e77e",unicode_decimal:59262},{icon_id:"4765723",name:"Dollar",font_class:"Dollar",unicode:"e77f",unicode_decimal:59263},{icon_id:"4765724",name:"compass",font_class:"compass",unicode:"e780",unicode_decimal:59264},{icon_id:"4765725",name:"close-circle",font_class:"close-circle",unicode:"e781",unicode_decimal:59265},{icon_id:"4765726",name:"frown",font_class:"frown",unicode:"e782",unicode_decimal:59266},{icon_id:"4765727",name:"info-circle",font_class:"info-circle",unicode:"e783",unicode_decimal:59267},{icon_id:"4765728",name:"left-circle",font_class:"left-circle",unicode:"e784",unicode_decimal:59268},{icon_id:"4765729",name:"down-circle",font_class:"down-circle",unicode:"e785",unicode_decimal:59269},{icon_id:"4765730",name:"EURO",font_class:"EURO",unicode:"e786",unicode_decimal:59270},{icon_id:"4765731",name:"copyright",font_class:"copyright",unicode:"e787",unicode_decimal:59271},{icon_id:"4765732",name:"minus-circle",font_class:"minus-circle",unicode:"e788",unicode_decimal:59272},{icon_id:"4765733",name:"meh",font_class:"meh",unicode:"e789",unicode_decimal:59273},{icon_id:"4765734",name:"plus-circle",font_class:"plus-circle",unicode:"e78a",unicode_decimal:59274},{icon_id:"4765735",name:"play-circle",font_class:"play-circle",unicode:"e78b",unicode_decimal:59275},{icon_id:"4765736",name:"question-circle",font_class:"question-circle",unicode:"e78c",unicode_decimal:59276},{icon_id:"4765737",name:"Pound",font_class:"Pound",unicode:"e78d",unicode_decimal:59277},{icon_id:"4765738",name:"right-circle",font_class:"right-circle",unicode:"e78e",unicode_decimal:59278},{icon_id:"4765739",name:"smile",font_class:"smile",unicode:"e78f",unicode_decimal:59279},{icon_id:"4765740",name:"trademark",font_class:"trademark",unicode:"e790",unicode_decimal:59280},{icon_id:"4765741",name:"time-circle",font_class:"time-circle",unicode:"e791",unicode_decimal:59281},{icon_id:"4765742",name:"time out",font_class:"timeout",unicode:"e792",unicode_decimal:59282},{icon_id:"4765743",name:"earth",font_class:"earth",unicode:"e793",unicode_decimal:59283},{icon_id:"4765744",name:"YUAN",font_class:"YUAN",unicode:"e794",unicode_decimal:59284},{icon_id:"4765745",name:"up-circle",font_class:"up-circle",unicode:"e795",unicode_decimal:59285},{icon_id:"4765746",name:"warning-circle",font_class:"warning-circle",unicode:"e796",unicode_decimal:59286},{icon_id:"4765811",name:"sync",font_class:"sync",unicode:"e797",unicode_decimal:59287},{icon_id:"4765812",name:"transaction",font_class:"transaction",unicode:"e798",unicode_decimal:59288},{icon_id:"4765837",name:"undo",font_class:"undo",unicode:"e799",unicode_decimal:59289},{icon_id:"4765838",name:"redo",font_class:"redo",unicode:"e79a",unicode_decimal:59290},{icon_id:"4765852",name:"reload",font_class:"reload",unicode:"e79b",unicode_decimal:59291},{icon_id:"4765853",name:"reload time",font_class:"reloadtime",unicode:"e79c",unicode_decimal:59292},{icon_id:"4765866",name:"message",font_class:"message",unicode:"e79d",unicode_decimal:59293},{icon_id:"4765881",name:"dashboard",font_class:"dashboard",unicode:"e79e",unicode_decimal:59294},{icon_id:"4765886",name:"issues close",font_class:"issuesclose",unicode:"e79f",unicode_decimal:59295},{icon_id:"4765887",name:"poweroff",font_class:"poweroff",unicode:"e7a0",unicode_decimal:59296},{icon_id:"4765888",name:"logout",font_class:"logout",unicode:"e7a1",unicode_decimal:59297},{icon_id:"4765890",name:"pie chart",font_class:"piechart",unicode:"e7a2",unicode_decimal:59298},{icon_id:"4765891",name:"setting",font_class:"setting",unicode:"e7a3",unicode_decimal:59299},{icon_id:"4765896",name:"eye",font_class:"eye",unicode:"e7a4",unicode_decimal:59300},{icon_id:"4765897",name:"location",font_class:"location",unicode:"e7a5",unicode_decimal:59301},{icon_id:"4765957",name:"edit-square",font_class:"edit-square",unicode:"e7a6",unicode_decimal:59302},{icon_id:"4765958",name:"export",font_class:"export",unicode:"e7a7",unicode_decimal:59303},{icon_id:"4765959",name:"save",font_class:"save",unicode:"e7a8",unicode_decimal:59304},{icon_id:"4765960",name:"Import",font_class:"Import",unicode:"e7a9",unicode_decimal:59305},{icon_id:"4765962",name:"app store",font_class:"appstore",unicode:"e7aa",unicode_decimal:59306},{icon_id:"4765964",name:"close-square",font_class:"close-square",unicode:"e7ab",unicode_decimal:59307},{icon_id:"4765965",name:"down-square",font_class:"down-square",unicode:"e7ac",unicode_decimal:59308},{icon_id:"4765966",name:"layout",font_class:"layout",unicode:"e7ad",unicode_decimal:59309},{icon_id:"4765967",name:"left-square",font_class:"left-square",unicode:"e7ae",unicode_decimal:59310},{icon_id:"4765968",name:"play-square",font_class:"play-square",unicode:"e7af",unicode_decimal:59311},{icon_id:"4765969",name:"control",font_class:"control",unicode:"e7b0",unicode_decimal:59312},{icon_id:"4765970",name:"code library",font_class:"codelibrary",unicode:"e7b1",unicode_decimal:59313},{icon_id:"4765971",name:"detail",font_class:"detail",unicode:"e7b2",unicode_decimal:59314},{icon_id:"4765972",name:"minus-square",font_class:"minus-square",unicode:"e7b3",unicode_decimal:59315},{icon_id:"4765973",name:"plus-square",font_class:"plus-square",unicode:"e7b4",unicode_decimal:59316},{icon_id:"4765974",name:"right-square",font_class:"right-square",unicode:"e7b5",unicode_decimal:59317},{icon_id:"4765975",name:"project",font_class:"project",unicode:"e7b6",unicode_decimal:59318},{icon_id:"4765976",name:"wallet",font_class:"wallet",unicode:"e7b7",unicode_decimal:59319},{icon_id:"4765977",name:"up-square",font_class:"up-square",unicode:"e7b8",unicode_decimal:59320},{icon_id:"4765978",name:"calculator",font_class:"calculator",unicode:"e7b9",unicode_decimal:59321},{icon_id:"4766245",name:"interation",font_class:"interation",unicode:"e7ba",unicode_decimal:59322},{icon_id:"4766253",name:"check-square",font_class:"check-square",unicode:"e7bb",unicode_decimal:59323},{icon_id:"4766265",name:"border",font_class:"border",unicode:"e7bc",unicode_decimal:59324},{icon_id:"4766266",name:"border-outer",font_class:"border-outer",unicode:"e7bd",unicode_decimal:59325},{icon_id:"4766268",name:"border-top",font_class:"border-top",unicode:"e7be",unicode_decimal:59326},{icon_id:"4766269",name:"border-bottom",font_class:"border-bottom",unicode:"e7bf",unicode_decimal:59327},{icon_id:"4766270",name:"border-left",font_class:"border-left",unicode:"e7c0",unicode_decimal:59328},{icon_id:"4766271",name:"border-right",font_class:"border-right",unicode:"e7c1",unicode_decimal:59329},{icon_id:"4766276",name:"border-inner",font_class:"border-inner",unicode:"e7c2",unicode_decimal:59330},{icon_id:"4766277",name:"border-verticle",font_class:"border-verticle",unicode:"e7c3",unicode_decimal:59331},{icon_id:"4766278",name:"border-horizontal",font_class:"border-horizontal",unicode:"e7c4",unicode_decimal:59332},{icon_id:"4766282",name:"radius-bottomleft",font_class:"radius-bottomleft",unicode:"e7c5",unicode_decimal:59333},{icon_id:"4766283",name:"radius-bottomright",font_class:"radius-bottomright",unicode:"e7c6",unicode_decimal:59334},{icon_id:"4766284",name:"radius-upleft",font_class:"radius-upleft",unicode:"e7c7",unicode_decimal:59335},{icon_id:"4766285",name:"radius-upright",font_class:"radius-upright",unicode:"e7c8",unicode_decimal:59336},{icon_id:"4766286",name:"radius-setting",font_class:"radius-setting",unicode:"e7c9",unicode_decimal:59337},{icon_id:"4766289",name:"add user",font_class:"adduser",unicode:"e7ca",unicode_decimal:59338},{icon_id:"4766290",name:"delete team",font_class:"deleteteam",unicode:"e7cb",unicode_decimal:59339},{icon_id:"4766291",name:"delete user",font_class:"deleteuser",unicode:"e7cc",unicode_decimal:59340},{icon_id:"4766292",name:"addteam",font_class:"addteam",unicode:"e7cd",unicode_decimal:59341},{icon_id:"4766293",name:"user",font_class:"user",unicode:"e7ce",unicode_decimal:59342},{icon_id:"4766294",name:"team",font_class:"team",unicode:"e7cf",unicode_decimal:59343},{icon_id:"4766297",name:"area chart",font_class:"areachart",unicode:"e7d0",unicode_decimal:59344},{icon_id:"4766298",name:"line chart",font_class:"linechart",unicode:"e7d1",unicode_decimal:59345},{icon_id:"4766299",name:"bar chart",font_class:"barchart",unicode:"e7d2",unicode_decimal:59346},{icon_id:"4766300",name:"point map",font_class:"pointmap",unicode:"e7d3",unicode_decimal:59347},{icon_id:"4766438",name:"container",font_class:"container",unicode:"e7d4",unicode_decimal:59348},{icon_id:"4766439",name:"database",font_class:"database",unicode:"e7d5",unicode_decimal:59349},{icon_id:"4766440",name:"sever",font_class:"sever",unicode:"e7d6",unicode_decimal:59350},{icon_id:"4766451",name:"mobile",font_class:"mobile",unicode:"e7d7",unicode_decimal:59351},{icon_id:"4766452",name:"tablet",font_class:"tablet",unicode:"e7d8",unicode_decimal:59352},{icon_id:"4766453",name:"red envelope",font_class:"redenvelope",unicode:"e7d9",unicode_decimal:59353},{icon_id:"4766454",name:"book",font_class:"book",unicode:"e7da",unicode_decimal:59354},{icon_id:"4766459",name:"file done",font_class:"filedone",unicode:"e7db",unicode_decimal:59355},{icon_id:"4766460",name:"reconciliation",font_class:"reconciliation",unicode:"e7dc",unicode_decimal:59356},{icon_id:"4766461",name:"file -exception",font_class:"file-exception",unicode:"e7dd",unicode_decimal:59357},{icon_id:"4766462",name:"file sync",font_class:"filesync",unicode:"e7de",unicode_decimal:59358},{icon_id:"4766463",name:"file search",font_class:"filesearch",unicode:"e7df",unicode_decimal:59359},{icon_id:"4766464",name:"solution",font_class:"solution",unicode:"e7e0",unicode_decimal:59360},{icon_id:"4766465",name:"file protect",font_class:"fileprotect",unicode:"e7e1",unicode_decimal:59361},{icon_id:"4766468",name:"file-add",font_class:"file-add",unicode:"e7e2",unicode_decimal:59362},{icon_id:"4766469",name:"file-excel",font_class:"file-excel",unicode:"e7e3",unicode_decimal:59363},{icon_id:"4766470",name:"file-exclamation",font_class:"file-exclamation",unicode:"e7e4",unicode_decimal:59364},{icon_id:"4766472",name:"file-pdf",font_class:"file-pdf",unicode:"e7e5",unicode_decimal:59365},{icon_id:"4766473",name:"file-image",font_class:"file-image",unicode:"e7e6",unicode_decimal:59366},{icon_id:"4766474",name:"file-markdown",font_class:"file-markdown",unicode:"e7e7",unicode_decimal:59367},{icon_id:"4766475",name:"file-unknown",font_class:"file-unknown",unicode:"e7e8",unicode_decimal:59368},{icon_id:"4766476",name:"file-ppt",font_class:"file-ppt",unicode:"e7e9",unicode_decimal:59369},{icon_id:"4766477",name:"file-word",font_class:"file-word",unicode:"e7ea",unicode_decimal:59370},{icon_id:"4766478",name:"file",font_class:"file",unicode:"e7eb",unicode_decimal:59371},{icon_id:"4766479",name:"file-zip",font_class:"file-zip",unicode:"e7ec",unicode_decimal:59372},{icon_id:"4766480",name:"file-text",font_class:"file-text",unicode:"e7ed",unicode_decimal:59373},{icon_id:"4766481",name:"file-copy",font_class:"file-copy",unicode:"e7ee",unicode_decimal:59374},{icon_id:"4766482",name:"snippets",font_class:"snippets",unicode:"e7ef",unicode_decimal:59375},{icon_id:"4766507",name:"audit",font_class:"audit",unicode:"e7f0",unicode_decimal:59376},{icon_id:"4766508",name:"diff",font_class:"diff",unicode:"e7f1",unicode_decimal:59377},{icon_id:"4766509",name:"Batch folding",font_class:"Batchfolding",unicode:"e7f2",unicode_decimal:59378},{icon_id:"4766511",name:"security scan",font_class:"securityscan",unicode:"e7f3",unicode_decimal:59379},{icon_id:"4766512",name:"property safety",font_class:"propertysafety",unicode:"e7f4",unicode_decimal:59380},{icon_id:"4766513",name:"safety certificate",font_class:"safetycertificate",unicode:"e7f5",unicode_decimal:59381},{icon_id:"4766514",name:"insurance ",font_class:"insurance",unicode:"e7f6",unicode_decimal:59382},{icon_id:"4766675",name:"alert",font_class:"alert",unicode:"e7f7",unicode_decimal:59383},{icon_id:"4766676",name:"delete",font_class:"delete",unicode:"e7f8",unicode_decimal:59384},{icon_id:"4766677",name:"hourglass",font_class:"hourglass",unicode:"e7f9",unicode_decimal:59385},{icon_id:"4766678",name:"bulb",font_class:"bulb",unicode:"e7fa",unicode_decimal:59386},{icon_id:"4766679",name:"experiment",font_class:"experiment",unicode:"e7fb",unicode_decimal:59387},{icon_id:"4766680",name:"bell",font_class:"bell",unicode:"e7fc",unicode_decimal:59388},{icon_id:"4766681",name:"trophy",font_class:"trophy",unicode:"e7fd",unicode_decimal:59389},{icon_id:"4766682",name:"rest",font_class:"rest",unicode:"e7fe",unicode_decimal:59390},{icon_id:"4766683",name:"USB",font_class:"USB",unicode:"e7ff",unicode_decimal:59391},{icon_id:"4766684",name:"skin",font_class:"skin",unicode:"e800",unicode_decimal:59392},{icon_id:"4766685",name:"home",font_class:"home",unicode:"e801",unicode_decimal:59393},{icon_id:"4766686",name:"bank",font_class:"bank",unicode:"e802",unicode_decimal:59394},{icon_id:"4766688",name:"filter",font_class:"filter",unicode:"e803",unicode_decimal:59395},{icon_id:"4766689",name:"funnel plot",font_class:"funnelplot",unicode:"e804",unicode_decimal:59396},{icon_id:"4766692",name:"like",font_class:"like",unicode:"e805",unicode_decimal:59397},{icon_id:"4766693",name:"unlike",font_class:"unlike",unicode:"e806",unicode_decimal:59398},{icon_id:"4766694",name:"unlock",font_class:"unlock",unicode:"e807",unicode_decimal:59399},{icon_id:"4766695",name:"lock",font_class:"lock",unicode:"e808",unicode_decimal:59400},{icon_id:"4766762",name:"customerservice",font_class:"customerservice",unicode:"e809",unicode_decimal:59401},{icon_id:"4766767",name:"flag",font_class:"flag",unicode:"e80a",unicode_decimal:59402},{icon_id:"4766773",name:"money collect",font_class:"moneycollect",unicode:"e80b",unicode_decimal:59403},{icon_id:"4766774",name:"medicinebox",font_class:"medicinebox",unicode:"e80c",unicode_decimal:59404},{icon_id:"4766775",name:"shop",font_class:"shop",unicode:"e80d",unicode_decimal:59405},{icon_id:"4766778",name:"rocket",font_class:"rocket",unicode:"e80e",unicode_decimal:59406},{icon_id:"4766779",name:"shopping",font_class:"shopping",unicode:"e80f",unicode_decimal:59407},{icon_id:"4766846",name:"folder",font_class:"folder",unicode:"e810",unicode_decimal:59408},{icon_id:"4766847",name:"folder-open",font_class:"folder-open",unicode:"e811",unicode_decimal:59409},{icon_id:"4766848",name:"folder-add",font_class:"folder-add",unicode:"e812",unicode_decimal:59410},{icon_id:"4766849",name:"deployment unit",font_class:"deploymentunit",unicode:"e813",unicode_decimal:59411},{icon_id:"4766854",name:"account book",font_class:"accountbook",unicode:"e814",unicode_decimal:59412},{icon_id:"4766855",name:"contacts",font_class:"contacts",unicode:"e815",unicode_decimal:59413},{icon_id:"4766856",name:"carry out",font_class:"carryout",unicode:"e816",unicode_decimal:59414},{icon_id:"4766857",name:"calendar-check",font_class:"calendar-check",unicode:"e817",unicode_decimal:59415},{icon_id:"4766858",name:"calendar",font_class:"calendar",unicode:"e818",unicode_decimal:59416},{icon_id:"4766861",name:"scan",font_class:"scan",unicode:"e819",unicode_decimal:59417},{icon_id:"4766862",name:"select",font_class:"select",unicode:"e81a",unicode_decimal:59418},{icon_id:"4766871",name:"box plot",font_class:"boxplot",unicode:"e81b",unicode_decimal:59419},{icon_id:"4766872",name:"build",font_class:"build",unicode:"e81c",unicode_decimal:59420},{icon_id:"4766874",name:"sliders",font_class:"sliders",unicode:"e81d",unicode_decimal:59421},{icon_id:"4766881",name:"laptop",font_class:"laptop",unicode:"e81e",unicode_decimal:59422},{icon_id:"4766882",name:"barcode",font_class:"barcode",unicode:"e81f",unicode_decimal:59423},{icon_id:"4766883",name:"camera",font_class:"camera",unicode:"e820",unicode_decimal:59424},{icon_id:"4766884",name:"cluster",font_class:"cluster",unicode:"e821",unicode_decimal:59425},{icon_id:"4766885",name:"gateway",font_class:"gateway",unicode:"e822",unicode_decimal:59426},{icon_id:"4766886",name:"car",font_class:"car",unicode:"e823",unicode_decimal:59427},{icon_id:"4766887",name:"printer",font_class:"printer",unicode:"e824",unicode_decimal:59428},{icon_id:"4766888",name:"read",font_class:"read",unicode:"e825",unicode_decimal:59429},{icon_id:"4766900",name:"cloud-server",font_class:"cloud-server",unicode:"e826",unicode_decimal:59430},{icon_id:"4766901",name:"cloud-upload",font_class:"cloud-upload",unicode:"e827",unicode_decimal:59431},{icon_id:"4766902",name:"cloud",font_class:"cloud",unicode:"e828",unicode_decimal:59432},{icon_id:"4766903",name:"cloud-download",font_class:"cloud-download",unicode:"e829",unicode_decimal:59433},{icon_id:"4766904",name:"cloud-sync",font_class:"cloud-sync",unicode:"e82a",unicode_decimal:59434},{icon_id:"4766905",name:"video",font_class:"video",unicode:"e82b",unicode_decimal:59435},{icon_id:"4766906",name:"notification",font_class:"notification",unicode:"e82c",unicode_decimal:59436},{icon_id:"4766907",name:"sound",font_class:"sound",unicode:"e82d",unicode_decimal:59437},{icon_id:"4766911",name:"radar chart",font_class:"radarchart",unicode:"e82e",unicode_decimal:59438},{icon_id:"4766912",name:"qrcode",font_class:"qrcode",unicode:"e82f",unicode_decimal:59439},{icon_id:"4766916",name:"fund",font_class:"fund",unicode:"e830",unicode_decimal:59440},{icon_id:"4766917",name:"image",font_class:"image",unicode:"e831",unicode_decimal:59441},{icon_id:"4766918",name:"mail",font_class:"mail",unicode:"e832",unicode_decimal:59442},{icon_id:"4766919",name:"table",font_class:"table",unicode:"e833",unicode_decimal:59443},{icon_id:"4766920",name:"id card",font_class:"idcard",unicode:"e834",unicode_decimal:59444},{icon_id:"4766921",name:"credit card",font_class:"creditcard",unicode:"e835",unicode_decimal:59445},{icon_id:"4766951",name:"heart",font_class:"heart",unicode:"e836",unicode_decimal:59446},{icon_id:"4766952",name:"block",font_class:"block",unicode:"e837",unicode_decimal:59447},{icon_id:"4766953",name:"error",font_class:"error",unicode:"e838",unicode_decimal:59448},{icon_id:"4766954",name:"star",font_class:"star",unicode:"e839",unicode_decimal:59449},{icon_id:"4766955",name:"gold",font_class:"gold",unicode:"e83a",unicode_decimal:59450},{icon_id:"4766956",name:"heat map",font_class:"heatmap",unicode:"e83b",unicode_decimal:59451},{icon_id:"4766957",name:"wifi",font_class:"wifi",unicode:"e83c",unicode_decimal:59452},{icon_id:"4766958",name:"attachment",font_class:"attachment",unicode:"e83d",unicode_decimal:59453},{icon_id:"4766959",name:"edit",font_class:"edit",unicode:"e83e",unicode_decimal:59454},{icon_id:"4766960",name:"key",font_class:"key",unicode:"e83f",unicode_decimal:59455},{icon_id:"4766961",name:"api",font_class:"api",unicode:"e840",unicode_decimal:59456},{icon_id:"4766962",name:"disconnect",font_class:"disconnect",unicode:"e841",unicode_decimal:59457},{icon_id:"4766963",name:"highlight",font_class:"highlight",unicode:"e842",unicode_decimal:59458},{icon_id:"4766964",name:"monitor",font_class:"monitor",unicode:"e843",unicode_decimal:59459},{icon_id:"4766965",name:"link",font_class:"link",unicode:"e844",unicode_decimal:59460},{icon_id:"4766966",name:"man",font_class:"man",unicode:"e845",unicode_decimal:59461},{icon_id:"4766967",name:"percentage",font_class:"percentage",unicode:"e846",unicode_decimal:59462},{icon_id:"4766969",name:"pushpin",font_class:"pushpin",unicode:"e847",unicode_decimal:59463},{icon_id:"4766970",name:"phone",font_class:"phone",unicode:"e848",unicode_decimal:59464},{icon_id:"4766971",name:"shake",font_class:"shake",unicode:"e849",unicode_decimal:59465},{icon_id:"4766972",name:"tag",font_class:"tag",unicode:"e84a",unicode_decimal:59466},{icon_id:"4766973",name:"wrench",font_class:"wrench",unicode:"e84b",unicode_decimal:59467},{icon_id:"4766975",name:"tags",font_class:"tags",unicode:"e84c",unicode_decimal:59468},{icon_id:"4766982",name:"scissor",font_class:"scissor",unicode:"e84d",unicode_decimal:59469},{icon_id:"4766984",name:"mr",font_class:"mr",unicode:"e84e",unicode_decimal:59470},{icon_id:"4766985",name:"share",font_class:"share",unicode:"e84f",unicode_decimal:59471},{icon_id:"4766986",name:"branches",font_class:"branches",unicode:"e850",unicode_decimal:59472},{icon_id:"4766995",name:"fork",font_class:"fork",unicode:"e851",unicode_decimal:59473},{icon_id:"4767006",name:"shrink",font_class:"shrink",unicode:"e852",unicode_decimal:59474},{icon_id:"4767007",name:"arrawsalt",font_class:"arrawsalt",unicode:"e853",unicode_decimal:59475},{icon_id:"4767009",name:"vertical right",font_class:"verticalright",unicode:"e854",unicode_decimal:59476},{icon_id:"4767010",name:"vertical left",font_class:"verticalleft",unicode:"e855",unicode_decimal:59477},{icon_id:"4767011",name:"right",font_class:"right",unicode:"e856",unicode_decimal:59478},{icon_id:"4767012",name:"left",font_class:"left",unicode:"e857",unicode_decimal:59479},{icon_id:"4767013",name:"up",font_class:"up",unicode:"e858",unicode_decimal:59480},{icon_id:"4767014",name:"down",font_class:"down",unicode:"e859",unicode_decimal:59481},{icon_id:"4767015",name:"fullscreen",font_class:"fullscreen",unicode:"e85a",unicode_decimal:59482},{icon_id:"4767016",name:"fullscreen-exit",font_class:"fullscreen-exit",unicode:"e85b",unicode_decimal:59483},{icon_id:"4767018",name:"doubleleft",font_class:"doubleleft",unicode:"e85c",unicode_decimal:59484},{icon_id:"4767019",name:"double right",font_class:"doubleright",unicode:"e85d",unicode_decimal:59485},{icon_id:"4767020",name:"arrowright",font_class:"arrowright",unicode:"e85e",unicode_decimal:59486},{icon_id:"4767021",name:"arrowup",font_class:"arrowup",unicode:"e85f",unicode_decimal:59487},{icon_id:"4767022",name:"arrowleft",font_class:"arrowleft",unicode:"e860",unicode_decimal:59488},{icon_id:"4767023",name:"arrowdown",font_class:"arrowdown",unicode:"e861",unicode_decimal:59489},{icon_id:"4767025",name:"upload",font_class:"upload",unicode:"e862",unicode_decimal:59490},{icon_id:"4767026",name:"colum-height",font_class:"colum-height",unicode:"e863",unicode_decimal:59491},{icon_id:"4767027",name:"vertical-align-botto",font_class:"vertical-align-botto",unicode:"e864",unicode_decimal:59492},{icon_id:"4767028",name:"vertical-align-middl",font_class:"vertical-align-middl",unicode:"e865",unicode_decimal:59493},{icon_id:"4767029",name:"totop",font_class:"totop",unicode:"e866",unicode_decimal:59494},{icon_id:"4767030",name:"vertical-align-top",font_class:"vertical-align-top",unicode:"e867",unicode_decimal:59495},{icon_id:"4767031",name:"download",font_class:"download",unicode:"e868",unicode_decimal:59496},{icon_id:"4767038",name:"sort-descending",font_class:"sort-descending",unicode:"e869",unicode_decimal:59497},{icon_id:"4767039",name:"sort-ascending",font_class:"sort-ascending",unicode:"e86a",unicode_decimal:59498},{icon_id:"4767043",name:"fall",font_class:"fall",unicode:"e86b",unicode_decimal:59499},{icon_id:"4767044",name:"swap",font_class:"swap",unicode:"e86c",unicode_decimal:59500},{icon_id:"4767045",name:"stock",font_class:"stock",unicode:"e86d",unicode_decimal:59501},{icon_id:"4767046",name:"rise",font_class:"rise",unicode:"e86e",unicode_decimal:59502},{icon_id:"4767050",name:"indent",font_class:"indent",unicode:"e86f",unicode_decimal:59503},{icon_id:"4767051",name:"outdent",font_class:"outdent",unicode:"e870",unicode_decimal:59504},{icon_id:"4767059",name:"menu",font_class:"menu",unicode:"e871",unicode_decimal:59505},{icon_id:"4767060",name:"unordered list",font_class:"unorderedlist",unicode:"e872",unicode_decimal:59506},{icon_id:"4767061",name:"ordered list",font_class:"orderedlist",unicode:"e873",unicode_decimal:59507},{icon_id:"4767062",name:"align-right",font_class:"align-right",unicode:"e874",unicode_decimal:59508},{icon_id:"4767063",name:"align-center",font_class:"align-center",unicode:"e875",unicode_decimal:59509},{icon_id:"4767064",name:"align-left",font_class:"align-left",unicode:"e876",unicode_decimal:59510},{icon_id:"4767072",name:"pic-center",font_class:"pic-center",unicode:"e877",unicode_decimal:59511},{icon_id:"4767073",name:"pic-right",font_class:"pic-right",unicode:"e878",unicode_decimal:59512},{icon_id:"4767074",name:"pic-left",font_class:"pic-left",unicode:"e879",unicode_decimal:59513},{icon_id:"4767078",name:"bold",font_class:"bold",unicode:"e87a",unicode_decimal:59514},{icon_id:"4767079",name:"font-colors",font_class:"font-colors",unicode:"e87b",unicode_decimal:59515},{icon_id:"4767080",name:"exclaimination",font_class:"exclaimination",unicode:"e87c",unicode_decimal:59516},{icon_id:"4767081",name:"font-size",font_class:"font-size",unicode:"e87d",unicode_decimal:59517},{icon_id:"4767082",name:"infomation",font_class:"infomation",unicode:"e87e",unicode_decimal:59518},{icon_id:"4767083",name:"line-height",font_class:"line-height",unicode:"e87f",unicode_decimal:59519},{icon_id:"4767084",name:"strikethrough",font_class:"strikethrough",unicode:"e880",unicode_decimal:59520},{icon_id:"4767085",name:"underline",font_class:"underline",unicode:"e881",unicode_decimal:59521},{icon_id:"4767086",name:"number",font_class:"number",unicode:"e882",unicode_decimal:59522},{icon_id:"4767087",name:"italic",font_class:"italic",unicode:"e883",unicode_decimal:59523},{icon_id:"4767091",name:"code",font_class:"code",unicode:"e884",unicode_decimal:59524},{icon_id:"4767092",name:"column-width",font_class:"column-width",unicode:"e885",unicode_decimal:59525},{icon_id:"4767093",name:"check",font_class:"check",unicode:"e886",unicode_decimal:59526},{icon_id:"4767094",name:"ellipsis",font_class:"ellipsis",unicode:"e887",unicode_decimal:59527},{icon_id:"4767095",name:"dash",font_class:"dash",unicode:"e888",unicode_decimal:59528},{icon_id:"4767096",name:"close",font_class:"close",unicode:"e889",unicode_decimal:59529},{icon_id:"4767097",name:"enter",font_class:"enter",unicode:"e88a",unicode_decimal:59530},{icon_id:"4767098",name:"line",font_class:"line",unicode:"e88b",unicode_decimal:59531},{icon_id:"4767099",name:"minus",font_class:"minus",unicode:"e88c",unicode_decimal:59532},{icon_id:"4767100",name:"question",font_class:"question",unicode:"e88d",unicode_decimal:59533},{icon_id:"4767102",name:"rollback",font_class:"rollback",unicode:"e88e",unicode_decimal:59534},{icon_id:"4767103",name:"small-dash",font_class:"small-dash",unicode:"e88f",unicode_decimal:59535},{icon_id:"4767104",name:"pause",font_class:"pause",unicode:"e890",unicode_decimal:59536},{icon_id:"4767106",name:"bg-colors",font_class:"bg-colors",unicode:"e891",unicode_decimal:59537},{icon_id:"4936455",name:"crown",font_class:"crown",unicode:"e892",unicode_decimal:59538},{icon_id:"4936456",name:"drag",font_class:"drag",unicode:"e893",unicode_decimal:59539},{icon_id:"4936457",name:"desktop",font_class:"desktop",unicode:"e894",unicode_decimal:59540},{icon_id:"4936458",name:"gift",font_class:"gift",unicode:"e895",unicode_decimal:59541},{icon_id:"4936459",name:"stop",font_class:"stop",unicode:"e896",unicode_decimal:59542},{icon_id:"4936460",name:"fire",font_class:"fire",unicode:"e897",unicode_decimal:59543},{icon_id:"4936461",name:"thunderbolt",font_class:"thunderbolt",unicode:"e898",unicode_decimal:59544},{icon_id:"4936478",name:"check-circle-fill",font_class:"check-circle-fill",unicode:"e899",unicode_decimal:59545},{icon_id:"4936479",name:"left-circle-fill",font_class:"left-circle-fill",unicode:"e89a",unicode_decimal:59546},{icon_id:"4936480",name:"down-circle-fill",font_class:"down-circle-fill",unicode:"e89b",unicode_decimal:59547},{icon_id:"4936481",name:"minus-circle-fill",font_class:"minus-circle-fill",unicode:"e89c",unicode_decimal:59548},{icon_id:"4936482",name:"close-circle-fill",font_class:"close-circle-fill",unicode:"e89d",unicode_decimal:59549},{icon_id:"4936483",name:"info-circle-fill",font_class:"info-circle-fill",unicode:"e89e",unicode_decimal:59550},{icon_id:"4936484",name:"up-circle-fill",font_class:"up-circle-fill",unicode:"e89f",unicode_decimal:59551},{icon_id:"4936485",name:"right-circle-fill",font_class:"right-circle-fill",unicode:"e8a0",unicode_decimal:59552},{icon_id:"4936486",name:"plus-circle-fill",font_class:"plus-circle-fill",unicode:"e8a1",unicode_decimal:59553},{icon_id:"4936487",name:"question-circle-fill",font_class:"question-circle-fill",unicode:"e8a2",unicode_decimal:59554},{icon_id:"4936499",name:"EURO-circle-fill",font_class:"EURO-circle-fill",unicode:"e8a3",unicode_decimal:59555},{icon_id:"4936500",name:"frown-fill",font_class:"frown-fill",unicode:"e8a4",unicode_decimal:59556},{icon_id:"4936501",name:"copyright-circle-fil",font_class:"copyright-circle-fil",unicode:"e8a5",unicode_decimal:59557},{icon_id:"4936502",name:"CI-circle-fill",font_class:"CI-circle-fill",unicode:"e8a6",unicode_decimal:59558},{icon_id:"4936503",name:"compass-fill",font_class:"compass-fill",unicode:"e8a7",unicode_decimal:59559},{icon_id:"4936504",name:"Dollar-circle-fill",font_class:"Dollar-circle-fill",unicode:"e8a8",unicode_decimal:59560},{icon_id:"4936505",name:"poweroff-circle-fill",font_class:"poweroff-circle-fill",unicode:"e8a9",unicode_decimal:59561},{icon_id:"4936506",name:"meh-fill",font_class:"meh-fill",unicode:"e8aa",unicode_decimal:59562},{icon_id:"4936507",name:"play-circle-fill",font_class:"play-circle-fill",unicode:"e8ab",unicode_decimal:59563},{icon_id:"4936508",name:"Pound-circle-fill",font_class:"Pound-circle-fill",unicode:"e8ac",unicode_decimal:59564},{icon_id:"4936509",name:"smile-fill",font_class:"smile-fill",unicode:"e8ad",unicode_decimal:59565},{icon_id:"4936510",name:"stop-fill",font_class:"stop-fill",unicode:"e8ae",unicode_decimal:59566},{icon_id:"4936511",name:"warning-circle-fill",font_class:"warning-circle-fill",unicode:"e8af",unicode_decimal:59567},{icon_id:"4936512",name:"time-circle-fill",font_class:"time-circle-fill",unicode:"e8b0",unicode_decimal:59568},{icon_id:"4936513",name:"trademark-circle-fil",font_class:"trademark-circle-fil",unicode:"e8b1",unicode_decimal:59569},{icon_id:"4936514",name:"YUAN-circle-fill",font_class:"YUAN-circle-fill",unicode:"e8b2",unicode_decimal:59570},{icon_id:"4936519",name:"heart-fill",font_class:"heart-fill",unicode:"e8b3",unicode_decimal:59571},{icon_id:"4936520",name:"pie chart-circle-fil",font_class:"piechart-circle-fil",unicode:"e8b4",unicode_decimal:59572},{icon_id:"4936521",name:"dashboard-fill",font_class:"dashboard-fill",unicode:"e8b5",unicode_decimal:59573},{icon_id:"4936522",name:"message-fill",font_class:"message-fill",unicode:"e8b6",unicode_decimal:59574},{icon_id:"4936529",name:"check-square-fill",font_class:"check-square-fill",unicode:"e8b7",unicode_decimal:59575},{icon_id:"4936530",name:"down-square-fill",font_class:"down-square-fill",unicode:"e8b8",unicode_decimal:59576},{icon_id:"4936531",name:"minus-square-fill",font_class:"minus-square-fill",unicode:"e8b9",unicode_decimal:59577},{icon_id:"4936532",name:"close-square-fill",font_class:"close-square-fill",unicode:"e8ba",unicode_decimal:59578},{icon_id:"4936533",name:"code library-fill",font_class:"codelibrary-fill",unicode:"e8bb",unicode_decimal:59579},{icon_id:"4936534",name:"left-square-fill",font_class:"left-square-fill",unicode:"e8bc",unicode_decimal:59580},{icon_id:"4936535",name:"play-square-fill",font_class:"play-square-fill",unicode:"e8bd",unicode_decimal:59581},{icon_id:"4936536",name:"up-square-fill",font_class:"up-square-fill",unicode:"e8be",unicode_decimal:59582},{icon_id:"4936537",name:"right-square-fill",font_class:"right-square-fill",unicode:"e8bf",unicode_decimal:59583},{icon_id:"4936538",name:"plus-square-fill",font_class:"plus-square-fill",unicode:"e8c0",unicode_decimal:59584},{icon_id:"4936542",name:"account book-fill",font_class:"accountbook-fill",unicode:"e8c1",unicode_decimal:59585},{icon_id:"4936543",name:"carry out-fill",font_class:"carryout-fill",unicode:"e8c2",unicode_decimal:59586},{icon_id:"4936544",name:"calendar-fill",font_class:"calendar-fill",unicode:"e8c3",unicode_decimal:59587},{icon_id:"4936545",name:"calculator-fill",font_class:"calculator-fill",unicode:"e8c4",unicode_decimal:59588},{icon_id:"4936546",name:"interation-fill",font_class:"interation-fill",unicode:"e8c5",unicode_decimal:59589},{icon_id:"4936550",name:"project-fill",font_class:"project-fill",unicode:"e8c6",unicode_decimal:59590},{icon_id:"4936571",name:"detail-fill",font_class:"detail-fill",unicode:"e8c7",unicode_decimal:59591},{icon_id:"4936575",name:"save-fill",font_class:"save-fill",unicode:"e8c8",unicode_decimal:59592},{icon_id:"4936576",name:"wallet-fill",font_class:"wallet-fill",unicode:"e8c9",unicode_decimal:59593},{icon_id:"4936577",name:"control-fill",font_class:"control-fill",unicode:"e8ca",unicode_decimal:59594},{icon_id:"4936583",name:"layout-fill",font_class:"layout-fill",unicode:"e8cb",unicode_decimal:59595},{icon_id:"4936584",name:"app store-fill",font_class:"appstore-fill",unicode:"e8cc",unicode_decimal:59596},{icon_id:"4936585",name:"mobile-fill",font_class:"mobile-fill",unicode:"e8cd",unicode_decimal:59597},{icon_id:"4936586",name:"tablet-fill",font_class:"tablet-fill",unicode:"e8ce",unicode_decimal:59598},{icon_id:"4936587",name:"book-fill",font_class:"book-fill",unicode:"e8cf",unicode_decimal:59599},{icon_id:"4936588",name:"red envelope-fill",font_class:"redenvelope-fill",unicode:"e8d0",unicode_decimal:59600},{icon_id:"4936591",name:"safety certificate-f",font_class:"safetycertificate-f",unicode:"e8d1",unicode_decimal:59601},{icon_id:"4936592",name:"property safety-fill",font_class:"propertysafety-fill",unicode:"e8d2",unicode_decimal:59602},{icon_id:"4936598",name:"insurance-fill",font_class:"insurance-fill",unicode:"e8d3",unicode_decimal:59603},{icon_id:"4936599",name:"security scan-fill",font_class:"securityscan-fill",unicode:"e8d4",unicode_decimal:59604},{icon_id:"4936602",name:"file-exclamation-fil",font_class:"file-exclamation-fil",unicode:"e8d5",unicode_decimal:59605},{icon_id:"4936604",name:"file-add-fill",font_class:"file-add-fill",unicode:"e8d6",unicode_decimal:59606},{icon_id:"4936605",name:"file-fill",font_class:"file-fill",unicode:"e8d7",unicode_decimal:59607},{icon_id:"4936606",name:"file-excel-fill",font_class:"file-excel-fill",unicode:"e8d8",unicode_decimal:59608},{icon_id:"4936607",name:"file-markdown-fill",font_class:"file-markdown-fill",unicode:"e8d9",unicode_decimal:59609},{icon_id:"4936608",name:"file-text-fill",font_class:"file-text-fill",unicode:"e8da",unicode_decimal:59610},{icon_id:"4936609",name:"file-ppt-fill",font_class:"file-ppt-fill",unicode:"e8db",unicode_decimal:59611},{icon_id:"4936610",name:"file-unknown-fill",font_class:"file-unknown-fill",unicode:"e8dc",unicode_decimal:59612},{icon_id:"4936611",name:"file-word-fill",font_class:"file-word-fill",unicode:"e8dd",unicode_decimal:59613},{icon_id:"4936612",name:"file-zip-fill",font_class:"file-zip-fill",unicode:"e8de",unicode_decimal:59614},{icon_id:"4936613",name:"file-pdf-fill",font_class:"file-pdf-fill",unicode:"e8df",unicode_decimal:59615},{icon_id:"4936615",name:"file-image-fill",font_class:"file-image-fill",unicode:"e8e0",unicode_decimal:59616},{icon_id:"4936617",name:"diff-fill",font_class:"diff-fill",unicode:"e8e1",unicode_decimal:59617},{icon_id:"4936618",name:"file-copy-fill",font_class:"file-copy-fill",unicode:"e8e2",unicode_decimal:59618},{icon_id:"4936619",name:"snippets-fill",font_class:"snippets-fill",unicode:"e8e3",unicode_decimal:59619},{icon_id:"4936620",name:"batch folding-fill",font_class:"batchfolding-fill",unicode:"e8e4",unicode_decimal:59620},{icon_id:"4936621",name:"reconciliation-fill",font_class:"reconciliation-fill",unicode:"e8e5",unicode_decimal:59621},{icon_id:"4936622",name:"folder-add-fill",font_class:"folder-add-fill",unicode:"e8e6",unicode_decimal:59622},{icon_id:"4936623",name:"folder-fill",font_class:"folder-fill",unicode:"e8e7",unicode_decimal:59623},{icon_id:"4936624",name:"folder-open-fill",font_class:"folder-open-fill",unicode:"e8e8",unicode_decimal:59624},{icon_id:"4936626",name:"database-fill",font_class:"database-fill",unicode:"e8e9",unicode_decimal:59625},{icon_id:"4936627",name:"container-fill",font_class:"container-fill",unicode:"e8ea",unicode_decimal:59626},{icon_id:"4936628",name:"sever-fill",font_class:"sever-fill",unicode:"e8eb",unicode_decimal:59627},{icon_id:"4936629",name:"calendar-check-fill",font_class:"calendar-check-fill",unicode:"e8ec",unicode_decimal:59628},{icon_id:"4936630",name:"image-fill",font_class:"image-fill",unicode:"e8ed",unicode_decimal:59629},{icon_id:"4936631",name:"id card-fill",font_class:"idcard-fill",unicode:"e8ee",unicode_decimal:59630},{icon_id:"4936633",name:"credit card-fill",font_class:"creditcard-fill",unicode:"e8ef",unicode_decimal:59631},{icon_id:"4936634",name:"fund-fill",font_class:"fund-fill",unicode:"e8f0",unicode_decimal:59632},{icon_id:"4936635",name:"read-fill",font_class:"read-fill",unicode:"e8f1",unicode_decimal:59633},{icon_id:"4936636",name:"contacts-fill",font_class:"contacts-fill",unicode:"e8f2",unicode_decimal:59634},{icon_id:"4936637",name:"delete-fill",font_class:"delete-fill",unicode:"e8f3",unicode_decimal:59635},{icon_id:"4936638",name:"notification-fill",font_class:"notification-fill",unicode:"e8f4",unicode_decimal:59636},{icon_id:"4936639",name:"flag-fill",font_class:"flag-fill",unicode:"e8f5",unicode_decimal:59637},{icon_id:"4936640",name:"money collect-fill",font_class:"moneycollect-fill",unicode:"e8f6",unicode_decimal:59638},{icon_id:"4936641",name:"medicine box-fill",font_class:"medicinebox-fill",unicode:"e8f7",unicode_decimal:59639},{icon_id:"4936642",name:"rest-fill",font_class:"rest-fill",unicode:"e8f8",unicode_decimal:59640},{icon_id:"4936643",name:"shopping-fill",font_class:"shopping-fill",unicode:"e8f9",unicode_decimal:59641},{icon_id:"4936644",name:"skin-fill",font_class:"skin-fill",unicode:"e8fa",unicode_decimal:59642},{icon_id:"4936645",name:"video-fill",font_class:"video-fill",unicode:"e8fb",unicode_decimal:59643},{icon_id:"4936646",name:"sound-fill",font_class:"sound-fill",unicode:"e8fc",unicode_decimal:59644},{icon_id:"4936649",name:"bulb-fill",font_class:"bulb-fill",unicode:"e8fd",unicode_decimal:59645},{icon_id:"4936650",name:"bell-fill",font_class:"bell-fill",unicode:"e8fe",unicode_decimal:59646},{icon_id:"4936651",name:"filter-fill",font_class:"filter-fill",unicode:"e8ff",unicode_decimal:59647},{icon_id:"4936652",name:"fire-fill",font_class:"fire-fill",unicode:"e900",unicode_decimal:59648},{icon_id:"4936653",name:"funnel plot-fill",font_class:"funnelplot-fill",unicode:"e901",unicode_decimal:59649},{icon_id:"4936654",name:"gift-fill",font_class:"gift-fill",unicode:"e902",unicode_decimal:59650},{icon_id:"4936655",name:"hourglass-fill",font_class:"hourglass-fill",unicode:"e903",unicode_decimal:59651},{icon_id:"4936656",name:"home-fill",font_class:"home-fill",unicode:"e904",unicode_decimal:59652},{icon_id:"4936657",name:"trophy-fill",font_class:"trophy-fill",unicode:"e905",unicode_decimal:59653},{icon_id:"4936659",name:"location-fill",font_class:"location-fill",unicode:"e906",unicode_decimal:59654},{icon_id:"4936665",name:"cloud-fill",font_class:"cloud-fill",unicode:"e907",unicode_decimal:59655},{icon_id:"4936666",name:"customerservice-fill",font_class:"customerservice-fill",unicode:"e908",unicode_decimal:59656},{icon_id:"4936667",name:"experiment-fill",font_class:"experiment-fill",unicode:"e909",unicode_decimal:59657},{icon_id:"4936668",name:"eye-fill",font_class:"eye-fill",unicode:"e90a",unicode_decimal:59658},{icon_id:"4936669",name:"like-fill",font_class:"like-fill",unicode:"e90b",unicode_decimal:59659},{icon_id:"4936671",name:"lock-fill",font_class:"lock-fill",unicode:"e90c",unicode_decimal:59660},{icon_id:"4936672",name:"unlike-fill",font_class:"unlike-fill",unicode:"e90d",unicode_decimal:59661},{icon_id:"4936673",name:"star-fill",font_class:"star-fill",unicode:"e90e",unicode_decimal:59662},{icon_id:"4936674",name:"unlock-fill",font_class:"unlock-fill",unicode:"e90f",unicode_decimal:59663},{icon_id:"4936675",name:"alert-fill",font_class:"alert-fill",unicode:"e910",unicode_decimal:59664},{icon_id:"4936676",name:"api-fill",font_class:"api-fill",unicode:"e911",unicode_decimal:59665},{icon_id:"4936677",name:"highlight-fill",font_class:"highlight-fill",unicode:"e912",unicode_decimal:59666},{icon_id:"4936678",name:"phone-fill",font_class:"phone-fill",unicode:"e913",unicode_decimal:59667},{icon_id:"4936679",name:"edit-fill",font_class:"edit-fill",unicode:"e914",unicode_decimal:59668},{icon_id:"4936680",name:"pushpin-fill",font_class:"pushpin-fill",unicode:"e915",unicode_decimal:59669},{icon_id:"4936681",name:"rocket-fill",font_class:"rocket-fill",unicode:"e916",unicode_decimal:59670},{icon_id:"4936682",name:"thunderbolt-fill",font_class:"thunderbolt-fill",unicode:"e917",unicode_decimal:59671},{icon_id:"4936683",name:"tag-fill",font_class:"tag-fill",unicode:"e918",unicode_decimal:59672},{icon_id:"4936684",name:"wrench-fill",font_class:"wrench-fill",unicode:"e919",unicode_decimal:59673},{icon_id:"4936685",name:"tags-fill",font_class:"tags-fill",unicode:"e91a",unicode_decimal:59674},{icon_id:"4936686",name:"bank-fill",font_class:"bank-fill",unicode:"e91b",unicode_decimal:59675},{icon_id:"4936687",name:"camera-fill",font_class:"camera-fill",unicode:"e91c",unicode_decimal:59676},{icon_id:"4936688",name:"error-fill",font_class:"error-fill",unicode:"e91d",unicode_decimal:59677},{icon_id:"4936689",name:"crown-fill",font_class:"crown-fill",unicode:"e91e",unicode_decimal:59678},{icon_id:"4936690",name:"mail-fill",font_class:"mail-fill",unicode:"e91f",unicode_decimal:59679},{icon_id:"4936691",name:"car-fill",font_class:"car-fill",unicode:"e920",unicode_decimal:59680},{icon_id:"4936692",name:"printer-fill",font_class:"printer-fill",unicode:"e921",unicode_decimal:59681},{icon_id:"4936693",name:"shop-fill",font_class:"shop-fill",unicode:"e922",unicode_decimal:59682},{icon_id:"4936694",name:"setting-fill",font_class:"setting-fill",unicode:"e923",unicode_decimal:59683},{icon_id:"4936695",name:"USB-fill",font_class:"USB-fill",unicode:"e924",unicode_decimal:59684},{icon_id:"4936696",name:"golden-fill",font_class:"golden-fill",unicode:"e925",unicode_decimal:59685},{icon_id:"4936697",name:"build-fill",font_class:"build-fill",unicode:"e926",unicode_decimal:59686},{icon_id:"4936698",name:"box plot-fill",font_class:"boxplot-fill",unicode:"e927",unicode_decimal:59687},{icon_id:"4936699",name:"sliders-fill",font_class:"sliders-fill",unicode:"e928",unicode_decimal:59688},{icon_id:"4936943",name:"alibaba",font_class:"alibaba",unicode:"e929",unicode_decimal:59689},{icon_id:"4936944",name:"alibabacloud",font_class:"alibabacloud",unicode:"e92a",unicode_decimal:59690},{icon_id:"4936946",name:"ant design",font_class:"antdesign",unicode:"e92b",unicode_decimal:59691},{icon_id:"4936947",name:"ant-cloud",font_class:"ant-cloud",unicode:"e92c",unicode_decimal:59692},{icon_id:"4936948",name:"behance",font_class:"behance",unicode:"e92d",unicode_decimal:59693},{icon_id:"4936949",name:"google plus",font_class:"googleplus",unicode:"e92e",unicode_decimal:59694},{icon_id:"4936950",name:"medium",font_class:"medium",unicode:"e92f",unicode_decimal:59695},{icon_id:"4936951",name:"google",font_class:"google",unicode:"e930",unicode_decimal:59696},{icon_id:"4936952",name:"IE",font_class:"IE",unicode:"e931",unicode_decimal:59697},{icon_id:"4936953",name:"amazon",font_class:"amazon",unicode:"e932",unicode_decimal:59698},{icon_id:"4936954",name:"slack",font_class:"slack",unicode:"e933",unicode_decimal:59699},{icon_id:"4936955",name:"alipay",font_class:"alipay",unicode:"e934",unicode_decimal:59700},{icon_id:"4936956",name:"taobao",font_class:"taobao",unicode:"e935",unicode_decimal:59701},{icon_id:"4936957",name:"zhihu",font_class:"zhihu",unicode:"e936",unicode_decimal:59702},{icon_id:"4936958",name:"HTML5",font_class:"HTML",unicode:"e937",unicode_decimal:59703},{icon_id:"4936959",name:"linkedin",font_class:"linkedin",unicode:"e938",unicode_decimal:59704},{icon_id:"4936960",name:"yahoo",font_class:"yahoo",unicode:"e939",unicode_decimal:59705},{icon_id:"4936961",name:"facebook",font_class:"facebook",unicode:"e93a",unicode_decimal:59706},{icon_id:"4936962",name:"skype",font_class:"skype",unicode:"e93b",unicode_decimal:59707},{icon_id:"4936963",name:"CodeSandbox",font_class:"CodeSandbox",unicode:"e93c",unicode_decimal:59708},{icon_id:"4936964",name:"chrome",font_class:"chrome",unicode:"e93d",unicode_decimal:59709},{icon_id:"4936965",name:"codepen",font_class:"codepen",unicode:"e93e",unicode_decimal:59710},{icon_id:"4936966",name:"aliwangwang",font_class:"aliwangwang",unicode:"e93f",unicode_decimal:59711},{icon_id:"4936967",name:"apple",font_class:"apple",unicode:"e940",unicode_decimal:59712},{icon_id:"4936968",name:"android",font_class:"android",unicode:"e941",unicode_decimal:59713},{icon_id:"4936969",name:"sketch",font_class:"sketch",unicode:"e942",unicode_decimal:59714},{icon_id:"4936970",name:"Gitlab",font_class:"Gitlab",unicode:"e943",unicode_decimal:59715},{icon_id:"4936971",name:"dribbble",font_class:"dribbble",unicode:"e944",unicode_decimal:59716},{icon_id:"4936972",name:"instagram",font_class:"instagram",unicode:"e945",unicode_decimal:59717},{icon_id:"4936973",name:"reddit",font_class:"reddit",unicode:"e946",unicode_decimal:59718},{icon_id:"4936974",name:"windows",font_class:"windows",unicode:"e947",unicode_decimal:59719},{icon_id:"4936975",name:"yuque",font_class:"yuque",unicode:"e948",unicode_decimal:59720},{icon_id:"4936976",name:"Youtube",font_class:"Youtube",unicode:"e949",unicode_decimal:59721},{icon_id:"4936977",name:"Gitlab-fill",font_class:"Gitlab-fill",unicode:"e94a",unicode_decimal:59722},{icon_id:"4936978",name:"dropbox",font_class:"dropbox",unicode:"e94b",unicode_decimal:59723},{icon_id:"4936979",name:"dingtalk",font_class:"dingtalk",unicode:"e94c",unicode_decimal:59724},{icon_id:"4936980",name:"android-fill",font_class:"android-fill",unicode:"e94d",unicode_decimal:59725},{icon_id:"4936981",name:"apple-fill",font_class:"apple-fill",unicode:"e94e",unicode_decimal:59726},{icon_id:"4936982",name:"HTML5-fill",font_class:"HTML-fill",unicode:"e94f",unicode_decimal:59727},{icon_id:"4936983",name:"windows-fill",font_class:"windows-fill",unicode:"e950",unicode_decimal:59728},{icon_id:"4936984",name:"QQ",font_class:"QQ",unicode:"e951",unicode_decimal:59729},{icon_id:"4936985",name:"twitter",font_class:"twitter",unicode:"e952",unicode_decimal:59730},{icon_id:"4936986",name:"skype-fill",font_class:"skype-fill",unicode:"e953",unicode_decimal:59731},{icon_id:"4936987",name:"weibo",font_class:"weibo",unicode:"e954",unicode_decimal:59732},{icon_id:"4936988",name:"yuque-fill",font_class:"yuque-fill",unicode:"e955",unicode_decimal:59733},{icon_id:"4936989",name:"Youtube-fill",font_class:"Youtube-fill",unicode:"e956",unicode_decimal:59734},{icon_id:"4936990",name:"yahoo-fill",font_class:"yahoo-fill",unicode:"e957",unicode_decimal:59735},{icon_id:"4936991",name:"wechat-fill",font_class:"wechat-fill",unicode:"e958",unicode_decimal:59736},{icon_id:"4936992",name:"chrome-fill",font_class:"chrome-fill",unicode:"e959",unicode_decimal:59737},{icon_id:"4936993",name:"alipay-circle-fill",font_class:"alipay-circle-fill",unicode:"e95a",unicode_decimal:59738},{icon_id:"4936994",name:"aliwangwang-fill",font_class:"aliwangwang-fill",unicode:"e95b",unicode_decimal:59739},{icon_id:"4936995",name:"behance-circle-fill",font_class:"behance-circle-fill",unicode:"e95c",unicode_decimal:59740},{icon_id:"4936996",name:"amazon-circle-fill",font_class:"amazon-circle-fill",unicode:"e95d",unicode_decimal:59741},{icon_id:"4936997",name:"codepen-circle-fill",font_class:"codepen-circle-fill",unicode:"e95e",unicode_decimal:59742},{icon_id:"4936998",name:"CodeSandbox-circle-f",font_class:"CodeSandbox-circle-f",unicode:"e95f",unicode_decimal:59743},{icon_id:"4936999",name:"dropbox-circle-fill",font_class:"dropbox-circle-fill",unicode:"e960",unicode_decimal:59744},{icon_id:"4937000",name:"github-fill",font_class:"github-fill",unicode:"e961",unicode_decimal:59745},{icon_id:"4937001",name:"dribbble-circle-fill",font_class:"dribbble-circle-fill",unicode:"e962",unicode_decimal:59746},{icon_id:"4937002",name:"google plus-circle-f",font_class:"googleplus-circle-f",unicode:"e963",unicode_decimal:59747},{icon_id:"4937003",name:"medium-circle-fill",font_class:"medium-circle-fill",unicode:"e964",unicode_decimal:59748},{icon_id:"4937004",name:"QQ-circle-fill",font_class:"QQ-circle-fill",unicode:"e965",unicode_decimal:59749},{icon_id:"4937005",name:"IE-circle-fill",font_class:"IE-circle-fill",unicode:"e966",unicode_decimal:59750},{icon_id:"4937006",name:"google-circle-fill",font_class:"google-circle-fill",unicode:"e967",unicode_decimal:59751},{icon_id:"4937007",name:"dingtalk-circle-fill",font_class:"dingtalk-circle-fill",unicode:"e968",unicode_decimal:59752},{icon_id:"4937008",name:"sketch-circle-fill",font_class:"sketch-circle-fill",unicode:"e969",unicode_decimal:59753},{icon_id:"4937009",name:"slack-circle-fill",font_class:"slack-circle-fill",unicode:"e96a",unicode_decimal:59754},{icon_id:"4937010",name:"twitter-circle-fill",font_class:"twitter-circle-fill",unicode:"e96b",unicode_decimal:59755},{icon_id:"4937011",name:"taobao-circle-fill",font_class:"taobao-circle-fill",unicode:"e96c",unicode_decimal:59756},{icon_id:"4937012",name:"weibo-circle-fill",font_class:"weibo-circle-fill",unicode:"e96d",unicode_decimal:59757},{icon_id:"4937013",name:"zhihu-circle-fill",font_class:"zhihu-circle-fill",unicode:"e96e",unicode_decimal:59758},{icon_id:"4937014",name:"reddit-circle-fill",font_class:"reddit-circle-fill",unicode:"e96f",unicode_decimal:59759},{icon_id:"4937015",name:"alipay-square-fill",font_class:"alipay-square-fill",unicode:"e970",unicode_decimal:59760},{icon_id:"4937016",name:"dingtalk-square-fill",font_class:"dingtalk-square-fill",unicode:"e971",unicode_decimal:59761},{icon_id:"4937017",name:"CodeSandbox-square-f",font_class:"CodeSandbox-square-f",unicode:"e972",unicode_decimal:59762},{icon_id:"4937018",name:"behance-square-fill",font_class:"behance-square-fill",unicode:"e973",unicode_decimal:59763},{icon_id:"4937019",name:"amazon-square-fill",font_class:"amazon-square-fill",unicode:"e974",unicode_decimal:59764},{icon_id:"4937020",name:"codepen-square-fill",font_class:"codepen-square-fill",unicode:"e975",unicode_decimal:59765},{icon_id:"4937021",name:"dribbble-square-fill",font_class:"dribbble-square-fill",unicode:"e976",unicode_decimal:59766},{icon_id:"4937022",name:"dropbox-square-fill",font_class:"dropbox-square-fill",unicode:"e977",unicode_decimal:59767},{icon_id:"4937023",name:"facebook-fill",font_class:"facebook-fill",unicode:"e978",unicode_decimal:59768},{icon_id:"4937024",name:"google plus-square-f",font_class:"googleplus-square-f",unicode:"e979",unicode_decimal:59769},{icon_id:"4937025",name:"google-square-fill",font_class:"google-square-fill",unicode:"e97a",unicode_decimal:59770},{icon_id:"4937026",name:"instagram-fill",font_class:"instagram-fill",unicode:"e97b",unicode_decimal:59771},{icon_id:"4937027",name:"IE-square-fill",font_class:"IE-square-fill",unicode:"e97c",unicode_decimal:59772},{icon_id:"4937028",name:"medium-square-fill",font_class:"medium-square-fill",unicode:"e97d",unicode_decimal:59773},{icon_id:"4937029",name:"linkedin-fill",font_class:"linkedin-fill",unicode:"e97e",unicode_decimal:59774},{icon_id:"4937030",name:"QQ-square-fill",font_class:"QQ-square-fill",unicode:"e97f",unicode_decimal:59775},{icon_id:"4937031",name:"reddit-square-fill",font_class:"reddit-square-fill",unicode:"e980",unicode_decimal:59776},{icon_id:"4937032",name:"twitter-square-fill",font_class:"twitter-square-fill",unicode:"e981",unicode_decimal:59777},{icon_id:"4937033",name:"sketch-square-fill",font_class:"sketch-square-fill",unicode:"e982",unicode_decimal:59778},{icon_id:"4937034",name:"slack-square-fill",font_class:"slack-square-fill",unicode:"e983",unicode_decimal:59779},{icon_id:"4937035",name:"taobao-square-fill",font_class:"taobao-square-fill",unicode:"e984",unicode_decimal:59780},{icon_id:"4937036",name:"weibo-square-fill",font_class:"weibo-square-fill",unicode:"e985",unicode_decimal:59781},{icon_id:"4937037",name:"zhihu-square-fill",font_class:"zhihu-square-fill",unicode:"e986",unicode_decimal:59782},{icon_id:"5756279",name:"zoom out",font_class:"zoomout",unicode:"e987",unicode_decimal:59783},{icon_id:"5756280",name:"apartment",font_class:"apartment",unicode:"e988",unicode_decimal:59784},{icon_id:"5756281",name:"audio",font_class:"audio",unicode:"e989",unicode_decimal:59785},{icon_id:"5756282",name:"audio-fill",font_class:"audio-fill",unicode:"e98a",unicode_decimal:59786},{icon_id:"5756283",name:"robot",font_class:"robot",unicode:"e98b",unicode_decimal:59787},{icon_id:"5756284",name:"zoom in",font_class:"zoomin",unicode:"e98c",unicode_decimal:59788},{icon_id:"6598312",name:"robot-fill",font_class:"robot-fill",unicode:"e98d",unicode_decimal:59789},{icon_id:"6598313",name:"bug-fill",font_class:"bug-fill",unicode:"e98e",unicode_decimal:59790},{icon_id:"6598314",name:"bug",font_class:"bug",unicode:"e98f",unicode_decimal:59791},{icon_id:"6598315",name:"audio static",font_class:"audiostatic",unicode:"e990",unicode_decimal:59792},{icon_id:"6598316",name:"comment",font_class:"comment",unicode:"e991",unicode_decimal:59793},{icon_id:"6598317",name:"signal-fill",font_class:"signal-fill",unicode:"e992",unicode_decimal:59794},{icon_id:"6598318",name:"verified",font_class:"verified",unicode:"e993",unicode_decimal:59795},{icon_id:"6598319",name:"shortcut-fill",font_class:"shortcut-fill",unicode:"e994",unicode_decimal:59796},{icon_id:"6598320",name:"videocamera add",font_class:"videocameraadd",unicode:"e995",unicode_decimal:59797},{icon_id:"6598321",name:"switch user",font_class:"switchuser",unicode:"e996",unicode_decimal:59798},{icon_id:"6598322",name:"whatsapp",font_class:"whatsapp",unicode:"e997",unicode_decimal:59799},{icon_id:"6598323",name:"appstore add",font_class:"appstoreadd",unicode:"e998",unicode_decimal:59800},{icon_id:"6598339",name:"caret-down",font_class:"caret-down",unicode:"e999",unicode_decimal:59801},{icon_id:"6598340",name:"backward",font_class:"backward",unicode:"e99a",unicode_decimal:59802},{icon_id:"6598341",name:"caret-up",font_class:"caret-up",unicode:"e99b",unicode_decimal:59803},{icon_id:"6598342",name:"caret-right",font_class:"caret-right",unicode:"e99c",unicode_decimal:59804},{icon_id:"6598343",name:"caret-left",font_class:"caret-left",unicode:"e99d",unicode_decimal:59805},{icon_id:"6598344",name:"fast-backward",font_class:"fast-backward",unicode:"e99e",unicode_decimal:59806},{icon_id:"6598345",name:"forward",font_class:"forward",unicode:"e99f",unicode_decimal:59807},{icon_id:"6598346",name:"fast-forward",font_class:"fast-forward",unicode:"e9a0",unicode_decimal:59808},{icon_id:"6598347",name:"search",font_class:"search",unicode:"e9a1",unicode_decimal:59809},{icon_id:"6598348",name:"retweet",font_class:"retweet",unicode:"e9a2",unicode_decimal:59810},{icon_id:"6598349",name:"login",font_class:"login",unicode:"e9a3",unicode_decimal:59811},{icon_id:"6598350",name:"step-backward",font_class:"step-backward",unicode:"e9a4",unicode_decimal:59812},{icon_id:"6598351",name:"step-forward",font_class:"step-forward",unicode:"e9a5",unicode_decimal:59813},{icon_id:"6598352",name:"swap-right",font_class:"swap-right",unicode:"e9a6",unicode_decimal:59814},{icon_id:"6598353",name:"swap-left",font_class:"swap-left",unicode:"e9a7",unicode_decimal:59815},{icon_id:"6598354",name:"woman",font_class:"woman",unicode:"e9a8",unicode_decimal:59816},{icon_id:"7605109",name:"company",font_class:"company",unicode:"e623",unicode_decimal:58915},{icon_id:"7834345",name:"plus",font_class:"plus",unicode:"e9a9",unicode_decimal:59817},{icon_id:"8092166",name:"eye close-fill",font_class:"eyeclose-fill",unicode:"e9aa",unicode_decimal:59818},{icon_id:"8092167",name:"eye-close",font_class:"eye-close",unicode:"e9ab",unicode_decimal:59819},{icon_id:"8094805",name:"clear",font_class:"clear",unicode:"e9ac",unicode_decimal:59820},{icon_id:"8094806",name:"collapse",font_class:"collapse",unicode:"e9ad",unicode_decimal:59821},{icon_id:"8094807",name:"expand",font_class:"expand",unicode:"e9ae",unicode_decimal:59822},{icon_id:"8094808",name:"delete column",font_class:"deletecolumn",unicode:"e9af",unicode_decimal:59823},{icon_id:"8094809",name:"merge-cells",font_class:"merge-cells",unicode:"e9b0",unicode_decimal:59824},{icon_id:"8094810",name:"subnode",font_class:"subnode",unicode:"e9b1",unicode_decimal:59825},{icon_id:"8094811",name:"rotate-left",font_class:"rotate-left",unicode:"e9b2",unicode_decimal:59826},{icon_id:"8094812",name:"rotate-right",font_class:"rotate-right",unicode:"e9b3",unicode_decimal:59827},{icon_id:"8094813",name:"insert row below",font_class:"insertrowbelow",unicode:"e9b4",unicode_decimal:59828},{icon_id:"8094814",name:"insert row above",font_class:"insertrowabove",unicode:"e9b5",unicode_decimal:59829},{icon_id:"8094815",name:"table",font_class:"table1",unicode:"e9b6",unicode_decimal:59830},{icon_id:"8094816",name:"solit-cells",font_class:"solit-cells",unicode:"e9b7",unicode_decimal:59831},{icon_id:"8094817",name:"format painter",font_class:"formatpainter",unicode:"e9b8",unicode_decimal:59832},{icon_id:"8094818",name:"insert row right",font_class:"insertrowright",unicode:"e9b9",unicode_decimal:59833},{icon_id:"8094819",name:"format painter-fill",font_class:"formatpainter-fill",unicode:"e9ba",unicode_decimal:59834},{icon_id:"8094820",name:"insert row left",font_class:"insertrowleft",unicode:"e9bb",unicode_decimal:59835},{icon_id:"8094821",name:"translate",font_class:"translate",unicode:"e9bc",unicode_decimal:59836},{icon_id:"8094822",name:"delete row",font_class:"deleterow",unicode:"e9bd",unicode_decimal:59837},{icon_id:"8094823",name:"sisternode",font_class:"sisternode",unicode:"e9be",unicode_decimal:59838},{icon_id:"9229175",name:"Field-number",font_class:"Field-number",unicode:"e9bf",unicode_decimal:59839},{icon_id:"9229176",name:"Field-String",font_class:"Field-String",unicode:"e9c0",unicode_decimal:59840},{icon_id:"9229177",name:"Function",font_class:"Function",unicode:"e9c1",unicode_decimal:59841},{icon_id:"9229178",name:"Field-time",font_class:"Field-time",unicode:"e9c2",unicode_decimal:59842},{icon_id:"9229179",name:"GIF",font_class:"GIF",unicode:"e9c3",unicode_decimal:59843},{icon_id:"9229180",name:"Partition",font_class:"Partition",unicode:"e9c4",unicode_decimal:59844},{icon_id:"9229181",name:"index",font_class:"index",unicode:"e9c5",unicode_decimal:59845},{icon_id:"9229182",name:"Stored procedure",font_class:"Storedprocedure",unicode:"e9c6",unicode_decimal:59846},{icon_id:"9229184",name:"Field-Binary",font_class:"Field-Binary",unicode:"e9c7",unicode_decimal:59847},{icon_id:"9229185",name:"Console-SQL",font_class:"Console-SQL",unicode:"e9c8",unicode_decimal:59848},{icon_id:"9230689",name:"1:1",font_class:"icon-test",unicode:"e9c9",unicode_decimal:59849},{icon_id:"9230690",name:"aim",font_class:"aim",unicode:"e9ca",unicode_decimal:59850},{icon_id:"9230691",name:"compress",font_class:"compress",unicode:"e9cb",unicode_decimal:59851},{icon_id:"9230692",name:"expend",font_class:"expend",unicode:"e9cc",unicode_decimal:59852},{icon_id:"9230693",name:"folder-view",font_class:"folder-view",unicode:"e9cd",unicode_decimal:59853},{icon_id:"9230694",name:"file-GIF",font_class:"file-GIF",unicode:"e9ce",unicode_decimal:59854},{icon_id:"9230695",name:"group",font_class:"group",unicode:"e9cf",unicode_decimal:59855},{icon_id:"9230696",name:"send",font_class:"send",unicode:"e9d0",unicode_decimal:59856},{icon_id:"9230697",name:"Report",font_class:"Report",unicode:"e9d1",unicode_decimal:59857},{icon_id:"9230698",name:"View",font_class:"View",unicode:"e9d2",unicode_decimal:59858},{icon_id:"9230699",name:"shortcut",font_class:"shortcut",unicode:"e9d3",unicode_decimal:59859},{icon_id:"9230700",name:"ungroup",font_class:"ungroup",unicode:"e9d4",unicode_decimal:59860}]};const jr=function(){return{fontFamily:"graphin",glyphs:Fr.glyphs}},Pr=u().registerFontFamily(jr),Rr=(e,t,n,i)=>{const{x:o,y:r,dragNodeMass:a,isForce:c}=i||{},l=e.getModel().style||{badges:[]},{keyshape:s,icon:d}=l,u=[...l.badges],f=u.findIndex((({value:e})=>e===Pr.pushpin));if(u.splice(f,1),u.push({position:"LB",fontFamily:"graphin",type:"font",value:Pr.pushpin,size:[15,15],color:s.fill,fill:d.fill,stroke:s.fill}),t.updateItem(e,{pinned:!0,style:{badges:u}}),c){const i=e.get("model"),c=o&&r&&{x:o,y:r};n([Object.assign(Object.assign(Object.assign({},i),c),{pinned:!0,forceMass:a,layout:{force:Object.assign(Object.assign({},i.force),{mass:a})}})],t)}},{GIAComponent:Mr,deepClone:Gr}=c.extra,Lr={id:"ForceSimulation",name:"力导控制器",desc:"可以停止/重启力导布局",icon:"icon-play-circle",cover:"http://xxxx.jpg",category:"system-interaction",type:"GIAC"},{deepClone:Dr,GIAC_METAS:Br}=c.extra,zr=Dr(Br);zr.GIAC.properties.GIAC.properties.title.default=Lr.name,zr.GIAC.properties.GIAC.properties.icon.default=Lr.icon,zr.GIAC.properties.GIAC.properties.isShowTitle.default=!1,zr.GIAC.properties.GIAC.properties.tooltipPlacement.default="right";const qr={info:Lr,component:e=>{const t=Gr(e.GIAC),{graph:n,layoutInstance:i,layout:o,restartForceSimulation:r,stopForceSimulation:a}=(0,c.useContext)(),l="graphin-force"===o.type,{autoPin:s,dragNodeMass:d=1e10}=e;return p().useEffect((()=>{const e=()=>{l&&a()},t=e=>{l&&s&&e.item&&Rr(e.item,n,r,{dragNodeMass:d,x:e.x,y:e.y,isForce:l})};return n.on("node:dragstart",e),n.on("node:dragend",t),n.on("canvas:click",e),()=>{n.off("node:dragstart",e),n.off("node:dragend",t),n.off("canvas:click",e)}}),[n,s,l,i,r]),t.icon="icon-play-circle",t.disabled=!0,t.tooltip="该功能仅在力导布局下才可使用",l&&(t.disabled=!1,t.tooltip="重启力导布局，点击画布可以暂停力导"),p().createElement(Mr,{GIAC:t,onClick:()=>{const{instance:e={}}=i||{},{simulation:t}=e;l&&t&&r([])}})},registerMeta:()=>Object.assign({autoPin:{title:"固定拖拽后的节点",type:"boolean","x-component":"Switch","x-decorator":"FormItem",default:!0},dragNodeMass:{title:"固定的质量","x-component":"NumberPicker","x-decorator":"FormItem",type:"number",default:1e10}},zr)},{isPosition:Ur,isStyles:$r}=c.utils,Vr={id:"Initializer",name:"初始化器",desc:"必选！初始化查询图数据与图模型",cover:"http://xxxx.jpg",category:"system-interaction",type:"INITIALIZER",services:["GI_SERVICE_INTIAL_GRAPH","GI_SERVICE_SCHEMA"]},Hr={info:Vr,component:e=>{const t=(0,c.useContext)(),{serviceId:n,schemaServiceId:i,aggregate:o}=e,{services:r,updateContext:a,transform:l,largeGraphLimit:s}=t;return f.useEffect((()=>{let e=r.find((e=>e.id===n)),t=r.find((e=>e.id===i));e||(F.notification.error({message:"画布渲染失败",description:`缺少 ${n} 服务，请检查相关资产是否加载成功`}),e={service:()=>new Promise((e=>{e({nodes:[],edges:[]})}))}),t||(F.notification.error({message:"图模型获取失败",description:`缺少 ${n} 服务，请检查相关资产是否加载成功`}),t={service:()=>new Promise((e=>{e({nodes:[],edges:[]})}))}),a((e=>{e.isLoading=!0})),Promise.all([t.service(),e.service()]).then((([e,t={nodes:[],edges:[]}])=>{const{nodes:n}=t;n.length>s&&F.notification.warn({message:"加载的数据量过大",description:"建议聚合数据，默认切换到网格布局。您也可以在「资产中心」中加载「大图组件」启用 3D 渲染"}),a((i=>{var r,a;const d=Ur(n),u=$r(n);if(i.initialized=!0,i.layoutCache=!1,e&&(i.schemaData=e),e&&(0===(null===(r=i.config.nodes)||void 0===r?void 0:r.length)||0===(null===(a=i.config.edges)||void 0===a?void 0:a.length))){const t=c.utils.generatorStyleConfigBySchema(e);i.config.nodes=t.nodes,i.config.edges=t.edges}if(d&&(i.layout.type="preset"),u)return i.data=t,i.source=t,void(i.isLoading=!1);if(n.length>s){const e=l(t,!0);return i.largeGraphMode=!0,i.largeGraphData=e,i.source=e,i.data={nodes:[],edges:[]},void(i.isLoading=!1)}if(o){const e=l(t,!0);return i.rawData=Object.assign({},t),i.source=e,i.largeGraphMode=!1,i.largeGraphData=void 0,i.data=l(c.utils.aggregateEdges(t),!0),void(i.isLoading=!1)}const f=l(t,!0);i.rawData=Object.assign({},t),i.data=f,i.source=f,i.largeGraphMode=!1,i.largeGraphData=void 0,i.isLoading=!1}))}))}),[s,o]),null},registerMeta:e=>{const{services:t,engineId:n}=e,{options:i,defaultValue:o}=c.utils.getServiceOptionsByEngineId(t,Vr.services[0],n),{options:r,defaultValue:a}=c.utils.getServiceOptionsByEngineId(t,Vr.services[1],n);return{serviceId:{title:"初始化查询",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:i},default:o},schemaServiceId:{title:"查询图模型",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:r},default:a},GI_INITIALIZER:{title:"默认启动",type:"boolean","x-decorator":"FormItem","x-component":"Switch","x-component-props":{disabled:!0},default:!0},aggregate:{title:"汇总边",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1}}}},Wr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"};var Yr=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:Wr}))};Yr.displayName="FileExcelOutlined";const Kr=f.forwardRef(Yr);var Qr=s(84);const Zr=(e,t="未命名")=>{const n=new Qr.Parser({delimiter:",",withBOM:!0}).parse(e),i=document.createElement("a");i.href="data:text/csv;charset=utf-8,"+encodeURI(`${n}`),i.download=`${t}.csv`,i.click()},Jr=e=>{const{filterOptions:t,filterLogic:n}=e,{data:i}=(0,c.useContext)(),{nodes:o,edges:r}=i;if(!o)return null;const a=Object.values(t),l=f.createElement(F.List,{size:"small",bordered:!0,dataSource:a,renderItem:(e,t)=>{var n,i,o;const r=null===(n=e.elementType)||void 0===n?void 0:n.toUpperCase(),a="NODE"===r?"green":"blue";let c=e.selectValue;if("DATE"===e.analyzerType&&(c=null===(i=e.range)||void 0===i?void 0:i.join(" ~ ")),"HISTOGRAM"===e.analyzerType){const t=null===(o=e.range)||void 0===o?void 0:o.map((e=>e.join("~")));c=null==t?void 0:t.join(" 或 ")}return f.createElement(F.List.Item,{style:{maxWidth:"500px",overflow:"hidden",overflowWrap:"anywhere"}},f.createElement(F.Tag,{color:a},r," RULE "),e.prop," 为 ",c)}});return f.createElement("div",null,f.createElement(F.Row,{style:{padding:"12px"}},f.createElement(F.Col,{span:8},f.createElement("div",{className:"ant-statistic"},f.createElement("div",{className:"ant-statistic-title"},"数据操作"),f.createElement("div",{className:"ant-statistic-content"},f.createElement("span",{className:"ant-statistic-content-value"},f.createElement(F.Tooltip,{placement:"topLeft",title:"下载数据"},f.createElement(F.Button,{type:"text",icon:f.createElement(Kr,null),onClick:()=>{const e=i.nodes.map((e=>e.data)),t=i.edges.map((e=>e.data));e.length>0&&Zr(e,"nodes"),t.length>0&&Zr(t,"edges")}})),f.createElement(F.Popover,{content:l,title:`当前筛选逻辑：${n.toUpperCase()}，筛选条件如下：`,trigger:"hover"},f.createElement(F.Button,{type:"text",icon:f.createElement(ho,null),onClick:()=>{}})))))),f.createElement(F.Col,{span:8},f.createElement(F.Statistic,{title:"当前节点",value:o.length})),f.createElement(F.Col,{span:8},f.createElement(F.Statistic,{title:"当前边",value:r.length}))))},{isStyles:Xr}=c.utils,ea=e=>{const{isFilterIsolatedNodes:t,limit:n,filterLogic:i}=e,[o,r]=(0,f.useState)({}),{updateContext:a,transform:l,schemaData:s,largeGraphData:d}=(0,c.useContext)(),u=s,[m,h]=p().useState({data:{nodes:[],edges:[]}}),g=(0,f.useMemo)((()=>u.nodes.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{})),[u]),_=(0,f.useMemo)((()=>u.edges.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{})),[u]),y=(e,t)=>{r((n=>Object.assign(Object.assign({},n),{[e]:t})))},b=e=>{delete o[e],r(Object.assign({},o))};return(0,f.useEffect)((()=>{if(!d)return;let e,r=d;if("and"===i)Object.values(o).map((e=>{r=Vt(r,e,t)}));else{const e={nodes:[],edges:[]};Object.values(o).map((n=>{const{isFilterReady:i,analyzerType:o}=n;let r;r=i&&"NONE"!==o?Vt(d,n,t):{nodes:[],edges:[]},e.nodes=[...e.nodes,...r.nodes],e.edges=[...e.edges,...r.edges]})),r={nodes:c.utils.uniqueElementsBy(e.nodes,((e,t)=>e.id===t.id)),edges:c.utils.uniqueElementsBy(e.edges,((e,t)=>e.id&&t.id?e.id===t.id:`${e.source}_${e.target}_${e.edgeType}`==`${t.source}_${t.target}_${t.edgeType}`))}}e=r,r.nodes.length>n&&(e={nodes:[],edges:[]}),a((t=>{d&&Xr(d.nodes)?(t.data=e,t.source=e):(t.data=l(e),t.source=l(e)),t.layoutCache=!0}))}),[o]),p().createElement("div",{className:"gi-filter-panel"},p().createElement(Jr,{filterOptions:o,filterLogic:i}),p().createElement(F.Button,{type:"primary",style:{width:"100%",borderRadius:"4px"},onClick:()=>{const e=ft(),t={id:e,isFilterReady:!1};r((n=>Object.assign(Object.assign({},n),{[e]:t})))},icon:p().createElement(ut,null)},"增加筛选器"),p().createElement("div",{className:"gi-filter-panel-criteria-container"},Object.values(o).map((e=>p().createElement("div",null,p().createElement(Kt,{source:d,filterCriteria:e,nodeProperties:g,edgeProperties:_,updateFilterCriteria:y,removeFilterCriteria:b}))))))},ta={id:"Overview",name:"大图概览",desc:"大图概览",icon:"icon-dashboard",cover:"http://xxxx.jpg",category:"system-interaction",type:"GIAC_CONTENT"},{deepClone:na,GIAC_CONTENT_METAS:ia}=c.extra,oa=na(ia);oa.GIAC_CONTENT.properties.GIAC_CONTENT.properties.title.default=ta.name,oa.GIAC_CONTENT.properties.GIAC_CONTENT.properties.icon.default=ta.icon,oa.GIAC_CONTENT.properties.GIAC_CONTENT.properties.containerWidth.default="400px";const ra={info:ta,component:e=>{const{limit:t,filterLogic:n}=e,i=(0,c.useContext)(),[o,r]=f.useState({visible:!1}),{source:a,updateContext:l,largeGraphData:s}=i,{visible:d}=o;f.useEffect((()=>{l((e=>{e.largeGraphLimit=t}))}),[t]);const u=`为了画布渲染性能 与 用户高效分析，对超过 ${t} 节点做了展示限制展示，可在属性面板中自定义。您可以通过下方的筛选面板，根据统计分析结果选择展示`,p=s||a;return f.createElement("div",null,f.createElement(F.Row,{style:{padding:"12px"}},f.createElement(F.Col,{span:8},f.createElement(F.Statistic,{title:"展示限制",value:t})),f.createElement(F.Col,{span:8},f.createElement(F.Statistic,{title:"载入节点数",value:p.nodes.length})),f.createElement(F.Col,{span:8},f.createElement(F.Statistic,{title:"载入边数",value:p.edges.length}))),f.createElement(F.Alert,{message:u,type:"info"}),s&&f.createElement(ea,{isFilterIsolatedNodes:!0,highlightMode:!0,limit:t,filterLogic:n}))},registerMeta:()=>Object.assign({limit:{title:"限制展示数量（节点）",type:"string","x-decorator":"FormItem","x-component":"NumberPicker",default:600},filterLogic:{title:"筛选逻辑",type:"string","x-decorator":"FormItem","x-component":"Select",enum:[{value:"and",label:"and"},{value:"or",label:"or"}],default:"and"}},oa)},aa={info:{id:"PinNodeWithMenu",name:"固定节点(MENU)",category:"elements-interaction",desc:"固定节点，常集成在右键菜单中",cover:"http://xxxx.jpg",icon:"icon-pushpin",type:"GIAC_MENU"},component:e=>{var t;const{contextmenu:n}=e,{graph:i,layout:o,restartForceSimulation:r}=(0,c.useContext)(),a=n.item;if(!a||a.destroyed||"node"!==(null===(t=a.getType)||void 0===t?void 0:t.call(a)))return null;const l=a.getModel(),{pinned:s}=l,d="graphin-force"===o.type;return p().createElement(F.Menu.Item,{key:"lock-node",eventKey:"lock-node",onClick:()=>{n.onClose(),s?((e,t,n,i)=>{const o=e.getModel(),r=[...(o.style||{badges:[]}).badges],a=r.findIndex((({value:e})=>e===Pr.pushpin));r.splice(a,1),t.updateItem(o.id,{layout:Object.assign(Object.assign({},o.layout),{force:{mass:null}}),pinned:!1,style:{badges:r}}),i&&n([o],t)})(a,i,r,d):Rr(a,i,r,{dragNodeMass:1e5,isForce:d})}},s?"解除固定":"固定节点")},registerMeta:()=>({})},ca={id:"SankeyAnalysis",name:"桑基图分析",desc:"桑基图分析",icon:"icon-sankey",cover:"http://xxxx.jpg",category:"data-analysis",type:"GIAC_CONTENT"},{deepClone:la,GIAC_CONTENT_METAS:sa}=c.extra,da=la(sa);da.GIAC_CONTENT.properties.GIAC_CONTENT.properties.title.default=ca.name,da.GIAC_CONTENT.properties.GIAC_CONTENT.properties.icon.default=ca.icon,da.GIAC_CONTENT.properties.GIAC_CONTENT.properties.containerWidth.default="400px";const ua={info:ca,component:e=>{const{weightField:t}=e,{data:n}=(0,c.useContext)(),i=f.useRef(null);return f.useEffect((()=>{const e=n.edges.map((e=>e.data)).filter((e=>"number"==typeof e[t]));if(!i.current)return;const o=new Pt.Sankey(i.current,{data:e,sourceField:"source",targetField:"target",weightField:t,nodeWidthRatio:.01,nodePaddingRatio:.03,nodeSort:(e,n)=>n[t]-e[t]});return o.render(),()=>{o.destroy()}}),[t,n]),f.createElement("div",null,f.createElement("div",{ref:i}))},registerMeta:({schemaData:e})=>{const t=e.edges.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{}),n=Object.keys(t).filter((e=>"number"===t[e])).map((e=>({value:e,label:e})));return Object.assign({weightField:{title:"权重映射",type:"string","x-decorator":"FormItem","x-component":"Select",enum:n,default:""}},da)}},fa={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};var pa=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:fa}))};pa.displayName="CaretDownOutlined";const ma=f.forwardRef(pa),ha={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var ga=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:ha}))};ga.displayName="QuestionCircleOutlined";const _a=f.forwardRef(ga),ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var ba=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:ya}))};ba.displayName="LeftOutlined";const va=f.forwardRef(ba),xa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var wa=function(e,t){return f.createElement(st,ne(ne({},e),{},{ref:t,icon:xa}))};wa.displayName="RightOutlined";const Ea=f.forwardRef(wa),Ia=e=>{const{placement:t,offset:n,width:i,height:o,defaultVisible:r}=e,[a,l]=f.useState({visible:"boolean"!=typeof r||r}),s=c.utils.getPositionStyles(t,n),d=Object.assign(Object.assign({},s),{top:"0px",width:i,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.1)",transition:"all 0.1s ease"}),u=a.visible?d:Object.assign(Object.assign({},d),{left:"0px",width:"0px"}),{children:p}=e;return f.createElement("div",{style:u,className:"gi-side-select-tabs"},f.createElement("div",{style:{position:"absolute",left:"100%",top:"50%",height:"80px",width:"38px",borderStyle:"solid",borderWidth:"16px",borderColor:"transparent transparent transparent var(--background-color-2)"}}),f.createElement("div",{onClick:()=>{l((e=>({visible:!e.visible})))},style:{position:"absolute",left:"calc(100% - 1px)",top:"50%",height:"80px",width:"38px",cursor:"pointer",borderStyle:"solid",borderWidth:"16px",borderColor:"transparent transparent transparent var(--background-color-2)"}},f.createElement("span",{style:{position:"absolute",left:"-13px",top:"14px",fontSize:10}},a.visible?f.createElement(va,null):f.createElement(Ea,null))),f.createElement("div",{className:"gi-side-select-tabs-content"},p))},{deepClone:Ca,GI_CONTAINER_METAS:Sa}=c.extra,Oa=Ca(Sa),{width:Aa,offset:ka,placement:Ta}=Oa;Aa.default="350px",ka.default=[0,2];const Na={info:{id:"SideSelectTabs",name:"下拉导航栏",desc:"侧边下拉导航栏，可集成分析组件",icon:"icon-sidebar",cover:"http://xxxx.jpg",category:"container-components",type:"GICC"},component:e=>{const{components:t,assets:n,placement:i,offset:o,width:r,height:a,defaultVisible:c,outSideFromCanvas:l,GISDK_ID:s}=e,d=f.useMemo((()=>t.sort(((e,t)=>{var n,i;return((null===(n=e.props)||void 0===n?void 0:n.GI_CONTAINER_INDEX)||0)-((null===(i=t.props)||void 0===i?void 0:i.GI_CONTAINER_INDEX)||0)})).filter((e=>e&&e.props&&e.props.GIAC_CONTENT))),[t]),u=f.useMemo((()=>d.map((e=>{const t=n[e.id],i=null==t?void 0:t.info;if(i)return Object.assign(Object.assign({},i),{label:i.name,value:i.id,Cp:t.component,cpProps:e.props})}))),[d]),[p,m]=hi({currentCp:u[0]||{}});if(f.useEffect((()=>{u.length>0&&m((e=>{e.currentCp=u[0]}))}),[u.length]),!u.length)return null;const{currentCp:h}=p,{cpProps:g,Cp:_}=h;if(!_)return null;const y=f.createElement("div",{className:"content"},f.createElement("div",{className:"content-title"},f.createElement(F.Select,{options:u,onChange:(e,t)=>{m((e=>{e.currentCp=t}))},defaultValue:u[0].value,bordered:!1,style:{width:200},suffixIcon:f.createElement(ma,null)}),f.createElement(F.Tooltip,{title:h.desc,placement:"right"},f.createElement(_a,null))),f.createElement("div",{className:"content-detail"},f.createElement(_,Object.assign({},g))));return l?gn().createPortal(f.createElement(Ia,{width:r,height:a,defaultVisible:c,placement:i,offset:o},y),document.getElementById(`${s}-container`)):f.createElement(Ia,{width:r,height:a,defaultVisible:c,placement:i,offset:o},y)},registerMeta:e=>{const{GIAC_CONTENT_ITEMS:t=[]}=e;return{GI_CONTAINER:{title:"集成组件",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"},enum:t,default:[]},width:Aa,offset:ka,placement:{title:"放置方位",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{value:"LB",label:"左下 / left"}]},default:"LB"}}}},{GIAComponent:Fa}=c.extra,ja={id:"ZoomIn",name:"放大",desc:"点击可放大画布",cover:"http://xxxx.jpg",icon:"icon-zoomin",category:"canvas-interaction",type:"GIAC"},{deepClone:Pa,GIAC_METAS:Ra}=c.extra,Ma=Pa(Ra);Ma.GIAC.properties.GIAC.properties.title.default=ja.name,Ma.GIAC.properties.GIAC.properties.icon.default=ja.icon,Ma.GIAC.properties.GIAC.properties.isShowTitle.default=!1,Ma.GIAC.properties.GIAC.properties.tooltipPlacement.default="right";const Ga={info:ja,component:e=>{const{GIAC:t}=e,{apis:n}=f.useContext(l.GraphinContext);return f.createElement(Fa,{GIAC:t,onClick:()=>n.handleZoomOut()})},registerMeta:()=>Ma},{GIAComponent:La}=c.extra,Da={id:"ZoomOut",name:"缩小",desc:"点击可缩小画布",icon:"icon-zoomout",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"GIAC"},{deepClone:Ba,GIAC_METAS:za}=c.extra,qa=Ba(za);qa.GIAC.properties.GIAC.properties.icon.default=Da.icon,qa.GIAC.properties.GIAC.properties.title.default=Da.name,qa.GIAC.properties.GIAC.properties.isShowTitle.default=!1,qa.GIAC.properties.GIAC.properties.tooltipPlacement.default="right";const Ua={info:Da,component:e=>{const{GIAC:t}=e,{apis:n}=f.useContext(l.GraphinContext);return f.createElement(La,{GIAC:t,onClick:()=>n.handleZoomIn()})},registerMeta:()=>qa},$a={info:{id:"ZoomStatus",name:"缩放状态",desc:"缩放时到某个阈值添加状态",cover:"http://xxxx.jpg",category:"canvas-interaction",type:"AUTO"},component:e=>{const{minZoom:t=.6,statusName:n="minZoom"}=e,i=(0,c.useContext)().graph;return f.useEffect((()=>{let e;const o=()=>{e&&clearTimeout(e),e=setTimeout((()=>{(()=>{const e=i.getZoom()<=t;i.getNodes().forEach((t=>{i.setItemState(t,n,e)})),i.getEdges().forEach((t=>{i.setItemState(t,n,e)}))})(),e=0}),100)};return i.on("wheelzoom",o),()=>{i.off("wheelzoom",o),e&&clearTimeout(e)}}),[i,t,n]),null},registerMeta:()=>({minZoom:{title:"最小缩放",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:.6},statusName:{title:"状态名",type:"string","x-decorator":"FormItem","x-component":"Input",default:"minZoom"}})};var Va=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function c(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((i=i.apply(e,t||[])).next())}))};const{getServerEngineContext:Ha}=c.utils,Wa={name:"初始化查询",method:"GET",req:"",res:"\n  export interface GIGraphData {\n    nodes: {\n      // 节点ID\n      id: string;\n      // 节点类型的枚举值。Property Graph 也称之为 node.label\n      nodeType: string;\n      // 业务数据,注意需要打平,暂不支持嵌套\n      data: {};\n      // 业务数据（data）中的哪个字段，用来映射节点类型\n      nodeTypeKeyFromProperties?: string;\n    }[];\n    edges: {\n      // 边ID\n      id: string;\n      // 边关联的 source 节点ID\n      source: string;\n      // 边关联的 target 节点ID\n      target: string;\n      // 边类型的枚举值。Property Graph 也称之为 edge.label\n      edgeType: string;\n      // 业务数据,注意需要打平,暂不支持嵌套\n      data: {};\n      // 业务数据（data）中的哪个字段，用来映射边类型\n      edgeTypeKeyFromProperties?: string;\n    }[];\n  }\n  ",service:()=>Va(void 0,void 0,void 0,(function*(){Ha();try{const{LOCAL_DATA_FOR_GI_ENGINE:e}=window;return e.data}catch(e){return{nodes:[],edges:[]}}}))},Ya={name:"查询图模型",method:"GET",req:"",res:"\n export interface GraphSchemaData {\n  nodes: {\n    /** 节点类型 */\n    nodeType: string;\n    /** 节点类型，通过业务数据（data）中的哪个字段映射的 */\n    nodeTypeKeyFromProperties: string;\n    /** 业务数据（data）中的字段类型，目前不支持嵌套 */\n    properties: {\n      [key: string]: 'string' | 'number' | 'date';\n    };\n  }[];\n  edges: {\n    /** 边类型 */\n    edgeType: string;\n    /** 边类型，通过业务数据（data）中的哪个字段映射的 */\n    edgeTypeKeyFromProperties: string;\n    /** 边上开端节点类型 */\n    sourceNodeType?: string;\n    /** 边上目标节点类型 */\n    targetNodeType?: string;\n    /** 业务数据（data）中的字段类型，目前不支持嵌套 */\n    properties: {\n      [key: string]: 'string' | 'number' | 'date';\n    };\n  }[];\n  /** Schema 额外配置信息 */\n  meta?: {\n    /** 默认的标签映射字段 */\n    defaultLabelField: string;\n  };\n}\n",service:()=>Va(void 0,void 0,void 0,(function*(){try{const{LOCAL_DATA_FOR_GI_ENGINE:e}=window;return e.schemaData}catch(e){return{nodes:[],edges:[]}}}))},Ka={name:"邻居查询",method:"POST",req:"\n  export interface ReqNeighborsQuery {\n    //扩散的节点，是个节点ID数组\n    ids: string[];\n    //扩散的节点的全部信息\n    nodes: any[];\n    //扩散的度数\n    sep: number;\n  }  \n  ",res:"\n  export interface GIGraphData {\n    nodes: {\n      // 节点ID\n      id: string;\n      // 节点类型的枚举值。Property Graph 也称之为 node.label\n      nodeType: string;\n      // 业务数据,注意需要打平,暂不支持嵌套\n      data: {};\n      // 业务数据（data）中的哪个字段，用来映射节点类型\n      nodeTypeKeyFromProperties?: string;\n    }[];\n    edges: {\n      // 边ID\n      id: string;\n      // 边关联的 source 节点ID\n      source: string;\n      // 边关联的 target 节点ID\n      target: string;\n      // 边类型的枚举值。Property Graph 也称之为 edge.label\n      edgeType: string;\n      // 业务数据,注意需要打平,暂不支持嵌套\n      data: {};\n      // 业务数据（data）中的哪个字段，用来映射边类型\n      edgeTypeKeyFromProperties?: string;\n    }[];\n  }\n  ",service:e=>{const{ids:t,nodes:n}=e,i=n.map((e=>{const{id:t,nodeType:n}=e;return{nodes:[{id:t,nodeType:n},{id:`${t}-1`,nodeType:n},{id:`${t}-2`,nodeType:n},{id:`${t}-3`,nodeType:n}],edges:[{source:t,target:`${t}-1`},{source:t,target:`${t}-2`},{source:t,target:`${t}-3`}]}})).reduce(((e,t)=>({nodes:[].concat(e.nodes,t.nodes),edges:[].concat(e.edges,t.edges)})),{nodes:[],edges:[]});return new Promise((e=>e((e=>{const{nodes:t,edges:n}=e;return{nodes:t.map((e=>({id:e.id,nodeType:e.nodeType,data:e}))),edges:n.map(((e,t)=>({source:e.source,target:e.target,id:`${e.source}-${e.target}-${t}`,data:e,edgeType:"UNKOWN"})))}})(i))))}},Qa={name:"查询属性详情",req:"\n  export interface ReqPropertiesPanel {\n    /** 节点 或者 边的详细信息 */\n    data: any;\n  }\n  ",res:"\n  export interface ResPropertiesPanel {\n    /** 节点 或 边的详细信息 */\n    [key: string]: any;\n  }\n  ",service:e=>{const{data:t}=e;return new Promise((e=>e(t)))}},Za={name:"保存分享",req:"\n  export interface SaveReqParams {\n    /** 保存的名称 */\n    name: string;\n    /** 保存的描述 */\n    description: string;\n    /** 保存的数据，带布局信息 **/\n    data: GraphinData;\n    /** GISDK的配置，可以还原画布状态 */\n    config: GIConfig;\n    /** 图的 Schema 结构 */\n    schemaData: GraphSchemaData;\n    /** 画布的截图 */\n    cover: string;\n    /** 保存的时间 */\n    gmtCreate: Date;\n  }\n  ",res:"\n  export interface SaveResParams {\n    /** 保存是否成功 */\n    success: boolean;\n    /** 保存跳转的URL地址 **/\n    data: string;\n    /** 保存后，生成的UUID */\n    shareId: string;\n  }\n  ",service:(e,t)=>{const n=`rp_${Math.random().toString(36).substr(2)}`,i=window.location.origin+"/#/share/"+n,{GI_REPORT_DB:o}=window;return o.setItem(n,{id:n,type:"save",params:JSON.stringify(e)}),new Promise((e=>e({success:!0,data:i,shareId:n})))}},Ja={id:"GI",type:"file",name:"Files",desc:"G6VP 提供的文件数据服务，数据存储在浏览器IndexDB，目前已经支持10个接口服务",cover:"https://gw.alipayobjects.com/mdn/rms_0d75e8/afts/img/A*3YEZS6qSRgAAAAAAAAAAAAAAARQnAQ",services:Object.assign(Object.assign(Object.assign(Object.assign({},i),n),t),o)},Xa={donut:[],label:["id"],donutColors:"",size:void 0},ec={info:{id:"DonutNode",name:"甜甜圈",type:"NODE",category:"node",icon:"icon-piechart",desc:"甜甜圈组件，用于数据有分布的情况",cover:"https://gw.alipayobjects.com/mdn/rms_0d75e8/afts/img/A*dqQ0RrldWTAAAAAAAAAAAAAAARQnAQ"},registerShape:e=>{},registerMeta:e=>{try{const{keys:t}=e,n=t.filter((e=>"number"===e.type)).map((e=>e.id)),i=n.map((e=>({label:e,value:e})));return{type:"object",properties:{donut:{title:"环展示",type:"array",enum:i,default:[],"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"}},donutColors:{title:"环色彩",type:"string","x-decorator":"FormItem","x-component":"Input",default:""},size:{title:"环大小",type:"string","x-decorator":"FormItem","x-component":"NumberPicker",default:void 0},label:{title:"文本",type:"array",enum:t.map((e=>({label:`${e.id} (${e.type})`,value:e.id}))),default:[],"x-decorator":"FormItem","x-component":"Select","x-component-props":{mode:"multiple"}}}}}catch(e){return{}}},registerTransform:(e,t)=>{try{const n=Object.assign({},Xa,t.props),{donut:i,label:o,donutColors:r,size:a}=n;let c=["#61DDAA","#F08BB4","#65789B"];"string"==typeof r&&(c=r.split(",")||["#61DDAA","#F08BB4","#65789B"]);const l=i.reduce(((e,t,n)=>Object.assign(Object.assign({},e),{[t]:c[n]})),{}),s=e.map((e=>{const{id:t}=e,n=e.data||e,r=i.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:n[t]})),{}),c=i.reduce(((e,t)=>e+n[t]),16),s=a||5*Math.sqrt(c);return{id:t,data:n,type:"donut",label:n[o],donutAttrs:r,donutColorMap:l,size:s,style:{lineWidth:0},labelCfg:{position:"bottom"}}}));return s}catch(t){return console.error("parse transform error:",t),e}}};var tc=s(942),nc=s.n(tc);const ic={primaryEdgeColor:"#ddd",edgeSize:1,mode:"light"},oc=l.Utils.getEdgeStyleByTheme(ic),{style:rc}=oc,{keyshape:ac,label:cc}=rc,lc={size:ic.edgeSize,color:ic.primaryEdgeColor,label:[],advanced:{keyshape:{customPoly:!1,poly:0,lineDash:[0,0],opacity:ac.strokeOpacity,hasArrow:!0},label:{visible:!0,fontSize:cc.fontSize,offset:[0,0],fill:cc.fill,backgroundEnable:!0,backgroundFill:"#fff",backgroundStroke:"#fff",backgroundOpaciy:1,opacity:1},animate:{visible:!1,type:"circle-running",dotColor:"red",repeat:!0,duration:3e3}},status:{minZoom:{label:{opacity:0},"label-background":{opacity:0}}}},{advanced:sc,color:dc,size:uc}=lc,{keyshape:fc,label:pc,animate:mc}=sc,hc={info:{id:"SimpleEdge",category:"edge",name:"官方边",desc:"SimpleEdge",cover:"http://xxxx.jpg",type:"EDGE"},registerShape:e=>{},registerMeta:e=>{const{keys:t,schemaData:n}=e;return{type:"object",properties:{color:{title:"颜色",type:"string","x-decorator":"FormItem","x-component":"ColorInput",default:dc},size:{title:"大小",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:uc},label:{title:"文本",type:"string","x-decorator":"FormItem","x-component":"GroupSelect","x-component-props":{mode:"multiple",schemaData:n.edges}},advancedPanel:{type:"void","x-decorator":"FormItem","x-component":"FormCollapse","x-component-props":{className:"gi-assets-elements-advance-panel",ghost:!0},properties:{advanced:{type:"object","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"高级配置",key:"advanced-panel"},properties:{panel:{type:"void","x-decorator":"FormItem","x-component":"FormCollapse","x-component-props":{className:"gi-assets-elements-panel",style:{},ghost:!0},properties:{keyshape:{type:"object","x-decorator":"FormItem","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"形状",key:"icon-panel"},properties:{hasArrow:{type:"boolean",title:"箭头","x-decorator":"FormItem","x-component":"Switch",default:!0},customPoly:{type:"boolean",title:"定义弧度",default:fc.customPoly,"x-decorator":"FormItem","x-component":"Switch","x-reactions":[{target:"advanced.keyshape.poly",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.icon.fill",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.icon.size",fulfill:{state:{visible:"{{$self.value}}"}}}]},poly:{title:"弧度",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:fc.poly},lineDash:{title:"虚线",type:"array","x-decorator":"FormItem","x-component":"Offset","x-component-props":{min:-100,max:100},default:fc.lineDash},opacity:{type:"string",title:"透明度","x-decorator":"FormItem","x-component":"NumberPicker",default:fc.opacity}}},label:{type:"object","x-decorator":"FormItem","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"标签",key:"keyshape-panel"},properties:{visible:{type:"boolean",title:"显隐","x-decorator":"FormItem","x-component":"Switch",default:pc.visible},fontSize:{type:"string",title:"大小","x-decorator":"FormItem","x-component":"NumberPicker",default:pc.fontSize},offset:{type:"string",title:"偏移","x-decorator":"FormItem","x-component":"Offset","x-component-props":{min:-100,max:100},default:pc.offset},fill:{type:"string",title:"颜色","x-decorator":"FormItem","x-component":"ColorInput",default:pc.fill},backgroundEnable:{type:"string",title:"背景","x-decorator":"FormItem","x-component":"Switch",default:pc.backgroundEnable},backgroundFill:{type:"string",title:"背景色","x-decorator":"FormItem","x-component":"ColorInput",default:pc.backgroundFill},backgroundStroke:{type:"string",title:"背景描边","x-decorator":"FormItem","x-component":"ColorInput",default:pc.backgroundStroke}}},animate:{type:"object","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"动画",key:"aniamte-panel"},properties:{visible:{type:"boolean",title:"开关","x-decorator":"FormItem","x-component":"Switch",default:mc.visible,"x-reactions":[{target:"advanced.animate.type",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.animate.dotColor",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.animate.repeat",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.animate.duration",fulfill:{state:{visible:"{{$self.value}}"}}}]},type:{title:"类型",type:"string","x-decorator":"FormItem","x-component":"Select",enum:[{label:"圆球",value:"circle-running"},{label:"虚线",value:"line-dash"},{label:"渐长",value:"line-growth"}],default:mc.type},dotColor:{type:"string",title:"圆球颜色","x-decorator":"FormItem","x-component":"ColorInput",default:mc.dotColor},repeat:{title:"重复",type:"string","x-decorator":"FormItem","x-component":"Switch",default:mc.repeat},duration:{title:"时长",type:"string","x-decorator":"FormItem","x-component":"NumberPicker",default:mc.duration}}}}}}}}}}}},registerTransform:(e,t,n)=>{try{const{color:i,size:o,label:r,advanced:a,status:c}=nc()(lc,t.props),{keyshape:l}=a,s=e.map(((e,t)=>{var s,d;const{source:u,target:f}=e,p=e.id||`${u}-${f}-${t}`,m=e.data||e.properties||e,h=e.source===e.target,g=e.isMultiple;let _={};const{customPoly:y,hasArrow:b}=l;b||(_={endArrow:{path:""}});const v={};h&&(v.type="loop",v.loop=Object.assign({},null===(s=e.style)||void 0===s?void 0:s.keyshape.loop)),g&&(v.type="poly",v.poly=Object.assign({},null===(d=e.style)||void 0===d?void 0:d.keyshape.poly)),g||h||(v.type="poly",v.poly={distance:a.keyshape.poly}),y&&(v.poly={distance:a.keyshape.poly});const x=r.map((t=>{const n=t.split("^^"),i=t.split(".");let[o,r,a]=n;if(1===n.length&&n[0].split(".").length>1&&(o=i[0],r=i[1],a=i[2]),e.edgeType||"UNKNOW"===o){if(a)return m[r][a];const{aggregate:e}=m;if(e){const t=e.reduce(((e,t)=>{const n=t.data[r];return"number"==typeof n?e+=n:""}),0);return""===t?m.aggregateCount:`(${e.length} 条)：${t.toFixed(2)}`}return m[r]}return m[o]})).filter((e=>e)).join("\n"),w={value:x,offset:a.label.offset,fontSize:a.label.fontSize,fill:a.label.fill,opacity:a.label.opacity};a.label.visible||(w.value=""),a.label.backgroundEnable&&(w.background={fill:a.label.backgroundFill,stroke:a.label.backgroundStroke,opacity:a.label.backgroundOpaciy});let E=e&&e.style||{};n&&(E={});const I=nc()({keyshape:Object.assign(Object.assign(Object.assign({},v),{lineWidth:o,stroke:i,opacity:l.opacity,lineDash:l.lineDash,lineAppendWidth:10}),_),label:w,animate:{visible:a.animate.visible,type:a.animate.type,color:a.animate.dotColor,repeat:a.animate.repeat,duration:a.animate.duration},status:Object.assign({},c)},E);return Object.assign(Object.assign({},e),{source:u,target:f,id:p,data:m,type:"graphin-line",edgeType:e.edgeType||"UNKOWN",style:I})}));return s}catch(t){return console.error("parse transform error:",t),e}}},gc=u().registerFontFamily(jr),_c={primaryColor:"#FF6A00",nodeSize:26,mode:"light"},yc=l.Utils.getNodeStyleByTheme(_c),{style:bc,status:vc}=yc,{keyshape:xc,halo:wc,label:Ec,icon:Ic}=bc,Cc={size:_c.nodeSize,color:_c.primaryColor,label:[],advanced:{keyshape:Object.assign(Object.assign({},xc),{fillOpacity:.8}),label:Object.assign(Object.assign({},Ec),{opacity:1,visible:!0}),icon:Object.assign(Object.assign({},Ic),{fill:"#fff",type:"font",value:"",opacity:1,visible:!1}),badge:{visible:!1,position:"RT",type:"text",value:"",size:Math.round(xc.size/3),fill:"#fff",color:"#fff",stroke:xc.stroke,isMapping:!1},halo:Object.assign(Object.assign({},wc),{visible:!1,lineWidth:0})},status:{minZoom:{label:{opacity:0},icon:{opacity:0},badges:{opacity:0}}}},{icon:Sc,keyshape:Oc,label:Ac,badge:kc}=Cc.advanced,Tc={info:{id:"SimpleNode",category:"node",type:"NODE",name:"官方节点",icon:"icon-smile",desc:"官方节点",cover:"https://gw.alipayobjects.com/mdn/rms_0d75e8/afts/img/A*myb8SrnSy0cAAAAAAAAAAAAAARQnAQ"},defaultProps:Cc,registerShape:e=>{},registerMeta:e=>{const{schemaData:t}=e;return{type:"object",properties:{size:{title:"大小",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:Cc.size},color:{title:"颜色",type:"string","x-decorator":"FormItem","x-component":"ColorInput",default:Cc.color},label:{title:"文本",type:"string","x-decorator":"FormItem","x-component":"GroupSelect","x-component-props":{mode:"multiple",schemaData:t.nodes}},advancedPanel:{type:"void","x-decorator":"FormItem","x-component":"FormCollapse","x-component-props":{className:"gi-assets-elements-advance-panel",ghost:!0},properties:{advanced:{type:"object","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"高级配置",key:"advanced-panel"},properties:{panel:{type:"void","x-decorator":"FormItem","x-component":"FormCollapse","x-component-props":{className:"gi-assets-elements-panel",style:{},ghost:!0},properties:{icon:{type:"object","x-decorator":"FormItem","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"图标",key:"icon-panel"},properties:{visible:{type:"boolean",title:"显隐","x-decorator":"FormItem","x-component":"Switch","x-reactions":[{target:"advanced.icon.type",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.icon.value",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.icon.fill",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.icon.size",fulfill:{state:{visible:"{{$self.value}}"}}}]},type:{type:"string",title:"类型","x-decorator":"FormItem","x-component":"Select",enum:[{label:"文本",value:"text"},{label:"字体图标",value:"font"}],default:Sc.type},value:{type:"string",title:"图标","x-decorator":"FormItem","x-component":"IconPicker",default:Sc.value},fill:{type:"string",title:"颜色","x-decorator":"FormItem","x-component":"ColorInput",default:Sc.fill}}},keyshape:{type:"object","x-decorator":"FormItem","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"节点",key:"keyshape-panel"},properties:{fillOpacity:{type:"string",title:"透明度","x-decorator":"FormItem","x-component":"NumberPicker",max:1,min:0,default:Oc.fillOpacity}}},label:{type:"object","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"文本",key:"label-panel"},properties:{visible:{type:"boolean",title:"开关","x-decorator":"FormItem","x-component":"Switch",default:Ac.visible,"x-reactions":[{target:"advanced.label.fill",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.label.fontSize",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.label.position",fulfill:{state:{visible:"{{$self.value}}"}}}]},fill:{title:"颜色",type:"string","x-decorator":"FormItem","x-component":"ColorInput",default:Ac.fill},fontSize:{type:"string",title:"大小","x-decorator":"FormItem","x-component":"NumberPicker",max:100,min:12,default:Ac.fontSize},position:{title:"位置",type:"string","x-decorator":"FormItem","x-component":"Select",enum:[{label:"顶部",value:"top"},{label:"底部",value:"bottom"},{label:"左侧",value:"left"},{label:"右侧",value:"right"},{label:"中间",value:"center"}],default:Ac.position}}},badge:{type:"object","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"徽标",key:"badge-panel"},properties:{visible:{type:"boolean",title:"显隐","x-decorator":"FormItem","x-component":"Switch",default:kc.visible,"x-reactions":[{target:"advanced.badge.type",fulfill:{state:{visible:"{{$self.value}}"}}},{target:"advanced.badge.value",fulfill:{state:{visible:"{{$self.value}}"}}}]},type:{title:"类型",type:"string","x-decorator":"FormItem","x-component":"Select",enum:[{label:"字段映射",value:"mapping"},{label:"文本",value:"text"},{label:"字体图标",value:"font"}],default:kc.type},value:{type:"string",title:"文本","x-decorator":"FormItem","x-component":"Input",default:kc.value}}}}}}}}}}}},registerTransform:(e,t,n)=>{try{const{color:i,size:o,label:r,advanced:a,status:c}=nc()(Cc,t.props||{});let l=!1;Object.is(a)||(l=!0);const{halo:s}=l?Cc.advanced:a,d=e.map((e=>{const t=e.data||e.properties||e,l=Object.assign(Object.assign({},a.keyshape),{fill:i,stroke:i,size:o});a.keyshape=l;const d=((e,t)=>t.map((t=>{const[n,i]=t.split("^^"),[o,r]=t.split(".");return e[i||r||"id"]})).filter((e=>e)).join("\n"))(t,r),u=((e,t)=>{const{keyshape:n}=e;if(!e.icon||!n)return{};const i=Object.assign({},e.icon),{value:o}=i;return i.visible?"image"===i.type?{fill:"transparent",size:[n.size,n.size],clip:{r:n.size/2},value:o}:"font"===i.type?Object.assign(Object.assign({},i),{size:n.size/2,type:"font",fontFamily:"graphin",value:gc[o]||"",fill:i.fill||n.fill}):"text"===i.type?Object.assign(Object.assign({},i),{fontSize:n.size/4,fill:"#fff",value:o}):Object.assign({},i):Object.assign(Object.assign({},i),{visible:!1,value:""})})(a),f=((e,t)=>{const{badge:n,keyshape:i}=e;if(!n||!i)return[];const{visible:o,value:r}=n;if(o){const e=Math.round(i.size/3),o=e/2;return n.size=e,n.stroke=i.stroke,"mapping"===n.type?[{type:"text",size:e,stroke:i.stroke,fill:"#fff",color:i.fill,visible:Boolean(t[r]),value:t[r],fontSize:o}]:("font"===n.type&&(n.type="font",n.fontFamily="graphin",n.value=gc[r]||""),"text"===n.type&&(n.fill="#fff",n.color=i.fill,n.value=r,n.fontSize=o),[n])}return[]})(a,t),p=Object.assign(Object.assign({},a.label),{value:a.label.visible?d:""});let m=e&&e.style||{};n&&(m={});const h={keyshape:l,label:p,icon:u,halo:s,badges:f,status:Object.assign(Object.assign(Object.assign({},vc),c),{highlight:{keyshape:{lineWidth:4,fillOpacity:.6}},active:{halo:{visible:!0},keyshape:{lineWidth:5}},query_start:{halo:{visible:!0,stroke:i,lineWidth:4,lineDash:[8,8]}},query_normal:{halo:{visible:!0,stroke:i,lineWidth:1,lineDash:[8,8]}}})};return Object.assign(Object.assign({},e),{id:e.id,data:t,nodeType:e.nodeType||"UNKNOW",type:"graphin-circle",style:nc()(h,m)})}));return d}catch(t){return console.error("parse transform error:",t),e}}},Nc={info:{id:"Circular",options:{type:"circular"},name:"圆形布局",category:"basic",type:"LAYOUT",desc:"圆形布局",icon:"icon-layout-circular",cover:"http://xxxx.jpg"},registerLayout:e=>{},registerMeta:e=>({radius:{type:"number",title:"半径","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:300},divisions:{type:"number",title:"分段数","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:1},ordering:{type:"string",title:"排序依据","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{label:"Null",value:null},{label:"topology",value:"topology"},{label:"degree",value:"degree"}]},default:null},preventOverlap:{type:"switch",title:"防止重叠","x-decorator":"FormItem","x-component":"Switch",default:!0}})},Fc={info:{id:"Concentric",options:{type:"concentric"},name:"同心圆布局",category:"basic",type:"LAYOUT",desc:"根据节点度数，可按照同心圆排布",icon:"icon-layout-concentric",cover:"http://xxxx.jpg"},registerLayout:e=>{},registerMeta:e=>({sortBy:{type:"string",title:"排序依据","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{label:"Null",value:null},{label:"topology",value:"topology"},{label:"degree",value:"degree"}]},default:null},nodeSize:{type:"number",title:"节点大小","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:80},minNodeSpacing:{type:"number",title:"最小间距","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:40},equidistant:{type:"boolean",title:"是否等间距","x-decorator":"FormItem","x-component":"Switch",default:!0},preventOverlap:{type:"boolean",title:"防止重叠","x-decorator":"FormItem","x-component":"Switch",default:!0}})};var jc=s(835),Pc=s.n(jc);function Rc(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}const Mc=e=>function(t,n){const i=e.split(".");let o=0,r=0;return 1===i.length?(o=t[e],r=n[e]):(o=t[i[0]][i[1]],r=n[i[0]][i[1]]),o-r},Gc={info:{id:"ClusteringDagre",options:{type:"clusteringDagre"},name:"聚类分层布局",category:"basic",type:"LAYOUT",desc:"可聚类的有向分层布局",icon:"icon-layout-tree",cover:"http://xxxx.jpg"},registerLayout:e=>{e.registerLayout("clusteringDagre",{init(e){this.nodes=e.nodes,this.edges=e.edges},execute(){const e=this,{nodes:t,edges:n}=e,i={},o={};let r="nodeType";e.clusterAttr&&(r=e.clusterAttr),t.forEach((e=>{e.clusterAttr=e.data.properties?e.data.properties[r]:e.data[r]||e.nodeType,i[e.clusterAttr]?(i[e.clusterAttr].count++,i[e.clusterAttr].nodes.push(e)):i[e.clusterAttr]={count:1,indegree:0,outdegree:0,innerdegree:0,targetNeighbors:{},sourceNeighbors:{},nodes:[e],nodeType:e.nodeType,clusterAttr:e.clusterAttr},o[e.id]=e}));const a={},c={};if(n.forEach((e=>{c[e.source]?c[e.source].push(e.target):c[e.source]=[e.target],c[e.target]?c[e.target].push(e.source):c[e.target]=[e.source];const t=o[e.source],n=o[e.target];if(!t||!n)return;if(t.clusterAttr===n.clusterAttr)return void i[t.clusterAttr].innerdegree++;const r=i[t.clusterAttr],l=i[n.clusterAttr];r.outdegree++,r.targetNeighbors[n.clusterAttr]=1,l.indegree++,l.sourceNeighbors[t.clusterAttr]=1;const s=`${t.clusterAttr}|||${n.clusterAttr}`;a[s]?a[s]++:a[s]=1})),r){const e=Object.keys(i),t=(e,t)=>e!==i[e].nodeType&&t===i[t].nodeType?-1:e===i[e].nodeType&&t!==i[t].nodeType?1:isNaN(e)||isNaN(t)?i[e].nodes.length-i[t].nodes.length:Number(e)-Number(t);e.sort(t),e.forEach(((e,t)=>{i[e].rank=t}))}else{let t,n=1/0,o=[];Object.keys(i).forEach((e=>{0===i[e].indegree&&0===i[e].outdegree?(o.push(e),i[e].rank=0):i[e].indegree<n&&(n=i[e].indegree,t=e)})),o.push(t),Object.keys(i).forEach((e=>{i[e].indegree===n&&(e!==t&&o.push(e),i[e].rank=0)})),e.calcLevels(o,0,i,o.length)}const l=[];Object.keys(i).forEach((e=>{const t=i[e];l[t.rank]?l[t.rank].push(t):l[t.rank]=[t],t.nodes.forEach((e=>{e.cDagreLayoutInfo={rank:t.rank}}))})),e.sugiyamaGroup(l,a),e.sugiyamaNode(l,i,c,o);const s=e.width||500,d=e.height||500;let u=-1/0;if(l.forEach((e=>{let t=0;e.forEach((e=>{t+=e.nodes.length})),u<t&&(u=t)})),t.forEach((t=>{const{posIdx:n}=t.cDagreLayoutInfo;t.cDagreLayoutInfo.line=Math.floor(n/e.wrapThreshold),t.cDagreLayoutInfo.linePosIdx=n%e.wrapThreshold})),e.radial){const n=[s/2,d/2],i=e.ranksep?e.ranksep:.4*Math.min(s,d)/l.length||50;t.forEach((e=>{const{rank:t,posIdx:o}=e.cDagreLayoutInfo,r=(t+1)*i,a=2*Math.PI*o/u;e.x=r*Math.cos(a)+n[0],e.y=r*Math.sin(a)+n[1]}))}else{const n=e.begin||[50,50],i=e.rankdir?e.rankdir:"TB";let o=e.ranksep,r=e.nodesep;"TB"===i||"BT"===i?(o||(o=.8*d/l.length||150),r||(r=.8*s/u||150)):"LR"!==i&&"RL"!==i||(o||(o=.8*s/l.length||150),r||(r=.8*d/u||150));const a=e.wrapLineHeight;t.forEach((e=>{switch(i){case"TB":e.x=n[0]+r*e.cDagreLayoutInfo.linePosIdx,e.y=n[1]+o*e.cDagreLayoutInfo.rank+a*e.cDagreLayoutInfo.line;break;case"BT":e.x=n[0]+r*e.cDagreLayoutInfo.linePosIdx,e.y=d-(n[1]+o*e.cDagreLayoutInfo.rank+a*e.cDagreLayoutInfo.line);break;case"LR":e.x=n[0]+o*e.cDagreLayoutInfo.rank+a*e.cDagreLayoutInfo.line,e.y=n[1]+r*e.cDagreLayoutInfo.linePosIdx;break;case"RL":e.x=s-(n[0]+o*e.cDagreLayoutInfo.rank+a*e.cDagreLayoutInfo.line),e.y=n[1]+r*e.cDagreLayoutInfo.linePosIdx}}))}if(e.postForce){const e=new(Pc().Layout.forceAtlas2)({center:[s/2,d/2],preventOverlap:!0,kr:15,maxIteration:50});e.init({nodes:t,edges:n}),e.execute()}},sugiyamaNode(e,t,n,i){Object.keys(t).forEach((e=>{const n=t[e];t[e].nodes.forEach(((e,t)=>{e.cDagreLayoutInfo.posIdx=n.beginIdx+t}))})),e.forEach(((t,o)=>{o!==e.length-1&&t.forEach((e=>{e.nodes.forEach(((t,o)=>{const r=n[t.id];let a=0,c=0;r&&r.forEach((t=>{const n=i[t];n.cDagreLayoutInfo.rank===e.rank+1&&(a+=n.cDagreLayoutInfo.posIdx,c++)})),t.cDagreLayoutInfo.posIdx=a/c||o}))}))}));for(let t=e.length-1;t>=0;t--)0!==t&&e[t].forEach((e=>{e.nodes.forEach(((t,o)=>{const r=n[t.id];let a=0,c=0;r&&r.forEach((t=>{const n=i[t];n.cDagreLayoutInfo.rank===e.rank-1&&(a+=n.cDagreLayoutInfo.posIdx,c++)})),t.cDagreLayoutInfo.posIdx=a/c||o}))}));Object.keys(t).forEach((e=>{const n=t[e].nodes;n.sort(Mc("cDagreLayoutInfo.posIdx"));const i=t[e].beginIdx;n.forEach(((e,t)=>{e.cDagreLayoutInfo.posIdx=i+t}))}))},sugiyamaGroup(e,t){const n=e.length;e.forEach(((i,o)=>{if(o===n-1);else{const n=e[o+1];i.forEach(((e,i)=>{let o=0,r=1;n.forEach(((n,i)=>{const a=`${e.clusterAttr}|||${n.clusterAttr}`;t[a]&&(r+=n.posIdx||i,o++)})),r/=2*o,e.posIdx=r||i}))}}));for(let i=n-1;i>=0;i--){if(0===i)continue;const n=e[i],o=e[i-1];n.forEach(((e,n)=>{let i=0,r=1;o.forEach(((n,o)=>{const a=`${e.clusterAttr}|||${n.clusterAttr}`;t[a]&&(r+=n.posIdx||o,i++)})),r/=2*i,e.posIdx=r||n}))}e.forEach((e=>{e.sort(Mc("posIdx"));let t=0;e.forEach((e=>{const n=e.nodes.length;e.posIdx=Math.round(t+n/2),e.beginIdx=t,e.endIdx=t+n,t=e.endIdx+1}))}))},calcLevels(e,t,n,i){if(i>=Object.keys(n).length)return;let o=[];e.forEach((e=>{o=o.concat(Object.keys(n[e].sourceNeighbors).concat(Object.keys(n[e].targetNeighbors)))}));for(let e=o.length-1;e>=0;e--)isNaN(n[o[e]].rank)?n[o[e]].rank=t+1:o.splice(e,1);this.calcLevels(o,t+1,n,o.length?i+o.length:1/0)},layout(e){this.init(e),this.execute()},updateCfg(e){!function(e,t,n,i){t&&Rc(e,t)}(this,e)},destroy(){const e=this;e.positions=null,e.nodes=null,e.edges=null,e.destroyed=!0}})},registerMeta:e=>{const{keys:t}=e,n=t.filter((e=>"nodeTypeKeyFromProperties"!==e));return{rankdir:{type:"string",title:"布局方向","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{label:"自上而下",value:"TB"},{label:"自下而上",value:"BT"},{label:"自左而右",value:"LR"},{label:"自右而左",value:"RL"}]},default:"TB"},clusterAttr:{type:"string",title:"分层依据","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:n.map((e=>({label:e,value:e})))},default:"nodeType"},wrapThreshold:{type:"number",title:"每层节点上限","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:20},wrapLineHeight:{type:"number",title:"同层节点换行后多行之间的间距","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:30},align:{type:"string",title:"对齐方式","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{label:"Null",value:null},{label:"UL",value:"UL"},{label:"UR",value:"UR"},{label:"DL",value:"DL"},{label:"DR",value:"DR"}]},default:null},nodesep:{type:"number",title:"节点间距","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:40},ranksep:{type:"number",title:"层间距","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:80}}}},Lc={info:{id:"Dagre",options:{type:"dagre"},name:"有向分层",category:"basic",type:"LAYOUT",desc:"节点按照边的流向排布",icon:"icon-layout-tree",cover:"http://xxxx.jpg"},registerLayout:e=>{},registerMeta:e=>({rankdir:{type:"string",title:"布局方向","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{label:"自上而下",value:"TB"},{label:"自下而上",value:"BT"},{label:"自左而右",value:"LR"},{label:"自右而左",value:"RL"}]},default:"TB"},align:{type:"string",title:"对齐方式","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{label:"Null",value:null},{label:"UL",value:"UL"},{label:"UR",value:"UR"},{label:"DL",value:"DL"},{label:"DR",value:"DR"}]},default:null},nodesep:{type:"number",title:"节点间距","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:40},ranksep:{type:"number",title:"层间距","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:80}})},Dc={info:{id:"Force2",options:{type:"force2",animation:!1,preset:{type:"concentric"}},name:"渐进力导(force2)",category:"basic",type:"LAYOUT",desc:"渐进式力导布局，可用于动态布局",icon:"icon-layout-force",cover:"http://xxxx.jpg"},registerLayout:e=>{},registerMeta:e=>({stiffness:{type:"number",title:"弹簧劲度系数","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:200},repulsion:{title:"库伦常量Ke（斥力）",type:"number","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{},default:1e3},damping:{title:"阻尼系数",type:"number","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:.1,min:0,max:1},default:.9},animation:{title:"启用动画",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},preset:{type:"object",properties:{type:{type:"string",title:"前置布局","x-component":"Select","x-decorator":"FormItem","x-component-props":{options:[{label:"网格布局",value:"grid"},{label:"环形布局",value:"circular"},{label:"同心圆布局",value:"concentric"},{label:"有向分层",value:"dagre"}]},default:"concentric"}}},defSpringLenCfg:{type:"object",properties:{minLimitDegree:{title:"最小界限度数",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:5},maxLimitLength:{title:"最大限制边长",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:500},defaultSpring:{title:"默认边长",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:100}}},centripetalOptions:{type:"object",properties:{leaf:{title:"叶子节点",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:2},single:{title:"孤立节点",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:2},others:{title:"其他节点",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:1}}}})},Bc={info:{id:"FundForce",options:{type:"graphin-force",animation:!0,preset:{type:"concentric"}},name:"资金力导",category:"basic",type:"LAYOUT",desc:"基于节点字段大小的垂直力导布局",icon:"icon-layout-force",cover:"http://xxxx.jpg"},registerLayout:e=>{},registerMeta:({keys:e,schemaData:t})=>{var n,i;const o=t.nodes.reduce(((e,t)=>Object.assign(Object.assign({},e),t.properties)),{}),r=e.filter((e=>"number"===o[e])).map((e=>({label:e,value:e})));return{income:{title:"流入资金","x-component":"Select","x-decorator":"FormItem","x-component-props":{options:r},default:null===(n=r[0])||void 0===n?void 0:n.value},outcome:{title:"流出资金","x-component":"Select","x-decorator":"FormItem","x-component-props":{options:r},default:null===(i=r[0])||void 0===i?void 0:i.value},isLog:{title:"log 映射",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},multiple:{title:"倍数映射",type:"string","x-decorator":"FormItem","x-component":"Input",default:"0.1"}}}},zc={info:{id:"GraphinForce",options:{type:"graphin-force",animation:!1,preset:{type:"concentric"}},name:"力导布局",category:"basic",type:"LAYOUT",desc:"渐进式力导布局，可用于动态布局",icon:"icon-layout-force",cover:"http://xxxx.jpg"},registerLayout:e=>{},registerMeta:e=>({stiffness:{type:"number",title:"弹簧劲度系数","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:200},repulsion:{title:"库伦常量Ke（斥力）",type:"number","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{},default:1e3},damping:{title:"阻尼系数",type:"number","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:.1,min:0,max:1},default:.9},animation:{title:"启用动画",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!0},preset:{type:"object",properties:{type:{type:"string",title:"前置布局","x-component":"Select","x-decorator":"FormItem","x-component-props":{options:[{label:"网格布局",value:"grid"},{label:"环形布局",value:"circular"},{label:"同心圆布局",value:"concentric"},{label:"有向分层",value:"dagre"}]},default:"concentric"}}},defSpringLenCfg:{type:"object",properties:{minLimitDegree:{title:"最小界限度数",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:5},maxLimitLength:{title:"最大限制边长",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:500},defaultSpring:{title:"默认边长",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:100}}},centripetalOptions:{type:"object",properties:{leaf:{title:"叶子节点",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:2},single:{title:"孤立节点",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:2},others:{title:"其他节点",type:"number","x-decorator":"FormItem","x-component":"NumberPicker",default:1}}}})},qc={info:{id:"Grid",options:{type:"grid"},name:"网格布局",category:"basic",type:"LAYOUT",desc:"节点按照网格排布",icon:"icon-layout-grid-fill",cover:"http://xxxx.jpg"},registerLayout:e=>{},registerMeta:e=>({rows:{type:"number",title:"网格行数","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1}},cols:{type:"slider",title:"网格列数","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1}},sortBy:{type:"select",title:"排序依据","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{label:"null",value:null},{label:"topology",value:"topology"},{label:"degree",value:"degree"}]},default:null}})},Uc={info:{id:"Radial",options:{type:"radial"},name:"径向布局",category:"basic",type:"LAYOUT",desc:"辐射布局",icon:"icon-layout-radial",cover:"http://xxxx.jpg"},registerLayout:e=>{},registerMeta:e=>({unitRadius:{type:"number",title:"层级距离","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{step:1},default:200},linkDistance:{type:"number",title:"边长","x-decorator":"FormItem","x-component":"NumberPicker",default:200},nodeSize:{type:"number",title:"节点大小","x-decorator":"FormItem","x-component":"NumberPicker",default:60},focusNode:{type:"string",title:"中心节点","x-decorator":"FormItem","x-component":"Select"},nodeSpacing:{type:"number",title:"节点间距","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{},default:30},preventOverlap:{type:"boolean",title:"防止重叠","x-decorator":"FormItem","x-component":"Switch",default:!0},strictRadial:{type:"boolean",title:"严格辐射","x-decorator":"FormItem","x-component":"Switch",default:!0}})},{GIAC_CONTENT_METAS:$c,GIAC_CONTENT_PROPS:Vc,GIAC_METAS:Hc,GIAC_PROPS:Wc,GIAComponent:Yc}=c.extra,Kc={GIAComponent:Yc,GIAC_CONTENT_METAS:$c,GIAC_METAS:Hc,GIAC_PROPS:Wc,GIAC_CONTENT_PROPS:Vc}})(),d})()));