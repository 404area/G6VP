/*! For license information please see index.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Graphin"),require("React"),require("antd")):"function"==typeof define&&define.amd?define(["Graphin","React","antd"],t):"object"==typeof exports?exports.GISDK=t(require("Graphin"),require("React"),require("antd")):e.GISDK=t(e.Graphin,e.React,e.antd)}(self,((e,t,n)=>(()=>{var r={158:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(24).createContext)({})},440:(e,t,n)=>{"use strict";n.d(t,{R_:()=>X,pw:()=>Q,r:()=>Y,H9:()=>ee,vD:()=>te,C3:()=>re,Kp:()=>J});var r=n(452),o=n(753);function i(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function a(e){return e<=1?"".concat(100*Number(e),"%"):e}function s(e){return 1===e.length?"0"+e:String(e)}function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function l(e){return u(e)/255}function u(e){return parseInt(e,16)}var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function p(e){var t,n,r,o={r:0,g:0,b:0},s=1,p=null,f=null,g=null,m=!1,b=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(d[e])e=d[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=y.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=y.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=y.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=y.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=y.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=y.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=y.hex8.exec(e))?{r:u(n[1]),g:u(n[2]),b:u(n[3]),a:l(n[4]),format:t?"name":"hex8"}:(n=y.hex6.exec(e))?{r:u(n[1]),g:u(n[2]),b:u(n[3]),format:t?"name":"hex"}:(n=y.hex4.exec(e))?{r:u(n[1]+n[1]),g:u(n[2]+n[2]),b:u(n[3]+n[3]),a:l(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=y.hex3.exec(e))&&{r:u(n[1]+n[1]),g:u(n[2]+n[2]),b:u(n[3]+n[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(h(e.r)&&h(e.g)&&h(e.b)?(t=e.r,n=e.g,r=e.b,o={r:255*i(t,255),g:255*i(n,255),b:255*i(r,255)},m=!0,b="%"===String(e.r).substr(-1)?"prgb":"rgb"):h(e.h)&&h(e.s)&&h(e.v)?(p=a(e.s),f=a(e.v),o=function(e,t,n){e=6*i(e,360),t=i(t,100),n=i(n,100);var r=Math.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),c=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,a,a,c,n][l],g:255*[c,n,n,s,a,a][l],b:255*[a,a,c,n,n,s][l]}}(e.h,p,f),m=!0,b="hsv"):h(e.h)&&h(e.s)&&h(e.l)&&(p=a(e.s),g=a(e.l),o=function(e,t,n){var r,o,a;if(e=i(e,360),t=i(t,100),n=i(n,100),0===t)o=n,a=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=c(l,s,e+1/3),o=c(l,s,e),a=c(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*a}}(e.h,p,g),m=!0,b="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(s=e.a)),s=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(s),{ok:m,format:e.format||b,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:s}}var f="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),g="[\\s|\\(]+(".concat(f,")[,|\\s]+(").concat(f,")[,|\\s]+(").concat(f,")\\s*\\)?"),m="[\\s|\\(]+(".concat(f,")[,|\\s]+(").concat(f,")[,|\\s]+(").concat(f,")[,|\\s]+(").concat(f,")\\s*\\)?"),y={CSS_UNIT:new RegExp(f),rgb:new RegExp("rgb"+g),rgba:new RegExp("rgba"+m),hsl:new RegExp("hsl"+g),hsla:new RegExp("hsla"+m),hsv:new RegExp("hsv"+g),hsva:new RegExp("hsva"+m),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function h(e){return Boolean(y.CSS_UNIT.exec(String(e)))}var b=2,v=.16,x=.05,O=.05,S=.15,I=5,C=4,E=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function w(e){var t=function(e,t,n){e=i(e,255),t=i(t,255),n=i(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),a=0,s=r,c=r-o,l=0===r?0:c/r;if(r===o)a=0;else{switch(r){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4}a/=6}return{h:a,s:l,v:s}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function j(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var o=[s(Math.round(e).toString(16)),s(Math.round(t).toString(16)),s(Math.round(n).toString(16))];return o.join("")}(t,n,r))}function T(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-b*t:Math.round(e.h)+b*t:n?Math.round(e.h)+b*t:Math.round(e.h)-b*t)<0?r+=360:r>=360&&(r-=360),r}function N(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-v*t:t===C?e.s+v:e.s+x*t)>1&&(r=1),n&&t===I&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function P(e,t,n){var r;return(r=n?e.v+O*t:e.v-S*t)>1&&(r=1),Number(r.toFixed(2))}function A(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=p(e),o=I;o>0;o-=1){var i=w(r),a=j(p({h:T(i,o,!0),s:N(i,o,!0),v:P(i,o,!0)}));n.push(a)}n.push(j(r));for(var s=1;s<=C;s+=1){var c=w(r),l=j(p({h:T(c,s),s:N(c,s),v:P(c,s)}));n.push(l)}return"dark"===t.theme?E.map((function(e){var r,o,i,a=e.index,s=e.opacity;return j((r=p(t.backgroundColor||"#141414"),i=100*s/100,{r:((o=p(n[a])).r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b}))})):n}var k={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},_={},F={};Object.keys(k).forEach((function(e){_[e]=A(k[e]),_[e].primary=_[e][5],F[e]=A(k[e],{theme:"dark",backgroundColor:"#141414"}),F[e].primary=F[e][5]})),_.red,_.volcano,_.gold,_.orange,_.yellow,_.lime,_.green,_.cyan,_.blue,_.geekblue,_.purple,_.magenta,_.grey;var G=n(24),M=n.n(G),R={};function D(e,t){}const $=function(e,t){!function(e,t,n){t||R[n]||(e(!1,n),R[n]=!0)}(D,e,t)};var L="data-rc-order",Z="rc-util-key",z=new Map;function K(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):Z}function B(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function U(e){return Array.from((z.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window||!window.document||!window.document.createElement)return null;var n=t.csp,r=t.prepend,o=document.createElement("style");o.setAttribute(L,function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r)),null!=n&&n.nonce&&(o.nonce=null==n?void 0:n.nonce),o.innerHTML=e;var i=B(t),a=i.firstChild;if(r){if("queue"===r){var s=U(i).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(L))}));if(s.length)return i.insertBefore(o,s[s.length-1].nextSibling),o}i.insertBefore(o,a)}else i.appendChild(o);return o}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n=z.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=q("",t),o=r.parentNode;z.set(e,o),e.removeChild(r)}}(B(n),n);var r,o,i,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(B(t)).find((function(n){return n.getAttribute(K(t))===e}))}(t,n);if(a)return null!==(r=n.csp)&&void 0!==r&&r.nonce&&a.nonce!==(null===(o=n.csp)||void 0===o?void 0:o.nonce)&&(a.nonce=null===(i=n.csp)||void 0===i?void 0:i.nonce),a.innerHTML!==e&&(a.innerHTML=e),a;var s=q(e,n);return s.setAttribute(K(n),t),s}var V=n(158);function J(e,t){$(e,"[@ant-design/icons] ".concat(t))}function Y(e){return"object"===(0,o.Z)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,o.Z)(e.icon)||"function"==typeof e.icon)}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];return"class"===n?(t.className=r,delete t.class):t[n]=r,t}),{})}function X(e,t,n){return n?M().createElement(e.tag,(0,r.Z)((0,r.Z)({key:t},W(e.attrs)),n),(e.children||[]).map((function(n,r){return X(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):M().createElement(e.tag,(0,r.Z)({key:t},W(e.attrs)),(e.children||[]).map((function(n,r){return X(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function Q(e){return A(e)[0]}function ee(e){return e?Array.isArray(e)?e:[e]:[]}var te={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},ne="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=(0,G.useContext)(V.Z).csp;(0,G.useEffect)((function(){H(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}},115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(452),o=n(861),i=n(24),a=n(703),s=n(608),c=n.n(s),l=n(158),u=n(440),d=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],p=i.forwardRef((function(e,t){var n=e.className,s=e.component,p=e.viewBox,f=e.spin,g=e.rotate,m=e.tabIndex,y=e.onClick,h=e.children,b=(0,o.Z)(e,d);(0,u.Kp)(Boolean(s||h),"Should have `component` prop or `children`."),(0,u.C3)();var v=i.useContext(l.Z).prefixCls,x=void 0===v?"anticon":v,O=c()(x,n),S=c()((0,a.Z)({},"".concat(x,"-spin"),!!f)),I=g?{msTransform:"rotate(".concat(g,"deg)"),transform:"rotate(".concat(g,"deg)")}:void 0,C=(0,r.Z)((0,r.Z)({},u.vD),{},{className:S,style:I,viewBox:p});p||delete C.viewBox;var E=m;return void 0===E&&y&&(E=-1),i.createElement("span",(0,r.Z)((0,r.Z)({role:"img"},b),{},{ref:t,tabIndex:E,onClick:y,className:O}),s?i.createElement(s,(0,r.Z)({},C),h):h?((0,u.Kp)(Boolean(p)||1===i.Children.count(h)&&i.isValidElement(h)&&"use"===i.Children.only(h).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),i.createElement("svg",(0,r.Z)((0,r.Z)({},C),{},{viewBox:p}),h)):null)}));p.displayName="AntdIcon";const f=p;var g,m=["type","children"],y=new Set;function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e[n];if(t=r,Boolean("string"==typeof t&&t.length&&!y.has(t))){var o=document.createElement("script");o.setAttribute("src",r),o.setAttribute("data-namespace",r),e.length>n+1&&(o.onload=function(){h(e,n+1)},o.onerror=function(){h(e,n+1)}),y.add(r),document.body.appendChild(o)}}e=n.hmd(e),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&g(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scriptUrl,n=e.extraCommonProps,a=void 0===n?{}:n;t&&"undefined"!=typeof document&&"undefined"!=typeof window&&"function"==typeof document.createElement&&(Array.isArray(t)?h(t.reverse()):h([t]));var s=i.forwardRef((function(e,t){var n=e.type,s=e.children,c=(0,o.Z)(e,m),l=null;return e.type&&(l=i.createElement("use",{xlinkHref:"#".concat(n)})),s&&(l=s),i.createElement(f,(0,r.Z)((0,r.Z)((0,r.Z)({},a),c),{},{ref:t}),l)}));return s.displayName="Iconfont",s}({scriptUrl:"https://at.alicdn.com/t/font_3381398_5hpi569akv7.js"}),v=b;const x=v;var O,S;(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(O.register(b,"Icon","/Users/pomelo/Desktop/github/GraphInsight/packages/gi-common-components/es/Icon/index.js"),O.register(v,"default","/Users/pomelo/Desktop/github/GraphInsight/packages/gi-common-components/es/Icon/index.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},608:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensorTabIndex=t.SensorClassName=t.SizeSensorId=void 0,t.SizeSensorId="size-sensor-id",t.SensorClassName="size-sensor-object",t.SensorTabIndex="-1"},622:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}},604:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=1;t.default=function(){return"".concat(n++)}},224:(e,t,n)=>{"use strict";t.ak=void 0;var r=n(536);t.ak=function(e,t){var n=(0,r.getSensor)(e);return n.bind(t),function(){n.unbind(t)}}},536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSensor=t.getSensor=void 0;var r,o=(r=n(604))&&r.__esModule?r:{default:r},i=n(919),a=n(565),s={};t.getSensor=function(e){var t=e.getAttribute(a.SizeSensorId);if(t&&s[t])return s[t];var n=(0,o.default)();e.setAttribute(a.SizeSensorId,n);var r=(0,i.createSensor)(e);return s[n]=r,r},t.removeSensor=function(e){var t=e.element.getAttribute(a.SizeSensorId);e.element.removeAttribute(a.SizeSensorId),e.destroy(),t&&s[t]&&delete s[t]}},919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r=n(451),o=n(512),i="undefined"!=typeof ResizeObserver?o.createSensor:r.createSensor;t.createSensor=i},451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r,o=(r=n(622))&&r.__esModule?r:{default:r},i=n(565);t.createSensor=function(e){var t=void 0,n=[],r=(0,o.default)((function(){n.forEach((function(t){t(e)}))})),a=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",r),t.parentNode.removeChild(t),t=void 0,n=[])};return{element:e,bind:function(o){t||(t=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",r),r()},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("class",i.SensorClassName),t.setAttribute("tabindex",i.SensorTabIndex),t.type="text/html",e.appendChild(t),t.data="about:blank",t}()),-1===n.indexOf(o)&&n.push(o)},destroy:a,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&a()}}}},512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSensor=void 0;var r,o=(r=n(622))&&r.__esModule?r:{default:r};t.createSensor=function(e){var t=void 0,n=[],r=(0,o.default)((function(){n.forEach((function(t){t(e)}))})),i=function(){t.disconnect(),n=[],t=void 0};return{element:e,bind:function(o){var i;t||((i=new ResizeObserver(r)).observe(e),r(),t=i),-1===n.indexOf(o)&&n.push(o)},destroy:i,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&i()}}}},725:t=>{"use strict";t.exports=e},24:e=>{"use strict";e.exports=t},721:e=>{"use strict";e.exports=n},703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(753);function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==(0,r.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,r.Z)(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},452:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(703);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},861:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{Z:()=>r})},753:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e](n,n.exports,i),n.loaded=!0,n.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";i.r(a),i.d(a,{COLORS:()=>lt,CollapseCard:()=>Kt,EngineBanner:()=>Bt,Icon:()=>s.Z,default:()=>Ht,extra:()=>qt,useContext:()=>f,utils:()=>e,version:()=>Ut});var e={};i.r(e),i.d(e,{aggregateEdges:()=>Be,debounce:()=>xe,filterByRules:()=>Fe,findAllPath:()=>Ue,generatorSchemaByGraphData:()=>ct,generatorStyleConfigBySchema:()=>ft,getAssetPackages:()=>st,getCombineServer:()=>xt,getCombineServices:()=>Ot,getDefSideCoeFunction:()=>he,getDefSpringLenFunction:()=>ye,getDefaultValues:()=>je,getElementsByAssets:()=>He,getKeysByData:()=>Ne,getMetaDefaultValues:()=>Ve,getMockServiceConfig:()=>Ye,getNeighbors:()=>qe,getPositionStyles:()=>Oe,getProjectContext:()=>Ae,getSchemaGraph:()=>We,getSearchParams:()=>Xe,getServerEngineContext:()=>yt,getService:()=>we,getServiceOptions:()=>bt,getServiceOptionsByEngineId:()=>vt,getServicesByConfig:()=>Qe,handleCollaspe:()=>Ee,handleExpand:()=>Ce,highlightEdgeIds:()=>tt,highlightSubGraph:()=>et,isPosition:()=>be,isStyles:()=>ve,loaderAssets:()=>it,loaderCombinedAssets:()=>at,mergeObjectByRule:()=>Pe,mergeStyleConfig:()=>mt,processEdges:()=>Me,setServerEngineContext:()=>ht,time:()=>Ie,transDataByConfig:()=>Re,uniqueElementsBy:()=>Se});const t={title:"排序位置",type:"number","x-decorator":"FormItem","x-component":"NumberPicker","x-component-props":{min:0,max:15},default:2},n={GI_CONTAINER_INDEX:t,GIAC_CONTENT:{type:"void","x-decorator":"FormItem","x-component":"FormCollapse","x-component-props":{ghost:!0,className:"gi-site-collapse-item"},properties:{GIAC_CONTENT:{type:"object","x-decorator":"FormItem","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"容器配置"},properties:{visible:{title:"默认显示",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1},disabled:{title:"功能禁用",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1},isShowTitle:{title:"显示名称",type:"string","x-decorator":"FormItem","x-component":"Switch","x-reactions":[{target:"GIAC_CONTENT.title",fulfill:{state:{visible:"{{$self.value}}"}}}],default:!0},title:{title:"填写名称",type:"string","x-decorator":"FormItem","x-component":"Input",default:"未命名组件"},isShowIcon:{title:"显示图标",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!0,"x-reactions":[{target:"GIAC_CONTENT.icon",fulfill:{state:{visible:"{{$self.value}}"}}}]},icon:{title:"选择图标",type:"string","x-decorator":"FormItem","x-component":"Input",default:"icon-star"},isShowTooltip:{title:"提示框",type:"string","x-decorator":"FormItem","x-component":"Switch","x-reactions":[{target:"GIAC_CONTENT.tooltip",fulfill:{state:{visible:"{{$self.value}}"}}}],default:!0},tooltip:{title:"提示内容",type:"string","x-decorator":"FormItem","x-component":"Input",default:""},tooltipColor:{title:"提示颜色",type:"string","x-decorator":"FormItem","x-component":"ColorInput",default:"#3056e3"},tooltipPlacement:{title:"提示方位",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{value:"top",label:"上方"},{value:"left",label:"左方"},{value:"right",label:"右方"},{value:"bottom",label:"下方"}]},default:"right"},hasDivider:{title:"分隔符",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1},height:{title:"单元高度",type:"string","x-decorator":"FormItem","x-component":"Input",default:"60px"},isVertical:{title:"垂直排列",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!0},containerType:{title:"容器类型",type:"string","x-decorator":"FormItem","x-component":"Radio.Group",enum:[{label:"普通DIV",value:"div"},{label:"抽屉",value:"drawer"},{label:"弹窗",value:"modal"}],default:"div"},containerAnimate:{title:"容器动画（仅DIV有效）",type:"boolean","x-decorator":"FormItem","x-component":"Switch",default:!1},containerPlacement:{title:"容器位置",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{value:"LT",label:"左上 / top"},{value:"LB",label:"左下 / left"},{value:"RT",label:"右上 / right"},{value:"RB",label:"右下 / bottom"}]},default:"RT"},offset:{title:"偏移距离",type:"string","x-decorator":"FormItem","x-component":"Offset",default:[0,0]},containerWidth:{title:"容器宽度",type:"string","x-decorator":"FormItem","x-component":"Input",default:"350px"},containerHeight:{title:"容器高度",type:"string","x-decorator":"FormItem","x-component":"Input",default:"calc(100% - 100px)"},contaienrMask:{title:"容器遮罩",type:"string","x-decorator":"FormItem","x-component":"Switch","x-component-props":{},default:!1}}}}}},r={GI_CONTAINER_INDEX:t,GIAC:{type:"void","x-decorator":"FormItem","x-component":"FormCollapse","x-component-props":{ghost:!0,className:"gi-site-collapse-item"},properties:{GIAC:{type:"object","x-decorator":"FormItem","x-component":"FormCollapse.CollapsePanel","x-component-props":{header:"容器配置"},properties:{visible:{title:"默认显示",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1},disabled:{title:"功能禁用",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1},isShowTitle:{title:"显示名称",type:"string","x-decorator":"FormItem","x-component":"Switch","x-reactions":[{target:"GIAC_CONTENT.title",fulfill:{state:{visible:"{{$self.value}}"}}}],default:!1},title:{title:"填写名称",type:"string","x-decorator":"FormItem","x-component":"Input",default:"时序分析"},isShowIcon:{title:"显示图标",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!0,"x-reactions":[{target:"GIAC_CONTENT.icon",fulfill:{state:{visible:"{{$self.value}}"}}}]},icon:{title:"选择图标",type:"string","x-decorator":"FormItem","x-component":"Input",default:"icon-star"},isShowTooltip:{title:"提示框",type:"string","x-decorator":"FormItem","x-component":"Switch","x-reactions":[{target:"GIAC_CONTENT.tooltip",fulfill:{state:{visible:"{{$self.value}}"}}}],default:!0},tooltip:{title:"提示内容",type:"string","x-decorator":"FormItem","x-component":"Input",default:""},tooltipColor:{title:"提示颜色",type:"string","x-decorator":"FormItem","x-component":"ColorInput",default:"#3056e3"},tooltipPlacement:{title:"提示方位",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{value:"top",label:"上方"},{value:"left",label:"左方"},{value:"right",label:"右方"},{value:"bottom",label:"下方"}],showInPanel:{conditions:[[".isShowTooltip","$eq",!0]]}},default:"right"},hasDivider:{title:"分隔符",type:"string","x-decorator":"FormItem","x-component":"Switch",default:!1},height:{title:"单元高度",type:"string","x-decorator":"FormItem","x-component":"Input",default:"46px"},isVertical:{title:"垂直排列",type:"string","x-decorator":"FormItem","x-component":"Switch","x-component-props":{showInPanel:{conditions:[[".isShowIcon","$eq",!0],[".isShowTitle","$eq",!0]]}},default:!0}}}}}},o={GI_CONTAINER_INDEX:0,GIAC:{visible:!1,disabled:!1,isShowTitle:!0,isShowIcon:!0,isShowTooltip:!0,title:"",icon:"",tooltip:"",tooltipPlacement:"top",tooltipColor:"#3056e3",hasDivider:!1,isVertical:!1,height:"40px"}};var s=i(115),c=i(721),l=i(24),u=i.n(l);const d=e=>{const{title:t,tooltip:n,isShowTooltip:r,tooltipPlacement:o,tooltipColor:i,children:a}=e;return r?u().createElement(c.Tooltip,{title:n||t,color:i,placement:o},a):u().createElement(u().Fragment,null,a)},p=u().createContext({graph:null,apis:null,theme:null,layout:null,stopForceSimulation:()=>{},restartForceSimulation:()=>{},updateContext:()=>{},updateData:()=>{}}),f=()=>{const e=u().useContext(p);if(void 0===e||0===Object.keys(e).length)throw new Error("useContext must be used within a GraphInsightProvider");return e};var g=i(725),m=i.n(g);function y(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function h(e){return!!e&&!!e[ne]}function b(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===re}(e)||Array.isArray(e)||!!e[te]||!!(null===(t=e.constructor)||void 0===t?void 0:t[te])||I(e)||C(e))}function v(e,t,n){void 0===n&&(n=!1),0===x(e)?(n?Object.keys:oe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function x(e){var t=e[ne];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:I(e)?2:C(e)?3:0}function O(e,t){return 2===x(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S(e,t,n){var r=x(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function I(e){return W&&e instanceof Map}function C(e){return X&&e instanceof Set}function E(e){return e.o||e.t}function w(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ie(e);delete t[ne];for(var n=oe(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function j(e,t){return void 0===t&&(t=!1),N(e)||h(e)||!b(e)||(x(e)>1&&(e.set=e.add=e.clear=e.delete=T),Object.freeze(e),t&&v(e,(function(e,t){return j(t,!0)}),!0)),e}function T(){y(2)}function N(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function P(e){var t=ae[e];return t||y(18,e),t}function A(){return J}function k(e,t){t&&(P("Patches"),e.u=[],e.s=[],e.v=t)}function _(e){F(e),e.p.forEach(M),e.p=null}function F(e){e===J&&(J=e.l)}function G(e){return J={p:[],l:J,h:e,m:!0,_:0}}function M(e){var t=e[ne];0===t.i||1===t.i?t.j():t.O=!0}function R(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||P("ES5").S(t,e,r),r?(n[ne].P&&(_(t),y(4)),b(e)&&(e=D(t,e),t.l||L(t,e)),t.u&&P("Patches").M(n[ne].t,e,t.u,t.s)):e=D(t,n,[]),_(t),t.u&&t.v(t.u,t.s),e!==ee?e:void 0}function D(e,t,n){if(N(t))return t;var r=t[ne];if(!r)return v(t,(function(o,i){return $(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return L(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=w(r.k):r.o,i=o,a=!1;3===r.i&&(i=new Set(o),o.clear(),a=!0),v(i,(function(t,i){return $(e,r,o,t,i,n,a)})),L(e,o,!1),n&&e.u&&P("Patches").N(r,n,e.u,e.s)}return r.o}function $(e,t,n,r,o,i,a){if(h(o)){var s=D(e,o,i&&t&&3!==t.i&&!O(t.R,r)?i.concat(r):void 0);if(S(n,r,s),!h(s))return;e.m=!1}else a&&n.add(o);if(b(o)&&!N(o)){if(!e.h.D&&e._<1)return;D(e,o),t&&t.A.l||L(e,o)}}function L(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&j(t,n)}function Z(e,t){var n=e[ne];return(n?E(n):e)[t]}function z(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function K(e){e.P||(e.P=!0,e.l&&K(e.l))}function B(e){e.o||(e.o=w(e.t))}function U(e,t,n){var r=I(t)?P("MapSet").F(t,n):C(t)?P("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:A(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=se;n&&(o=[r],i=ce);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(t,n):P("ES5").J(t,n);return(n?n.A:A()).p.push(r),r}function q(e){return h(e)||y(22,e),function e(t){if(!b(t))return t;var n,r=t[ne],o=x(t);if(r){if(!r.P&&(r.i<4||!P("ES5").K(r)))return r.t;r.I=!0,n=H(t,o),r.I=!1}else n=H(t,o);return v(n,(function(t,o){r&&function(e,t){return 2===x(e)?e.get(t):e[t]}(r.t,t)===o||S(n,t,e(o))})),3===o?new Set(n):n}(e)}function H(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return w(e)}var V,J,Y="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,X="undefined"!=typeof Set,Q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ee=Y?Symbol.for("immer-nothing"):((V={})["immer-nothing"]=!0,V),te=Y?Symbol.for("immer-draftable"):"__$immer_draftable",ne=Y?Symbol.for("immer-state"):"__$immer_state",re=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),oe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ie=Object.getOwnPropertyDescriptors||function(e){var t={};return oe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ae={},se={get:function(e,t){if(t===ne)return e;var n=E(e);if(!O(n,t))return function(e,t,n){var r,o=z(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!b(r)?r:r===Z(e.t,t)?(B(e),e.o[t]=U(e.A.h,r,e)):r},has:function(e,t){return t in E(e)},ownKeys:function(e){return Reflect.ownKeys(E(e))},set:function(e,t,n){var r=z(E(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=Z(E(e),t),i=null==o?void 0:o[ne];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||O(e.t,t)))return!0;B(e),K(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Z(e.t,t)||t in e.t?(e.R[t]=!1,B(e),K(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=E(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){y(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){y(12)}},ce={};v(se,(function(e,t){ce[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ce.deleteProperty=function(e,t){return ce.set.call(this,e,t,void 0)},ce.set=function(e,t,n){return se.set.call(this,e[0],t,n,e[0])};var le=function(){function e(e){var t=this;this.g=Q,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&y(6),void 0!==r&&"function"!=typeof r&&y(7),b(e)){var s=G(t),c=U(t,e,void 0),l=!0;try{a=n(c),l=!1}finally{l?_(s):F(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return k(s,r),R(e,s)}),(function(e){throw _(s),e})):(k(s,r),R(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===ee&&(a=void 0),t.D&&j(a,!0),r){var u=[],d=[];P("Patches").M(e,a,u,d),r(u,d)}return a}y(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){b(e)||y(8),h(e)&&(e=q(e));var t=G(this),n=U(this,e,void 0);return n[ne].C=!0,F(t),n},t.finishDraft=function(e,t){var n=(e&&e[ne]).A;return k(n,t),R(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Q&&y(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=P("Patches").$;return h(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),ue=new le,de=ue.produce;ue.produceWithPatches.bind(ue),ue.setAutoFreeze.bind(ue),ue.setUseProxies.bind(ue),ue.applyPatches.bind(ue),ue.createDraft.bind(ue),ue.finishDraft.bind(ue);const pe=de,fe=()=>{const{graph:e,layout:t}=f();let n;return u().useEffect((()=>{const{type:r}=t;if("graphin-force"!==r&&"force2"!==r)return"dagre"===r?n=setTimeout((()=>{e.fitCenter(!0)}),200):e.fitCenter(!0),()=>{n&&clearTimeout(n)}}),[]),null},ge={id:"EmptyLayout",props:{value:"EmptyLayout"},component:e=>u().createElement(u().Fragment,null,e.children)},me={id:"Initializer",props:{GI_INITIALIZER:!0,serviceId:"GI_SERVICE_INTIAL_GRAPH",schemaServiceId:"GI_SERVICE_SCHEMA"}},ye=e=>{const{defaultSpring:t=100,maxLimitLength:n=500,minLimitDegree:r=5}=e;return(e,o,i)=>{const a=o.data.layout.degree,s=i.data.layout.degree,c=Math.min(a,s);let l=t;return l=c<r?t*c:n,l}},he=(e,t,n,r)=>o=>{let i=0;try{if(!o)return 0;const{data:a}=o.data;return i=a[e]-a[t],n&&(i=i/Math.abs(i)*Math.log(Math.abs(i))),i*=parseFloat(r),i}catch(e){console.log(e)}return i},be=e=>0!==e.length&&e.every((e=>!window.isNaN(e.x)&&!window.isNaN(e.y))),ve=e=>0!==e.length&&e.every((e=>e.style)),xe=(e,t=0)=>{let n;return function(...r){clearTimeout(n),n=setTimeout((()=>e.apply(this,r)),t)}},Oe=(e="LT",t=[24,64])=>{const n={position:"absolute",top:"unset",left:"unset",right:"unset",bottom:"unset"},[r,o]=t;return"RT"===e&&(n.right=`${r}px`,n.top=`${o}px`),"LT"===e&&(n.left=`${r}px`,n.top=`${o}px`),"LB"===e&&(n.left=`${r}px`,n.bottom=`${o}px`),"RB"===e&&(n.right=`${r}px`,n.bottom=`${o}px`),n},Se=(e,t)=>e.reduce(((e,n)=>(e.some((e=>t(n,e)))||e.push(n),e)),[]),Ie=e=>e?new Date(new Date(e).valueOf()+288e5).toJSON().substr(0,16).replace("T"," ").replace(/-/g,"."):"Invalid Date",Ce=(e,t)=>{const{nodes:n=[],edges:r=[]}=t||{};return{nodes:Se([...e.nodes,...n],((e,t)=>e.id===t.id)),edges:Se([...e.edges,...r],((e,t)=>e.id&&t.id?e.id===t.id:e.source===t.source&&e.target===t.target))}},Ee=(e,t)=>{const n=t.nodes.map((e=>e.id)),r=t.edges.map((e=>`${e.source}-${e.target}`)),o=e.nodes.filter((e=>-1===n.indexOf(e.id))),i=e.edges.filter((e=>{const t=`${e.source}-${e.target}`;return-1===r.indexOf(t)}));return{nodes:o,edges:i}},we=(e,t)=>{if(!t)return console.warn("not found serviceId",t),null;const{service:n}=e.find((e=>e.id===t))||{};return n||(console.warn("Component need a service",t),null)},je=e=>{const t="props",n={},r=(e,t,n)=>{const{type:o,properties:i}=e;if("void"!==o)if("object"!==o)t[n]=e.default;else{t[n]={};const e=t[n];Object.keys(i).forEach((t=>{r(i[t],e,t)}))}else Object.keys(i).forEach((e=>{r(i[e],t,e)}))};return r(e,n,t),n[t]},Te=e=>{const t=[],n=e=>{Object.keys(e).forEach((r=>{const o=e[r];"[object Object]"===Object.prototype.toString.call(o)?n(o):t.push(r)}))};return n(e),[...new Set(t)]},Ne=(e,t)=>{try{if("node"===t){const t=e.nodes[0]||{};return Te(t)}if("edge"===t){const t=e.edges[0]||{};return Te(t)}}catch(e){}return[]},Pe=(e,...t)=>[...t].reverse().reduce(((t,n,r)=>(Object.keys(n).forEach((r=>{t.hasOwnProperty(r)?e(t[r],n[r])&&(t[r]=n[r]):t[r]=n[r]})),t)),{}),Ae=()=>{const e=localStorage.getItem("SERVER_ENGINE_CONTEXT")||"{}";return JSON.parse(e)},ke=e=>{var t;if(e.data&&(null===(t=Object.keys(e.data))||void 0===t?void 0:t.length)){const{nodeType:t,edgeType:n}=e;return t?Object.assign(Object.assign({},e.data),{nodeType:t}):Object.assign(Object.assign({},e.data),{edgeType:n})}return e||{}},_e=(e,t)=>{if(!t)return!1;const{name:n="",operator:r,value:o}=t,i=n.split("-")[0];let a=o;return"eql"===r?e[i]===a:"not-eql"===r?e[i]!==a:"contain"===r?`${e[i]}`.indexOf(`${a}`)>-1:"not-contain"===r?-1===`${e[i]}`.indexOf(`${a}`):"gt"===r?Number(e[i])>Number(a):"gte"===r?Number(e[i])>=Number(a):"lt"===r?Number(e[i])<Number(a):"lte"===r&&Number(e[i])<=Number(a)},Fe=(e,t)=>e.filter((e=>((e,t)=>{const{logic:n,expressions:r}=t;return!r||0===r.length||(!0===n?r.every((t=>_e(ke(e),t))):r.some((t=>_e(ke(e),t))))})(e,t)));function Ge(e){return e%2==0}const Me=(e,{poly:t=30,loop:n=10}={poly:35,loop:10})=>{const r={};e.forEach(((e,t)=>{const n=Object.assign({},e),{source:o,target:i}=n,a=`${o}-${i}`;n.id=n.id||`${o}-${i}-${t}`;const s=`${i}-${o}`;r[a]?r[a].push(n):r[s]?(n.revert=!0,r[s].push(n)):r[a]=[n]}));const o=Object.values(r),i=[];return o.forEach((e=>{if(e.length>1){const r=Ge(e.length);e.forEach(((e,o)=>{var a,s;const{source:c,target:l}=e,u=c===l,d=o;let p;if(r){const e=Math.ceil((d+1)/2);p=t*e}else{const e=Ge(d)?d:d+1,n=Math.ceil(e/2);p=t*n}let f=Ge(d)?p:-p;e.revert&&(f=-f,delete e.revert),u?i.push(Object.assign(Object.assign({},e),{isLoop:!0,style:Object.assign(Object.assign({},e.style),{keyshape:Object.assign(Object.assign({},null===(a=e.style)||void 0===a?void 0:a.keyshape),{type:"loop",loop:{distance:d*n}})})})):i.push(Object.assign(Object.assign({},e),{isMultiple:!0,style:Object.assign(Object.assign({},e.style),{keyshape:Object.assign(Object.assign({},null===(s=e.style)||void 0===s?void 0:s.keyshape),{type:"poly",poly:{distance:f}})})}))}))}else i.push(e[0])})),i},Re=(e,t,n,r,o)=>{console.time(`${e.toUpperCase()}_TRANS_COST`);const i=n[e];if(!i)return{};let a=t[e];"edges"===e&&(a=Me(a,{poly:40,loop:10}));const[s,...c]=i,l=c.map((e=>{const{id:t,expressions:n,logic:i}=e;if(!r)return[];const s=r[t],c=Fe(a,{logic:i,expressions:n});return s.registerTransform(c,e,o)})).reduce(((e,t)=>[...t,...e]),[]),u=Se(l,((e,t)=>e.id===t.id)),d=u.map((e=>e.id)),p=a.filter((e=>-1===d.indexOf(e.id))),f=r[s.id].registerTransform(p,s,o),g=[...u,...f];return console.timeEnd(`${e.toUpperCase()}_TRANS_COST`),g};let De="",$e="";const Le=e=>{const{updateContext:t}=e,{graph:n,apis:r,layout:o,theme:i}=u().useContext(g.GraphinContext);return u().useEffect((()=>{const e=()=>{const{instance:e}=o;if(e){const{type:t,simulation:n}=e;"graphin-force"===t&&n.stop()}},a=(e=[])=>{const{instance:t}=o;if(t){const{type:r,simulation:o}=t;"graphin-force"===r&&o.restart(e,n)}};t((t=>{t.graph=n,t.theme=i,t.apis=r,t.layoutInstance=o,t.isContextReady=!0,t.stopForceSimulation=e,t.restartForceSimulation=a}))}),[o]),null};var Ze=i(224);const ze=e=>{const{GISDK_ID:t,graph:n}=f();return l.useEffect((()=>{const e=document.getElementById(`${t}-graphin-container`),r=(0,Ze.ak)(e,(e=>{if(e){const{clientHeight:t,clientWidth:r}=e;n.changeSize(r,t),n.autoPaint()}}));return()=>{r()}}),[n]),null};const Ke=u().memo((e=>{const{children:t,assets:n,id:r,services:o}=e,i=u().useMemo((()=>{if(!r){const e=`${Math.random().toString(36).substr(2)}`;return console.warn(`⚠️: props.id 缺失，默认生成 GISDK_ID : ${e} 用于多实例管理`),e}return r}),[]),{components:a,elements:s,layouts:c}=n;(e=>{if(e){const t=Object.keys(e).join("-");t!==De&&(Object.keys(e).forEach((t=>{e[t].registerShape(m())})),De=t)}})(s),(e=>{if(e){const t=Object.keys(e).join("-");t!==$e&&(Object.keys(e).forEach((t=>{e[t].registerLayout(m())})),$e=t)}})(c);const[d,f]=function(e){var t=(0,l.useState)((function(){return j("function"==typeof e?e():e,!0)})),n=t[1];return[t[0],(0,l.useCallback)((function(e){n("function"==typeof e?pe(e):j(e))}),[])]}({data:{nodes:[],edges:[]},schemaData:{nodes:[],edges:[]},source:{nodes:[],edges:[]},layout:{},components:[],config:e.config,isLoading:!1,isContextReady:!1,initialized:!1,initializer:me,transform:(e,t)=>e,layoutCache:!1,largeGraphLimit:600,largeGraphData:void 0,GICC_LAYOUT:{id:"EmptyLayout",props:{}},graph:null,apis:null,theme:null,layoutInstance:null,stopForceSimulation:()=>{},restartForceSimulation:()=>{},GISDK_ID:i});u().useEffect((()=>{f((t=>{t.config=e.config}))}),[e.config]);const{layout:g,components:b=[],nodes:v,edges:x}=d.config;u().useEffect((()=>{let e,t={id:"EmptyLayout",props:{}};b.forEach((n=>{"GICC_LAYOUT"!==n.type?("INITIALIZER"===n.type||n.props.GI_INITIALIZER)&&(e=n):t=n})),f((n=>{n.config.components=b,n.components=b,n.initializer=e,n.layoutCache=!0,n.GICC_LAYOUT=t}))}),[b]),u().useEffect((()=>{if(!g)return;const e=g.props||{},{type:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["type"]);let r={};n&&n.defSpringLenCfg&&(r={defSpringLen:ye(n.defSpringLenCfg)}),"FundForce"===g.id&&(r={defSideCoe:he(n.income,n.outcome,n.isLog,n.multiple)}),f((e=>{e.layout=Object.assign(Object.assign({type:t},n),r),e.config.layout=g,e.layoutCache=!1}))}),[g]),u().useEffect((()=>{if(!v||!x||0===v.length||0===x.length)return;const e=(e,t)=>{const n=Re("nodes",e,{nodes:v,edges:x},s,t),r=Re("edges",e,{nodes:v,edges:x},s,t),{combos:o,tableResult:i}=e;return{nodes:n,edges:r,combos:o,tableResult:i}};f((t=>{if(0!==t.data.nodes.length){const n=function(e){return h(e)||y(23,e),e[ne].t}(t.data),r=e(n,!0);t.data=r}t.transform=e,t.config.nodes=v,t.config.edges=x}))}),[v,x]);const{data:O,layout:S,components:I,initializer:C,theme:E,transform:w,GICC_LAYOUT:T}=d,N=(0,l.useMemo)((()=>({nodes:d.source.nodes.reduce(((e,t)=>(e[t.id]=t,e)),{}),edges:d.source.edges.reduce(((e,t)=>(e[t.id]=t,e)),{})})),[d.source]),P=Object.assign(Object.assign({},d),{GISDK_ID:i,services:o,assets:n,sourceDataMap:N,updateContext:f,updateData:e=>{f((t=>{const n=w(e);t.data=n,t.source=n,t.layoutCache=!1}))},updateLayout:e=>{f((t=>{t.layout=e,t.layoutCache=!1}))},updateDataAndLayout:(e,t)=>{f((n=>{const r=w(e);n.data=r,n.source=r,n.layout=t,n.layoutCache=!1}))}});if(!a)return null;const A=d.isContextReady&&d.initialized,{renderComponents:k,InitializerComponent:_,InitializerProps:F,GICC_LAYOUT_COMPONENT:G,GICC_LAYOUT_PROPS:M}=((e,t)=>{const{config:n,initializer:r,GICC_LAYOUT:o,components:i,GISDK_ID:a,isContextReady:s,initialized:c}=e,{components:l}=n,d=l.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.id]:t})),{}),{component:p}=t[r.id],{props:f}=d[r.id];if(!s||!c)return{renderComponents:()=>null,InitializerComponent:p,InitializerProps:f,GICC_LAYOUT_COMPONENT:ge.component,GICC_LAYOUT_PROPS:Object.assign(Object.assign({},ge.props),{value:"render...."})};const{component:g}=t[o.id]||{component:ge.component},{props:m}=d[o.id]||{props:ge.props};return{renderComponents:()=>i.map((e=>{const{id:n,props:r={}}=e,o=t[n];if(!o)return null;const{component:i,info:s}=o;if(r.GIAC_CONTENT||r.GIAC_MENU||r.GIAC||"GICC_LAYOUT"===s.type||"GIAC_CONTENT"===s.type||"GIAC"===s.type||"GIAC_MENU"===s.type)return null;const{GI_CONTAINER:c}=r;let l={};return c&&(l={components:c.map((e=>d[e]))}),u().createElement(i,Object.assign({key:n,GISDK_ID:a,assets:t,ComponentCfgMap:d},r,l))})),InitializerComponent:p,InitializerProps:f,GICC_LAYOUT_COMPONENT:g,GICC_LAYOUT_PROPS:m}})(d,a);console.log("render....","render....",A);const R=(0,l.useMemo)((()=>{var e;const t={},n={},r=[],o=[];null===(e=O.nodes)||void 0===e||e.forEach((e=>{t[e.id]||(o.push(e),t[e.id]=e)})),O.edges.forEach((e=>{t[e.source]&&t[e.target]&&!n[e.id]&&(null==r||r.push(e),n[e.id]=e)}));const{combos:i}=O;return{nodes:o,edges:r,combos:i}}),[O]);return u().createElement(p.Provider,{value:P},u().createElement(G,Object.assign({},M),u().createElement("div",{id:`${i}-container`,style:Object.assign({width:"100%",height:"100%",position:"relative"},e.style)},u().createElement(m(),{containerId:`${i}-graphin-container`,containerStyle:{transform:"scale(1)"},data:R,layout:S,enabledStack:!0,theme:E,layoutCache:d.layoutCache},u().createElement(u().Fragment,null,A&&u().createElement(ze,null),d.isContextReady&&u().createElement(_,Object.assign({},F)),u().createElement(Le,{updateContext:f}),A&&k(),A&&t,A&&u().createElement(fe,null))))))})),Be=e=>{const{nodes:t,edges:n}=e,r=new Map;return n.forEach(((e,t)=>{const{source:n,target:o,edgeType:i}=e,a=`${n}->${i}->${o}`,s=r.get(a);s?r.set(a,[...s,Object.assign(Object.assign({},e),{id:e.id||`${n}-${o}-${t}`})]):r.set(a,[Object.assign(Object.assign({},e),{id:e.id||`${n}-${o}-${t}`})])})),{nodes:t,edges:[...r.keys()].map((e=>{const t=r.get(e),n=t[0],{source:o,target:i,edgeType:a,edgeTypeKeyFromProperties:s}=n;return t.length>1?{source:o,target:i,edgeType:a,edgeTypeKeyFromProperties:s,aggregate:t.map((t=>Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{GI_AGGREGATE_ID:e})}))),GI_AGGREGATE_ID:e,data:{source:o,target:i,[s]:a,aggregate:t,aggregateCount:`汇总：${t.length} 条`}}:Object.assign({},n)}))}},Ue=(e,t,n,r)=>{if(t===n){const r=e.edges.filter((e=>e.source===t&&e.target===n));return{allNodePath:new Array(r.length).fill([t,t]),allEdgePath:r.map((e=>[e.id]))}}const{edges:o=[]}=e,i=[t],a=[],s={[t]:!0},c=[],l=[],u=[];let d=r?qe(t,o,"target"):qe(t,o);for(c.push(d);i.length>0&&c.length>0;){const e=c[c.length-1];if(e.length){{const t=e.shift();t&&(i.push(t.node),a.push(t.edge),s[t.node]=!0,d=r?qe(t.node,o,"target"):qe(t.node,o),c.push(d.filter((e=>!s[e.node]))))}if(i[i.length-1]===n){const e=i.map((e=>e));l.push(e),u.push([...a]);const t=i.pop();a.pop(),s[t]=!1,c.pop()}}else{const e=i.pop();a.pop(),s[e]=!1,c.pop()}}return{allNodePath:l,allEdgePath:u}},qe=(e,t=[],n)=>{const r=t.filter((t=>t.source===e||t.target===e));if("target"===n){const t=t=>t.source===e;return r.filter(t).map((e=>({node:e.target,edge:e.id})))}if("source"===n){const t=t=>t.target===e;return r.filter(t).map((e=>({node:e.source,edge:e.id})))}return r.map((t=>t.source===e?{node:t.target,edge:t.id}:{node:t.source,edge:t.id}))},He=(e,t,n)=>{let r={},o={};return Object.keys(e).forEach((i=>{const a=e[i],{info:s,registerMeta:c,registerShape:l,registerTransform:u,defaultProps:d}=a,{id:p,name:f,category:g,type:m}=s,y="NODE"===m?"nodes":"edges",h=n[y].reduce(((e,t)=>{const{properties:n}=t,r=Object.keys(n).map((e=>({id:e,type:n[e]})));return[...e,...r]}),[]),b=Se(h,((e,t)=>e.id===t.id)),v=c({data:t,keys:b,schemaData:n}),x=Object.assign(Object.assign({},a),{id:p,props:d,name:f,info:s,meta:v});"nodes"===y&&(r=Object.assign(Object.assign({},r),{[p]:x})),"edges"===y&&(o=Object.assign(Object.assign({},o),{[p]:x}))})),{nodes:r,edges:o}},Ve=e=>{const t="props",n={},r=(e,t,n)=>{const{type:o,properties:i}=e;if("void"!==o)if("object"!==o)t[n]=e.default;else{t[n]={};const e=t[n];Object.keys(i).forEach((t=>{r(i[t],e,t)}))}else Object.keys(i).forEach((e=>{r(i[e],t,e)}))};return r(e,n,t),n[t]},Je=function(e){const t="____PLACEHOLDER____",n=[];let r=JSON.stringify(e,((e,r)=>"function"==typeof r?(n.push(r),t):r),2);return r=r.replace(new RegExp('"'+t+'"',"g"),(function(e){return n.shift()})),"export default "+r},Ye=e=>Object.keys(e).map((t=>{const n=e[t];if(!n)return[];const{mockServices:r}=n;return r?r().map((e=>({id:e.id,mode:"MOCK",name:e.name||e.id,content:Je(e.service)}))):[]})).reduce(((e,t)=>[...e,...t]),[]).filter((e=>e)),We=(e,t)=>{new Map;const n=new Map,r=new Map,{nodes:o,edges:i}=t;o.forEach((e=>{const t=JSON.stringify(e.expressions);n.set(t,e)})),i.forEach((e=>{const t=JSON.stringify(e.expressions);r.set(t,e)}));const a=e.nodes.map(((e,t)=>{const{nodeType:r,nodeTypeKeyFromProperties:o}=e,i=[{name:o,operator:"eql",value:r}],a=JSON.stringify(i),s=n.get(a);return{id:r,style:{keyshape:{size:20,fill:s&&s.props&&s.props.color||"#ddd",fillOpacity:1},label:{value:r}}}})),s=e.edges.map((e=>{const{edgeType:t,edgeTypeKeyFromProperties:n}=e,o=[{name:n,operator:"eql",value:t}],i=JSON.stringify(o),a=r.get(i),s=a&&a.props&&a.props.color||"#ddd";return{source:e.sourceNodeType,target:e.targetNodeType,style:{keyshape:{stroke:s},label:{value:e.edgeType,fill:s,fontSize:12,background:{fill:"#fff",radius:4,stroke:s}}}}}));return{nodes:a,edges:g.Utils.processEdges(s)}},Xe=e=>{const{hash:t}=e,[n,r]=t.split("?");return{path:n,searchParams:new URLSearchParams(r)}},Qe=(e,t)=>e.map((e=>{const{id:n,content:r,mode:o}=e,i=(null==r?void 0:r.split("export default")[1])||r,a=Function('"use strict";return ('+i+")")();return{id:n,service:(...e)=>a(...e,t)}})),et=(e,t)=>{const n=e.save(),r=t.nodes.map((e=>e.id)),o=[];t.edges.forEach((e=>{const{aggregate:t}=e;t?t.forEach((e=>{o.push(e.id)})):o.push(e.id)}));const i=n.nodes.length,a=o.length,s=t.nodes.length,c=t.edges.length,l=0===s&&0===c,u=s===i&&c===a;return l||u?(n.nodes.forEach((function(t){e.clearItemStates(t.id)})),n.edges.forEach((function(t){e.clearItemStates(t.id)})),{isEmpty:l,isFull:u}):(n.nodes.forEach((t=>{r.includes(t.id)?(e.setItemState(t.id,"disabled",!1),e.setItemState(t.id,"selected",!0)):(e.setItemState(t.id,"selected",!1),e.setItemState(t.id,"disabled",!0))})),n.edges.forEach((t=>{const{aggregate:n,id:r}=t;let i=!1;i=n?n.map((e=>e.id)).some((e=>o.includes(e))):o.includes(r),i?(e.setItemState(t.id,"disabled",!1),e.setItemState(t.id,"selected",!0)):(e.setItemState(t.id,"selected",!1),e.setItemState(t.id,"disabled",!0))})),{isEmpty:l,isFull:u})},tt=(e,t)=>{const n=e.save(),r=0===t.length;return r?(n.edges.forEach((function(t){e.clearItemStates(t.id)})),{isEmpty:r}):(n.edges.forEach((n=>{const{aggregate:r,id:o,source:i,target:a}=n;let s=!1;s=r?r.map((e=>e.id)).some((e=>t.includes(e))):t.includes(o),s?(e.setItemState(o,"disabled",!1),e.setItemState(o,"selected",!0),e.setItemState(i,"selected",!0),e.setItemState(a,"selected",!0),e.updateItem(o,{style:{animate:{visible:!0,type:"circle-running",color:"rgba(236,65,198,1)",repeat:!0,duration:1e3}}})):(e.setItemState(o,"selected",!1),e.setItemState(o,"disabled",!0),e.setItemState(i,"disable",!0),e.setItemState(a,"disable",!0),e.setItemState(i,"selected",!1),e.setItemState(a,"selected",!1),e.updateItem(o,{style:{animate:{visible:!1,type:"circle-running",color:"rgba(236,65,198,1)",repeat:!0,duration:1e3}}}))})),{isEmpty:r})};var nt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const rt=e=>nt(void 0,void 0,void 0,(function*(){return Promise.all([...e.map((e=>{const t=window[e.global];return t?Object.assign(Object.assign({},t),e):(e=>nt(void 0,void 0,void 0,(function*(){return new Promise((t=>{const n=document.createElement("script");n.type="text/javascript",n.charset="UTF-8",n.id=e.global||e.url,n.src=e.url,document.body.append(n);const r=document.createElement("link"),o=e.url.replace("min.js","css");r.href=o,r.type="text/css",r.rel="stylesheet",document.head.append(r),n.onload=()=>{t(n)},n.onerror=()=>{t(n)}}))})))(e).then((t=>{let n=window[e.global];if(n)return n.hasOwnProperty("default")&&(n=n.default),Object.assign(Object.assign({},n),e);console.warn(`${e.global} is not found`)}))}))]).then((e=>e.filter((e=>e))))})),ot=(e,t,n)=>{if(!e)return{};const r=Object.keys(e).reduce(((r,o)=>Object.assign(Object.assign({},r),{[o]:Object.assign(Object.assign({},e[o]),{version:t,pkg:n})})),{});return r},it=e=>nt(void 0,void 0,void 0,(function*(){return rt(e).then((e=>e))})),at=(e,t)=>nt(void 0,void 0,void 0,(function*(){let n;if(t){const r=t.map((e=>e.global)),o=e.filter((e=>-1==r.indexOf(e.global))),i=yield rt(o).then((e=>e));n=[...t,...i]}else n=yield rt(e).then((e=>e));return n.reduce(((e,t)=>{const{components:n,version:r,name:o,elements:i,layouts:a,services:s}=t,c=ot(n,r,o),l=ot(i,r,o),u=ot(a,r,o);return{components:Object.assign(Object.assign({},e.components),c),elements:Object.assign(Object.assign({},e.elements),l),layouts:Object.assign(Object.assign({},e.layouts),u),services:s?[...e.services,Object.assign({version:r,pkg:o},s)]:e.services}}),{components:{},elements:{},layouts:{},services:[]})})),st=()=>{const e=JSON.parse(localStorage.getItem("GI_ASSETS_PACKAGES")||"{}");return Object.values(e)},ct=(e,t)=>{const{nodes:n,edges:r}=e,o=[],i=[],{nodeType:a="UNKNOW",edgeType:s="UNKNOW",nodeTypeFromProperties:c,edgeTypeFromProperties:l}=t||{};return n.forEach((e=>{const{nodeType:t=a,data:n,nodeTypeKeyFromProperties:r=c}=e,i={nodeType:t,nodeTypeKeyFromProperties:r,properties:{}};for(const e in n)if("object"==typeof n[e])for(const t in n[e])"object"!=typeof n[e][t]&&(i.properties[`${e}.${t}`]=typeof n[e][t]);else i.properties[e]=typeof n[e];o.find((e=>e.nodeType===t))||o.push(i)})),r.forEach((e=>{const{edgeType:t=s,source:r,target:o,data:a,edgeTypeKeyFromProperties:c=l}=e,u={edgeType:t,edgeTypeKeyFromProperties:c,sourceNodeType:"",targetNodeType:"",properties:{}},d=n.find((e=>e.id===r)),p=n.find((e=>e.id===o));d||console.warn("数据不合法,找不到 Source ID：",r),p||console.warn("数据不合法,找不到 Target ID：",o),d&&p&&(u.sourceNodeType=d.nodeType,u.targetNodeType=p.nodeType);for(const e in a)if("object"==typeof a[e])for(const t in a[e])"object"!=typeof a[e][t]&&(u.properties[`${e}.${t}`]=typeof a[e][t]);else u.properties[e]=typeof a[e];i.find((e=>e.edgeType===t))||i.push(u)})),{nodes:o,edges:i}},lt=["#3056E3","#faad14","#a0d911","#f5222d","#722ed1","#eb2f96","#2f54eb","#13c2c2","#52c41a","#fadb14","#fa8c16","#820014","#873800","#874d00","#876800","#3f6600","#135200","#00474f","#003a8c","#061178","#22075e","#780650"],ut=new Map,dt={id:"SimpleNode",props:{size:26,color:"#ddd",label:[]},name:"官方节点",order:-1,expressions:[],logic:!0,groupName:"默认样式"},pt={id:"SimpleEdge",props:{size:1,color:"#ddd",label:[]},name:"官方边",order:-1,expressions:[],logic:!0,groupName:"默认样式"},ft=(e,t={})=>{const{nodes:n,edges:r,meta:o={defaultLabelField:"id"}}=e,{defaultLabelField:i}=o;let a=!1,s=!1;const c=n.map(((e,t)=>{const n=t%lt.length;return ut.set(e.nodeType,lt[n]),"UNKNOW"===e.nodeType?(a=!0,Object.assign({},dt)):{id:"SimpleNode",props:{size:26,color:lt[n]||"#ddd",label:[`${e.nodeType}^^${i}`]},name:"官方节点",expressions:[{name:e.nodeTypeKeyFromProperties,operator:"eql",value:e.nodeType}],order:t,logic:!0,groupName:`${String(e.nodeType).toUpperCase()} TYPE`}})).sort(((e,t)=>e.order-t.order)),l=r.map(((e,t)=>"UNKNOW"===e.edgeType?(s=!0,Object.assign({},pt)):{id:"SimpleEdge",props:{size:1,color:ut.get(e.sourceNodeType)||"#ddd",label:[]},name:"官方边",expressions:[{name:e.edgeTypeKeyFromProperties,operator:"eql",value:e.edgeType}],order:t,logic:!0,groupName:`${String(e.edgeType).toUpperCase()} TYPE`})).sort(((e,t)=>e.order-t.order));let u=c,d=l;return a||(u=[dt,...c]),s||(d=[pt,...l]),Object.assign(Object.assign({},t),{nodes:u,edges:d})},gt=(e,t)=>{const n=new Map;return t.forEach((e=>{const t=JSON.stringify(e.expressions);n.set(t,e)})),e.map((e=>{const t=JSON.stringify(e.expressions);return n.get(t)||e}))},mt=(e,t)=>({nodes:gt(e.nodes,t.nodes),edges:gt(e.edges,t.edges)}),yt=(e={})=>{try{const t=JSON.parse(localStorage.getItem("SERVER_ENGINE_CONTEXT")||"{}");return Object.assign(Object.assign({},e),t)}catch(e){return console.error(e),{}}},ht=e=>{try{const t=JSON.parse(localStorage.getItem("SERVER_ENGINE_CONTEXT")||"{}");localStorage.setItem("SERVER_ENGINE_CONTEXT",JSON.stringify(Object.assign(Object.assign({},t),e)))}catch(e){console.error(e)}},bt=(e,t)=>e.filter((e=>e.id.includes(t))).map((e=>({value:e.id,label:e.id}))),vt=(e,t,n)=>{const r=e.filter((e=>e.id.includes(t))).map((e=>({value:e.id,label:e.id}))),o=r.find((e=>e.value.startsWith(n)))||r[0];return{options:r,defaultValue:o.value}},xt=e=>{const t=[];return e.forEach((e=>{const{id:n,services:r}=e,o=t[n];t[n]=o?Object.assign(Object.assign(Object.assign({},o),e),{services:Object.assign(Object.assign({},o.services),r)}):e})),Object.values(t)},Ot=e=>{if(!e)return[];const t=e.reverse().reduce(((e,t)=>{if(!t.services)return[...e];const{id:n,services:r}=t,o=Object.keys(r).map((e=>{const t=r[e];return Object.assign(Object.assign({},t),{id:`${n}/${e}`})}));return[...e,...o]}),[]);return Se(t,((e,t)=>e.id===t.id))};var St=i(452);const It={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wt=i(703),jt=i(861),Tt=i(608),Nt=i.n(Tt),Pt=i(158),At=i(440),kt=["icon","className","onClick","style","primaryColor","secondaryColor"],_t={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},Ft=function(e){var t=e.icon,n=e.className,r=e.onClick,o=e.style,i=e.primaryColor,a=e.secondaryColor,s=(0,jt.Z)(e,kt),c=_t;if(i&&(c={primaryColor:i,secondaryColor:a||(0,At.pw)(i)}),(0,At.C3)(),(0,At.Kp)((0,At.r)(t),"icon should be icon definiton, but got ".concat(t)),!(0,At.r)(t))return null;var l=t;return l&&"function"==typeof l.icon&&(l=(0,St.Z)((0,St.Z)({},l),{},{icon:l.icon(c.primaryColor,c.secondaryColor)})),(0,At.R_)(l.icon,"svg-".concat(l.name),(0,St.Z)({className:n,onClick:r,style:o,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};Ft.displayName="IconReact",Ft.getTwoToneColors=function(){return(0,St.Z)({},_t)},Ft.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;_t.primaryColor=t,_t.secondaryColor=n||(0,At.pw)(t),_t.calculated=!!n};const Gt=Ft;function Mt(e){var t=Et((0,At.H9)(e),2),n=t[0],r=t[1];return Gt.setTwoToneColors({primaryColor:n,secondaryColor:r})}var Rt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Mt("#1890ff");var Dt=l.forwardRef((function(e,t){var n,r=e.className,o=e.icon,i=e.spin,a=e.rotate,s=e.tabIndex,c=e.onClick,u=e.twoToneColor,d=(0,jt.Z)(e,Rt),p=l.useContext(Pt.Z).prefixCls,f=void 0===p?"anticon":p,g=Nt()(f,(n={},(0,wt.Z)(n,"".concat(f,"-").concat(o.name),!!o.name),(0,wt.Z)(n,"".concat(f,"-spin"),!!i||"loading"===o.name),n),r),m=s;void 0===m&&c&&(m=-1);var y=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,h=Et((0,At.H9)(u),2),b=h[0],v=h[1];return l.createElement("span",(0,St.Z)((0,St.Z)({role:"img","aria-label":o.name},d),{},{ref:t,tabIndex:m,onClick:c,className:g}),l.createElement(Gt,{icon:o,primaryColor:b,secondaryColor:v,style:y}))}));Dt.displayName="AntdIcon",Dt.getTwoToneColor=function(){var e=Gt.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Dt.setTwoToneColor=Mt;const $t=Dt;var Lt=function(e,t){return l.createElement($t,(0,St.Z)((0,St.Z)({},e),{},{ref:t,icon:It}))};Lt.displayName="CaretRightOutlined";const Zt=l.forwardRef(Lt),{Panel:zt}=c.Collapse,Kt=e=>{const{title:t,extra:n,children:r,defaultActive:o}=e,i=!1!==o?["card"]:[];return l.createElement("div",{className:"gi-collapse-card"},l.createElement(c.Collapse,{defaultActiveKey:i,collapsible:"header",expandIcon:({isActive:e})=>l.createElement(Zt,{rotate:e?90:0}),bordered:!1},l.createElement(zt,{key:"card",header:t,extra:n},r)))},Bt=e=>{const{logo:t,title:n,desc:r,docs:o,style:i}=e;return u().createElement(c.Row,{style:Object.assign({background:"rgb(245, 248, 255)",transition:"all 0.3s ease 0s",padding:"24px 0px"},i)},u().createElement(c.Col,{span:12,style:{display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center"}},u().createElement("img",{width:"250px",src:t,alt:""})),u().createElement(c.Col,{span:12,style:{display:"flex",flexDirection:"column"}},u().createElement("h2",null,n),u().createElement("p",null,r),u().createElement("p",null,u().createElement(c.Button,{type:"primary",icon:u().createElement(s.Z,{type:"icon-book"}),size:"small",onClick:()=>{o&&window.open(o)}},"使用文档"))))},Ut="2.0.2";console.log(`%c 🎉 GI_SDK_VERSION:${Ut}`,"color:#3e5dff");const qt={GIAC_CONTENT_METAS:n,GIAC_CONTENT_PROPS:{GI_CONTAINER_INDEX:0,GIAC_CONTENT:{visible:!1,isShowTitle:!0,isShowIcon:!0,isShowTooltip:!0,title:"",icon:"",disabled:!1,placement:"RT",offset:[0,60],hasDivider:!1,tooltip:"",tooltipPlacement:"top",tooltipColor:"#3056e3",isVertical:!1,height:"40px",containerType:"drawer",containerWidth:"400px",contaienrMask:!1}},GIAC_METAS:r,GIAC_PROPS:o,GI_CONTAINER_METAS:{placement:{title:"放置方位",type:"string","x-decorator":"FormItem","x-component":"Select","x-component-props":{options:[{value:"LT",label:"左上 / top"},{value:"RT",label:"右上 / right"},{value:"LB",label:"左下 / left"},{value:"RB",label:"右下 / bottom"}]},default:"LT"},offset:{title:"偏移距离",type:"string","x-decorator":"FormItem","x-component":"Offset",default:[0,0]},height:{title:"高度",type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{},default:"46px"},width:{title:"宽度",type:"string","x-decorator":"FormItem","x-component":"Input","x-component-props":{},default:"100%"}},deepClone:e=>JSON.parse(JSON.stringify(e)),GIAComponent:e=>{const{GIAC:t,onClick:n,className:r}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["GIAC","onClick","className"]),{tooltip:a,tooltipPlacement:l,tooltipColor:p,hasDivider:f,isShowTitle:g,title:m,isShowIcon:y,icon:h,isVertical:b,height:v="40px",disabled:x,isShowTooltip:O}=t||o.GIAC;return u().createElement("div",Object.assign({},i),u().createElement(d,{title:m,tooltip:a,tooltipColor:p,tooltipPlacement:l,isShowTooltip:O},u().createElement(c.Button,{type:"text",style:b?{height:v}:{},disabled:x,onClick:n,className:r},y&&u().createElement(s.Z,{type:h}),b&&u().createElement("br",null),g&&m)),f&&u().createElement(c.Divider,{type:"vertical"}))}},Ht=Ke})(),a})()));